{"version":3,"file":"ProfileView-BPD0OJb3.js","sources":["../../../resources/js/stores/badgeStore.js","../../../resources/js/stores/xpStore.js","../../../resources/js/components/profile/ProfileStats.vue","../../../resources/js/components/profile/ProfileBadgeGallery.vue","../../../resources/js/components/profile/AchievementsTimeline.vue","../../../resources/js/components/profile/XpHistoryChart.vue","../../../resources/js/components/profile/LevelJourney.vue","../../../resources/js/views/ProfileView.vue"],"sourcesContent":["/**\r\n * Badge Store\r\n * Manages badges and user badge data\r\n */\r\nimport { defineStore } from 'pinia'\r\nimport { ref, computed } from 'vue'\r\nimport api from '@/lib/api'\r\nimport endpoints from '@/lib/endpoints'\r\n\r\nexport const useBadgeStore = defineStore('badge', () => {\r\n  // State\r\n  const loading = ref(false)\r\n  const error = ref(null)\r\n  const badges = ref([])\r\n  const userBadges = ref([])\r\n\r\n  // Getters\r\n  const allBadges = computed(() => badges.value)\r\n  const earnedBadges = computed(() => userBadges.value)\r\n  const topBadges = computed(() => {\r\n    // Return top 4 badges (earned first, then by XP reward)\r\n    const earned = userBadges.value.slice(0, 4)\r\n    if (earned.length >= 4) return earned\r\n    \r\n    const unearned = badges.value\r\n      .filter(b => !userBadges.value.find(ub => ub.id === b.id))\r\n      .sort((a, b) => (b.xp_reward || 0) - (a.xp_reward || 0))\r\n      .slice(0, 4 - earned.length)\r\n    \r\n    return [...earned, ...unearned]\r\n  })\r\n\r\n  /**\r\n   * Fetch all badges\r\n   */\r\n  const fetchAllBadges = async () => {\r\n    try {\r\n      loading.value = true\r\n      error.value = null\r\n      const response = await api.get(endpoints.badges.list())\r\n      badges.value = response.data.data\r\n      return response.data.data\r\n    } catch (err) {\r\n      error.value = err.response?.data?.message || 'Failed to fetch badges'\r\n      throw err\r\n    } finally {\r\n      loading.value = false\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Fetch badges for user\r\n   * @param {number|string} userId - User ID\r\n   */\r\n  const fetchUserBadges = async (userId) => {\r\n    try {\r\n      loading.value = true\r\n      error.value = null\r\n      const response = await api.get(endpoints.badges.user(userId))\r\n      userBadges.value = response.data.data\r\n      return response.data.data\r\n    } catch (err) {\r\n      error.value = err.response?.data?.message || 'Failed to fetch user badges'\r\n      throw err\r\n    } finally {\r\n      loading.value = false\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Award badge to user (admin feature)\r\n   * @param {object} payload - { user_id, badge_id }\r\n   */\r\n  const awardBadge = async (payload) => {\r\n    try {\r\n      loading.value = true\r\n      error.value = null\r\n      const response = await api.post(endpoints.badges.award(), payload)\r\n      // Refresh user badges after awarding\r\n      if (payload.user_id) {\r\n        await fetchUserBadges(payload.user_id)\r\n      }\r\n      return response.data.data\r\n    } catch (err) {\r\n      error.value = err.response?.data?.message || 'Failed to award badge'\r\n      throw err\r\n    } finally {\r\n      loading.value = false\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clear badge data\r\n   */\r\n  const clearBadges = () => {\r\n    badges.value = []\r\n    userBadges.value = []\r\n    error.value = null\r\n  }\r\n\r\n  return {\r\n    // State\r\n    loading,\r\n    error,\r\n    badges,\r\n    userBadges,\r\n    // Getters\r\n    allBadges,\r\n    earnedBadges,\r\n    topBadges,\r\n    // Actions\r\n    fetchAllBadges,\r\n    fetchUserBadges,\r\n    awardBadge,\r\n    clearBadges\r\n  }\r\n})\r\n\r\n","/**\r\n * XP Store\r\n * Manages XP logs and summary data\r\n */\r\nimport { defineStore } from 'pinia'\r\nimport { ref, computed } from 'vue'\r\nimport api from '@/lib/api'\r\nimport endpoints from '@/lib/endpoints'\r\n\r\nexport const useXpStore = defineStore('xp', () => {\r\n  // State\r\n  const loading = ref(false)\r\n  const error = ref(null)\r\n  const xpLogs = ref([])\r\n  const xpSummary = ref(null)\r\n\r\n  // Getters\r\n  const logs = computed(() => xpLogs.value)\r\n  const summary = computed(() => xpSummary.value)\r\n\r\n  /**\r\n   * Fetch XP logs for user\r\n   * @param {number|string} userId - User ID\r\n   * @param {object} params - Query parameters (page, per_page)\r\n   */\r\n  const fetchXpLogs = async (userId, params = {}) => {\r\n    try {\r\n      loading.value = true\r\n      error.value = null\r\n      const response = await api.get(endpoints.xp.logs(userId), params)\r\n      xpLogs.value = response.data.data\r\n      return response.data.data\r\n    } catch (err) {\r\n      error.value = err.response?.data?.message || 'Failed to fetch XP logs'\r\n      throw err\r\n    } finally {\r\n      loading.value = false\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Fetch XP summary for user\r\n   * @param {number|string} userId - User ID\r\n   */\r\n  const fetchXpSummary = async (userId) => {\r\n    try {\r\n      loading.value = true\r\n      error.value = null\r\n      const response = await api.get(endpoints.xp.summary(userId))\r\n      xpSummary.value = response.data.data\r\n      return response.data.data\r\n    } catch (err) {\r\n      error.value = err.response?.data?.message || 'Failed to fetch XP summary'\r\n      throw err\r\n    } finally {\r\n      loading.value = false\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clear XP data\r\n   */\r\n  const clearXp = () => {\r\n    xpLogs.value = []\r\n    xpSummary.value = null\r\n    error.value = null\r\n  }\r\n\r\n  return {\r\n    // State\r\n    loading,\r\n    error,\r\n    xpLogs,\r\n    xpSummary,\r\n    // Getters\r\n    logs,\r\n    summary,\r\n    // Actions\r\n    fetchXpLogs,\r\n    fetchXpSummary,\r\n    clearXp\r\n  }\r\n})\r\n\r\n","<!--\r\n  ProfileStats Component\r\n  Purpose: Show key numeric counters with animated number transitions\r\n  Props: stats (Object with stat values)\r\n-->\r\n<template>\r\n  <div class=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4\">\r\n    <TransitionGroup name=\"stat\" tag=\"div\" class=\"contents\">\r\n      <div\r\n        v-for=\"stat in statsList\"\r\n        :key=\"stat.key\"\r\n        class=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 text-center hover:shadow-md transition-shadow\"\r\n      >\r\n        <div class=\"flex items-center justify-center mb-2\">\r\n          <span class=\"text-2xl\">{{ stat.icon }}</span>\r\n        </div>\r\n        <div class=\"text-2xl font-bold text-gray-900 dark:text-white mb-1\">\r\n          {{ animatedValue(stat.key) }}\r\n        </div>\r\n        <div class=\"text-xs text-gray-500 dark:text-gray-400\">\r\n          {{ stat.label }}\r\n        </div>\r\n      </div>\r\n    </TransitionGroup>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, ref, watch, onMounted } from 'vue'\r\n\r\nconst props = defineProps({\r\n  stats: {\r\n    type: Object,\r\n    default: () => ({\r\n      xp_total: 0,\r\n      level: 0,\r\n      badges_count: 0,\r\n      tasks_completed: 0,\r\n      answers_count: 0,\r\n      questions_count: 0\r\n    })\r\n  }\r\n})\r\n\r\nconst animatedValues = ref({})\r\n\r\nconst statsList = computed(() => [\r\n  { key: 'xp_total', label: 'Total XP', icon: 'â­' },\r\n  { key: 'level', label: 'Level', icon: 'ðŸŽ¯' },\r\n  { key: 'badges_count', label: 'Badges', icon: 'ðŸ†' },\r\n  { key: 'tasks_completed', label: 'Tasks', icon: 'âœ…' },\r\n  { key: 'answers_count', label: 'Answers', icon: 'ðŸ’¬' },\r\n  { key: 'questions_count', label: 'Questions', icon: 'â“' }\r\n])\r\n\r\nconst animateValue = (key, target) => {\r\n  const start = animatedValues.value[key] || 0\r\n  const duration = 1500\r\n  const startTime = performance.now()\r\n\r\n  const animate = (currentTime) => {\r\n    const elapsed = currentTime - startTime\r\n    const progress = Math.min(elapsed / duration, 1)\r\n    \r\n    // Ease-out function\r\n    const easeOut = 1 - Math.pow(1 - progress, 3)\r\n    animatedValues.value[key] = Math.floor(start + (target - start) * easeOut)\r\n\r\n    if (progress < 1) {\r\n      requestAnimationFrame(animate)\r\n    } else {\r\n      animatedValues.value[key] = target\r\n    }\r\n  }\r\n\r\n  requestAnimationFrame(animate)\r\n}\r\n\r\nconst animatedValue = (key) => {\r\n  return animatedValues.value[key] ?? 0\r\n}\r\n\r\nwatch(() => props.stats, (newStats) => {\r\n  statsList.value.forEach(stat => {\r\n    const value = newStats[stat.key] || 0\r\n    animateValue(stat.key, value)\r\n  })\r\n}, { deep: true, immediate: true })\r\n\r\nonMounted(() => {\r\n  // Initialize with 0, then animate to actual values\r\n  statsList.value.forEach(stat => {\r\n    animatedValues.value[stat.key] = 0\r\n    const value = props.stats[stat.key] || 0\r\n    setTimeout(() => {\r\n      animateValue(stat.key, value)\r\n    }, 100)\r\n  })\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.stat-enter-active {\r\n  animation: stat-fade-in 0.5s ease-out;\r\n}\r\n\r\n.stat-enter-from {\r\n  opacity: 0;\r\n  transform: translateY(10px);\r\n}\r\n\r\n@keyframes stat-fade-in {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(10px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n/* Reduced motion support */\r\n@media (prefers-reduced-motion: reduce) {\r\n  .stat-enter-active {\r\n    animation: none !important;\r\n  }\r\n  \r\n  .stat-enter-from {\r\n    transform: none !important;\r\n  }\r\n}\r\n</style>\r\n\r\n","<!--\r\n  ProfileBadgeGallery Component\r\n  Purpose: Display all user badges in a responsive grid with filter controls\r\n  Props: badges (Array of badge objects)\r\n-->\r\n<template>\r\n  <div>\r\n    <!-- Filter Controls -->\r\n    <div class=\"flex flex-wrap items-center gap-2 mb-6\">\r\n      <button\r\n        v-for=\"filter in filters\"\r\n        :key=\"filter.key\"\r\n        type=\"button\"\r\n        @click=\"activeFilter = filter.key\"\r\n        :class=\"filterButtonClass(filter.key)\"\r\n        class=\"px-4 py-2 rounded-lg text-sm font-medium transition-all\"\r\n      >\r\n        {{ filter.label }}\r\n      </button>\r\n    </div>\r\n\r\n    <!-- Badge Grid -->\r\n    <div class=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\r\n      <TransitionGroup name=\"badge\" tag=\"div\" class=\"contents\">\r\n        <div\r\n          v-for=\"badge in filteredBadges\"\r\n          :key=\"badge.id\"\r\n          class=\"badge-gallery-item\"\r\n        >\r\n          <BadgeItem\r\n            :badge=\"badge\"\r\n            @click=\"handleBadgeClick\"\r\n          />\r\n        </div>\r\n      </TransitionGroup>\r\n    </div>\r\n\r\n    <div v-if=\"filteredBadges.length === 0\" class=\"text-center py-12 text-gray-500 dark:text-gray-400\">\r\n      No badges found for this filter.\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed } from 'vue'\r\nimport BadgeItem from '@/components/gamification/BadgeItem.vue'\r\n\r\nconst props = defineProps({\r\n  badges: {\r\n    type: Array,\r\n    default: () => []\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['view-badge'])\r\n\r\nconst activeFilter = ref('all')\r\n\r\nconst filters = [\r\n  { key: 'all', label: 'All' },\r\n  { key: 'rare', label: 'Rare' },\r\n  { key: 'quality', label: 'Quality' },\r\n  { key: 'consistency', label: 'Consistency' },\r\n  { key: 'participation', label: 'Participation' }\r\n]\r\n\r\nconst filteredBadges = computed(() => {\r\n  if (activeFilter.value === 'all') {\r\n    return props.badges\r\n  }\r\n  return props.badges.filter(badge => badge.type === activeFilter.value)\r\n})\r\n\r\nconst filterButtonClass = (filterKey) => {\r\n  return activeFilter.value === filterKey\r\n    ? 'bg-blue-600 text-white shadow-md'\r\n    : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600'\r\n}\r\n\r\nconst handleBadgeClick = (badge) => {\r\n  emit('view-badge', badge.slug)\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.badge-enter-active {\r\n  animation: badge-pop-in 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);\r\n}\r\n\r\n.badge-enter-from {\r\n  opacity: 0;\r\n  transform: scale(0.8);\r\n}\r\n\r\n.badge-gallery-item {\r\n  transition: transform 0.2s ease;\r\n}\r\n\r\n.badge-gallery-item:hover {\r\n  transform: translateY(-2px);\r\n}\r\n\r\n@keyframes badge-pop-in {\r\n  from {\r\n    opacity: 0;\r\n    transform: scale(0.8);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: scale(1);\r\n  }\r\n}\r\n\r\n/* Reduced motion support */\r\n@media (prefers-reduced-motion: reduce) {\r\n  .badge-enter-active {\r\n    animation: none !important;\r\n  }\r\n  \r\n  .badge-enter-from {\r\n    transform: none !important;\r\n  }\r\n  \r\n  .badge-gallery-item:hover {\r\n    transform: none;\r\n  }\r\n}\r\n</style>\r\n\r\n","<!--\r\n  AchievementsTimeline Component\r\n  Purpose: Show chronological achievements with vertical timeline\r\n  Props: events (Array of event objects)\r\n-->\r\n<template>\r\n  <div class=\"achievements-timeline relative\">\r\n    <TransitionGroup name=\"timeline\" tag=\"div\">\r\n      <div\r\n        v-for=\"(event, index) in sortedEvents\"\r\n        :key=\"event.id || index\"\r\n        class=\"timeline-item relative pl-8 pb-8\"\r\n        :class=\"{ 'last-item': index === sortedEvents.length - 1 }\"\r\n      >\r\n        <!-- Timeline Connector -->\r\n        <div\r\n          v-if=\"index !== sortedEvents.length - 1\"\r\n          class=\"absolute left-3 top-8 bottom-0 w-0.5 bg-gray-200 dark:bg-gray-700\"\r\n        ></div>\r\n\r\n        <!-- Timeline Dot -->\r\n        <div\r\n          :class=\"dotClasses(event.type)\"\r\n          class=\"absolute left-0 top-1 w-6 h-6 rounded-full border-2 border-white dark:border-gray-800 flex items-center justify-center z-10\"\r\n        >\r\n          <span class=\"text-xs\">{{ eventIcon(event.type) }}</span>\r\n        </div>\r\n\r\n        <!-- Event Content -->\r\n        <div class=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 shadow-sm hover:shadow-md transition-shadow\">\r\n          <div class=\"flex items-start justify-between gap-4 mb-2\">\r\n            <div class=\"flex-1\">\r\n              <h4 class=\"font-semibold text-gray-900 dark:text-white mb-1\">\r\n                {{ event.title }}\r\n              </h4>\r\n              <p class=\"text-sm text-gray-600 dark:text-gray-400 mb-2\">\r\n                {{ event.description }}\r\n              </p>\r\n              <div class=\"text-xs text-gray-500 dark:text-gray-500\">\r\n                {{ formatDate(event.timestamp) }}\r\n              </div>\r\n            </div>\r\n            <div\r\n              :class=\"typeBadgeClass(event.type)\"\r\n              class=\"px-2 py-1 text-xs font-medium rounded-full flex-shrink-0\"\r\n            >\r\n              {{ eventTypeLabel(event.type) }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </TransitionGroup>\r\n\r\n    <!-- Year Dividers (if needed) -->\r\n    <div\r\n      v-for=\"(year, yearIndex) in yearDividers\"\r\n      :key=\"`year-${year}`\"\r\n      class=\"year-divider\"\r\n      :style=\"{ top: `${yearIndex * 100}px` }\"\r\n    >\r\n      <div class=\"text-sm font-semibold text-gray-400 dark:text-gray-500\">\r\n        {{ year }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed } from 'vue'\r\n\r\nconst props = defineProps({\r\n  events: {\r\n    type: Array,\r\n    default: () => []\r\n  }\r\n})\r\n\r\nconst sortedEvents = computed(() => {\r\n  return [...props.events].sort((a, b) => {\r\n    return new Date(b.timestamp) - new Date(a.timestamp)\r\n  })\r\n})\r\n\r\nconst yearDividers = computed(() => {\r\n  const years = new Set()\r\n  props.events.forEach(event => {\r\n    const year = new Date(event.timestamp).getFullYear()\r\n    years.add(year)\r\n  })\r\n  return Array.from(years).sort((a, b) => b - a)\r\n})\r\n\r\nconst eventIcon = (type) => {\r\n  const icons = {\r\n    level: 'ðŸŽ¯',\r\n    badge: 'ðŸ†',\r\n    xp: 'â­',\r\n    task: 'âœ…',\r\n    answer_verified: 'âœ“'\r\n  }\r\n  return icons[type] || 'ðŸ“Œ'\r\n}\r\n\r\nconst dotClasses = (type) => {\r\n  const classes = {\r\n    level: 'bg-purple-500',\r\n    badge: 'bg-yellow-500',\r\n    xp: 'bg-indigo-500',\r\n    task: 'bg-blue-500',\r\n    answer_verified: 'bg-green-500'\r\n  }\r\n  return classes[type] || 'bg-gray-500'\r\n}\r\n\r\nconst typeBadgeClass = (type) => {\r\n  const classes = {\r\n    level: 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200',\r\n    badge: 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200',\r\n    xp: 'bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200',\r\n    task: 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200',\r\n    answer_verified: 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200'\r\n  }\r\n  return classes[type] || 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200'\r\n}\r\n\r\nconst eventTypeLabel = (type) => {\r\n  const labels = {\r\n    level: 'Level Up',\r\n    badge: 'Badge',\r\n    xp: 'XP Milestone',\r\n    task: 'Task',\r\n    answer_verified: 'Verified'\r\n  }\r\n  return labels[type] || 'Event'\r\n}\r\n\r\nconst formatDate = (dateString) => {\r\n  if (!dateString) return ''\r\n  const date = new Date(dateString)\r\n  const now = new Date()\r\n  const diff = now - date\r\n  const days = Math.floor(diff / (1000 * 60 * 60 * 24))\r\n  \r\n  if (days === 0) return 'Today'\r\n  if (days === 1) return 'Yesterday'\r\n  if (days < 7) return `${days} days ago`\r\n  if (days < 30) return `${Math.floor(days / 7)} weeks ago`\r\n  \r\n  return date.toLocaleDateString('en-US', {\r\n    month: 'short',\r\n    day: 'numeric',\r\n    year: date.getFullYear() !== now.getFullYear() ? 'numeric' : undefined\r\n  })\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.achievements-timeline {\r\n  position: relative;\r\n}\r\n\r\n.timeline-item {\r\n  position: relative;\r\n}\r\n\r\n.last-item {\r\n  padding-bottom: 0;\r\n}\r\n\r\n.year-divider {\r\n  position: absolute;\r\n  left: 0;\r\n  padding-left: 2rem;\r\n  margin-top: 1rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n/* Timeline animations */\r\n.timeline-enter-active {\r\n  animation: timeline-fade-up 0.5s ease-out;\r\n}\r\n\r\n.timeline-enter-from {\r\n  opacity: 0;\r\n  transform: translateY(20px);\r\n}\r\n\r\n@keyframes timeline-fade-up {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n/* Reduced motion support */\r\n@media (prefers-reduced-motion: reduce) {\r\n  .timeline-enter-active {\r\n    animation: none !important;\r\n  }\r\n  \r\n  .timeline-enter-from {\r\n    transform: none !important;\r\n  }\r\n}\r\n</style>\r\n\r\n","<!--\r\n  XpHistoryChart Component\r\n  Purpose: Visual representation of XP progress over time using SVG\r\n  Props: xpLogs (Array of XP log objects)\r\n-->\r\n<template>\r\n  <div class=\"xp-history-chart bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\">\r\n    <h3 class=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">XP History</h3>\r\n    \r\n    <div v-if=\"chartData.length === 0\" class=\"text-center py-12 text-gray-500 dark:text-gray-400\">\r\n      No XP history available\r\n    </div>\r\n\r\n    <div v-else class=\"relative\">\r\n      <!-- SVG Chart -->\r\n      <svg\r\n        :viewBox=\"`0 0 ${chartWidth} ${chartHeight}`\"\r\n        class=\"w-full h-64\"\r\n        preserveAspectRatio=\"xMidYMid meet\"\r\n      >\r\n        <!-- Grid lines -->\r\n        <defs>\r\n          <linearGradient id=\"xpGradient\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\r\n            <stop offset=\"0%\" style=\"stop-color:#3b82f6;stop-opacity:0.3\" />\r\n            <stop offset=\"100%\" style=\"stop-color:#3b82f6;stop-opacity:0\" />\r\n          </linearGradient>\r\n        </defs>\r\n\r\n        <!-- Area fill -->\r\n        <path\r\n          :d=\"areaPath\"\r\n          fill=\"url(#xpGradient)\"\r\n          class=\"xp-area\"\r\n        />\r\n\r\n        <!-- Line -->\r\n        <path\r\n          :d=\"linePath\"\r\n          fill=\"none\"\r\n          stroke=\"#3b82f6\"\r\n          stroke-width=\"2\"\r\n          class=\"xp-line\"\r\n        />\r\n\r\n        <!-- Data points -->\r\n        <circle\r\n          v-for=\"(point, index) in chartData\"\r\n          :key=\"index\"\r\n          :cx=\"point.x\"\r\n          :cy=\"point.y\"\r\n          r=\"4\"\r\n          fill=\"#3b82f6\"\r\n          class=\"xp-point\"\r\n          @mouseenter=\"showTooltip(point, $event)\"\r\n          @mouseleave=\"hideTooltip\"\r\n        />\r\n      </svg>\r\n\r\n      <!-- Tooltip -->\r\n      <div\r\n        v-if=\"tooltip.visible\"\r\n        class=\"absolute bg-gray-900 dark:bg-gray-700 text-white text-xs rounded-lg px-3 py-2 shadow-lg z-10 pointer-events-none\"\r\n        :style=\"{ left: `${tooltip.x}px`, top: `${tooltip.y}px` }\"\r\n      >\r\n        <div class=\"font-semibold\">+{{ tooltip.amount }} XP</div>\r\n        <div class=\"text-gray-300\">{{ tooltip.date }}</div>\r\n      </div>\r\n\r\n      <!-- X-axis labels -->\r\n      <div class=\"flex justify-between mt-2 text-xs text-gray-500 dark:text-gray-400\">\r\n        <span>{{ formatAxisDate(chartData[0]?.date) }}</span>\r\n        <span>{{ formatAxisDate(chartData[chartData.length - 1]?.date) }}</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, ref, watch } from 'vue'\r\n\r\nconst props = defineProps({\r\n  xpLogs: {\r\n    type: Array,\r\n    default: () => []\r\n  }\r\n})\r\n\r\nconst chartWidth = 800\r\nconst chartHeight = 200\r\nconst padding = 40\r\n\r\nconst tooltip = ref({\r\n  visible: false,\r\n  x: 0,\r\n  y: 0,\r\n  amount: 0,\r\n  date: ''\r\n})\r\n\r\nconst chartData = computed(() => {\r\n  if (!props.xpLogs || props.xpLogs.length === 0) return []\r\n\r\n  // Group by date and sum XP\r\n  const dailyXp = {}\r\n  props.xpLogs.forEach(log => {\r\n    const date = new Date(log.created_at).toDateString()\r\n    if (!dailyXp[date]) {\r\n      dailyXp[date] = { date: log.created_at, total: 0 }\r\n    }\r\n    dailyXp[date].total += log.xp_amount || 0\r\n  })\r\n\r\n  const sorted = Object.values(dailyXp)\r\n    .sort((a, b) => new Date(a.date) - new Date(b.date))\r\n\r\n  // Calculate cumulative XP\r\n  let cumulative = 0\r\n  const data = sorted.map((item, index) => {\r\n    cumulative += item.total\r\n    return {\r\n      date: item.date,\r\n      xp: cumulative,\r\n      amount: item.total,\r\n      x: padding + (index / (sorted.length - 1 || 1)) * (chartWidth - padding * 2),\r\n      y: chartHeight - padding - (cumulative / maxXp.value) * (chartHeight - padding * 2)\r\n    }\r\n  })\r\n\r\n  return data\r\n})\r\n\r\nconst maxXp = computed(() => {\r\n  if (chartData.value.length === 0) return 100\r\n  return Math.max(...chartData.value.map(d => d.xp), 100)\r\n})\r\n\r\nconst linePath = computed(() => {\r\n  if (chartData.value.length === 0) return ''\r\n  \r\n  const points = chartData.value.map(d => `${d.x},${d.y}`).join(' ')\r\n  return `M ${points}`\r\n})\r\n\r\nconst areaPath = computed(() => {\r\n  if (chartData.value.length === 0) return ''\r\n  \r\n  const points = chartData.value.map(d => `${d.x},${d.y}`).join(' ')\r\n  const first = chartData.value[0]\r\n  const last = chartData.value[chartData.value.length - 1]\r\n  return `M ${first.x},${chartHeight - padding} ${points} L ${last.x},${chartHeight - padding} Z`\r\n})\r\n\r\nconst showTooltip = (point, event) => {\r\n  const rect = event.target.closest('svg').getBoundingClientRect()\r\n  tooltip.value = {\r\n    visible: true,\r\n    x: event.clientX - rect.left - 50,\r\n    y: event.clientY - rect.top - 60,\r\n    amount: point.amount,\r\n    date: formatTooltipDate(point.date)\r\n  }\r\n}\r\n\r\nconst hideTooltip = () => {\r\n  tooltip.value.visible = false\r\n}\r\n\r\nconst formatAxisDate = (dateString) => {\r\n  if (!dateString) return ''\r\n  const date = new Date(dateString)\r\n  return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })\r\n}\r\n\r\nconst formatTooltipDate = (dateString) => {\r\n  if (!dateString) return ''\r\n  const date = new Date(dateString)\r\n  return date.toLocaleDateString('en-US', {\r\n    month: 'short',\r\n    day: 'numeric',\r\n    year: 'numeric'\r\n  })\r\n}\r\n\r\nwatch(() => props.xpLogs, () => {\r\n  // Trigger animation on data change\r\n  const paths = document.querySelectorAll('.xp-line, .xp-area')\r\n  paths.forEach(path => {\r\n    if (path instanceof SVGPathElement) {\r\n      const length = path.getTotalLength()\r\n      path.style.strokeDasharray = `${length}`\r\n      path.style.strokeDashoffset = `${length}`\r\n      path.style.transition = 'stroke-dashoffset 2s ease-out'\r\n      setTimeout(() => {\r\n        path.style.strokeDashoffset = '0'\r\n      }, 100)\r\n    }\r\n  })\r\n}, { immediate: true })\r\n</script>\r\n\r\n<style scoped>\r\n.xp-line {\r\n  transition: stroke-dashoffset 2s ease-out;\r\n}\r\n\r\n.xp-point {\r\n  cursor: pointer;\r\n  transition: r 0.2s ease;\r\n}\r\n\r\n.xp-point:hover {\r\n  r: 6;\r\n  fill: #2563eb;\r\n}\r\n\r\n/* Reduced motion support */\r\n@media (prefers-reduced-motion: reduce) {\r\n  .xp-line {\r\n    transition: none !important;\r\n  }\r\n  \r\n  .xp-point {\r\n    transition: none !important;\r\n  }\r\n}\r\n</style>\r\n\r\n","<!--\r\n  LevelJourney Component\r\n  Purpose: Show completed and upcoming levels in a horizontal scrollable view\r\n  Props: currentLevel (Object), nextLevel (Object), levels (Array)\r\n-->\r\n<template>\r\n  <div class=\"level-journey bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\">\r\n    <h3 class=\"text-lg font-semibold text-gray-900 dark:text-white mb-6\">Level Journey</h3>\r\n    \r\n    <div class=\"relative\">\r\n      <!-- Scrollable Container -->\r\n      <div class=\"overflow-x-auto pb-4 -mx-6 px-6 scrollbar-hide\">\r\n        <div class=\"flex gap-4 min-w-max\">\r\n          <div\r\n            v-for=\"(level, index) in displayLevels\"\r\n            :key=\"level.id\"\r\n            class=\"level-journey-item flex-shrink-0\"\r\n            :class=\"getLevelClass(level, index)\"\r\n          >\r\n            <!-- Level Circle -->\r\n            <div class=\"flex flex-col items-center gap-2\">\r\n              <div\r\n                :class=\"levelCircleClass(level, index)\"\r\n                class=\"w-16 h-16 rounded-full flex items-center justify-center border-4 relative transition-all\"\r\n              >\r\n                <!-- Checkmark for completed -->\r\n                <span v-if=\"isCompleted(level)\" class=\"text-2xl\">âœ“</span>\r\n                <!-- Current level indicator -->\r\n                <span v-else-if=\"isCurrent(level)\" class=\"text-xl font-bold\">{{ level.name }}</span>\r\n                <!-- Future level -->\r\n                <span v-else class=\"text-xl font-bold opacity-50\">{{ level.name }}</span>\r\n                \r\n                <!-- Glow effect for current level -->\r\n                <div\r\n                  v-if=\"isCurrent(level)\"\r\n                  class=\"absolute inset-0 rounded-full level-glow\"\r\n                ></div>\r\n              </div>\r\n              \r\n              <!-- Level Info -->\r\n              <div class=\"text-center min-w-[80px]\">\r\n                <div class=\"text-xs font-semibold text-gray-900 dark:text-white\">\r\n                  {{ level.name }}\r\n                </div>\r\n                <div class=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                  {{ level.xp_required }} XP\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Connector Line -->\r\n            <div\r\n              v-if=\"index < displayLevels.length - 1\"\r\n              :class=\"connectorClass(level, displayLevels[index + 1])\"\r\n              class=\"absolute top-8 left-full w-4 h-0.5 -ml-2\"\r\n            ></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Progress Bar -->\r\n      <div class=\"mt-6\">\r\n        <div class=\"flex items-center justify-between mb-2\">\r\n          <span class=\"text-sm text-gray-600 dark:text-gray-400\">\r\n            Progress to {{ nextLevel?.name || 'Next Level' }}\r\n          </span>\r\n          <span class=\"text-sm font-semibold text-gray-900 dark:text-white\">\r\n            {{ progressPercent }}%\r\n          </span>\r\n        </div>\r\n        <div class=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden\">\r\n          <div\r\n            class=\"h-full bg-gradient-to-r from-blue-500 to-purple-600 rounded-full transition-all duration-1000 ease-out\"\r\n            :style=\"{ width: `${progressPercent}%` }\"\r\n          ></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed } from 'vue'\r\n\r\nconst props = defineProps({\r\n  currentLevel: {\r\n    type: Object,\r\n    default: null\r\n  },\r\n  nextLevel: {\r\n    type: Object,\r\n    default: null\r\n  },\r\n  levels: {\r\n    type: Array,\r\n    default: () => []\r\n  },\r\n  currentXp: {\r\n    type: Number,\r\n    default: 0\r\n  }\r\n})\r\n\r\nconst displayLevels = computed(() => {\r\n  if (props.levels.length === 0) return []\r\n  \r\n  // Show current level and a few before/after\r\n  const currentIndex = props.levels.findIndex(l => l.id === props.currentLevel?.id)\r\n  const start = Math.max(0, currentIndex - 2)\r\n  const end = Math.min(props.levels.length, currentIndex + 5)\r\n  \r\n  return props.levels.slice(start, end)\r\n})\r\n\r\nconst isCompleted = (level) => {\r\n  if (!props.currentLevel) return false\r\n  return level.xp_required < (props.currentLevel.xp_required || 0)\r\n}\r\n\r\nconst isCurrent = (level) => {\r\n  if (!props.currentLevel) return false\r\n  return level.id === props.currentLevel.id\r\n}\r\n\r\nconst isFuture = (level) => {\r\n  if (!props.currentLevel) return true\r\n  return level.xp_required > (props.currentLevel.xp_required || 0)\r\n}\r\n\r\nconst getLevelClass = (level, index) => {\r\n  return {\r\n    'level-completed': isCompleted(level),\r\n    'level-current': isCurrent(level),\r\n    'level-future': isFuture(level)\r\n  }\r\n}\r\n\r\nconst levelCircleClass = (level, index) => {\r\n  if (isCompleted(level)) {\r\n    return 'bg-green-500 border-green-600 text-white'\r\n  } else if (isCurrent(level)) {\r\n    return 'bg-purple-500 border-purple-600 text-white'\r\n  } else {\r\n    return 'bg-gray-300 dark:bg-gray-600 border-gray-400 dark:border-gray-500 text-gray-600 dark:text-gray-300'\r\n  }\r\n}\r\n\r\nconst connectorClass = (currentLevel, nextLevel) => {\r\n  if (isCompleted(currentLevel) && isCompleted(nextLevel)) {\r\n    return 'bg-green-500'\r\n  } else if (isCompleted(currentLevel) || isCurrent(currentLevel)) {\r\n    return 'bg-gradient-to-r from-green-500 to-purple-500'\r\n  } else {\r\n    return 'bg-gray-300 dark:bg-gray-600'\r\n  }\r\n}\r\n\r\nconst progressPercent = computed(() => {\r\n  if (!props.currentLevel || !props.nextLevel) return 0\r\n  \r\n  const currentXp = props.currentXp || props.currentLevel.xp_required || 0\r\n  const currentLevelXp = props.currentLevel.xp_required || 0\r\n  const nextLevelXp = props.nextLevel.xp_required || 0\r\n  const range = nextLevelXp - currentLevelXp\r\n  \r\n  if (range === 0) return 100\r\n  \r\n  const progress = ((currentXp - currentLevelXp) / range) * 100\r\n  return Math.min(100, Math.max(0, progress))\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.level-journey-item {\r\n  position: relative;\r\n}\r\n\r\n.level-glow {\r\n  background: radial-gradient(circle, rgba(168, 85, 247, 0.4) 0%, transparent 70%);\r\n  animation: level-glow-pulse 2s ease-in-out infinite;\r\n  pointer-events: none;\r\n}\r\n\r\n@keyframes level-glow-pulse {\r\n  0%, 100% {\r\n    opacity: 0.5;\r\n    transform: scale(1);\r\n  }\r\n  50% {\r\n    opacity: 1;\r\n    transform: scale(1.2);\r\n  }\r\n}\r\n\r\n.scrollbar-hide {\r\n  -ms-overflow-style: none;\r\n  scrollbar-width: none;\r\n}\r\n\r\n.scrollbar-hide::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n\r\n/* Reduced motion support */\r\n@media (prefers-reduced-motion: reduce) {\r\n  .level-glow {\r\n    animation: none !important;\r\n    opacity: 0.5;\r\n  }\r\n}\r\n</style>\r\n\r\n","<template>\r\n  <div class=\"container mx-auto px-4 py-8\">\r\n    <div v-if=\"loading\" class=\"text-center py-12\">\r\n      <LoadingSpinner size=\"lg\" />\r\n    </div>\r\n\r\n    <div v-else-if=\"user\">\r\n      <!-- Profile Card -->\r\n      <Transition name=\"fade-in\">\r\n        <ProfileCard\r\n          :user=\"user\"\r\n          :social-links=\"user.social_links || []\"\r\n          :gamification-summary=\"gamificationSummary\"\r\n        />\r\n      </Transition>\r\n\r\n      <!-- Profile Stats -->\r\n      <Transition name=\"fade-in\" appear>\r\n        <div class=\"mb-8\">\r\n          <h2 class=\"text-2xl font-semibold text-gray-900 dark:text-white mb-4\">Statistics</h2>\r\n          <ProfileStats :stats=\"profileStats\" />\r\n        </div>\r\n      </Transition>\r\n\r\n      <!-- Level Journey -->\r\n      <Transition name=\"fade-in\" appear>\r\n        <div class=\"mb-8\">\r\n          <LevelJourney\r\n            :current-level=\"user.level\"\r\n            :next-level=\"nextLevel\"\r\n            :levels=\"allLevels\"\r\n            :current-xp=\"user.xp_total || 0\"\r\n          />\r\n        </div>\r\n      </Transition>\r\n\r\n      <!-- Badges Section -->\r\n      <Transition name=\"fade-in\" appear>\r\n        <div class=\"mb-8\">\r\n          <div class=\"flex items-center justify-between mb-4\">\r\n            <h2 class=\"text-2xl font-semibold text-gray-900 dark:text-white\">Badges</h2>\r\n            <span class=\"text-sm text-gray-500 dark:text-gray-400\">\r\n              {{ userBadges.length }} earned\r\n            </span>\r\n          </div>\r\n          <ProfileBadgeGallery\r\n            :badges=\"userBadges\"\r\n            @view-badge=\"handleViewBadge\"\r\n          />\r\n        </div>\r\n      </Transition>\r\n\r\n      <!-- XP History Chart -->\r\n      <Transition name=\"fade-in\" appear>\r\n        <div class=\"mb-8\">\r\n          <XpHistoryChart :xp-logs=\"xpLogs\" />\r\n        </div>\r\n      </Transition>\r\n\r\n      <!-- Achievements Timeline -->\r\n      <Transition name=\"fade-in\" appear>\r\n        <div class=\"mb-8\">\r\n          <h2 class=\"text-2xl font-semibold text-gray-900 dark:text-white mb-4\">Achievements Timeline</h2>\r\n          <AchievementsTimeline :events=\"timelineEvents\" />\r\n        </div>\r\n      </Transition>\r\n    </div>\r\n\r\n    <div v-else class=\"text-center py-12\">\r\n      <p class=\"text-gray-500 dark:text-gray-400\">User not found</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, watch } from 'vue'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport { useAuthStore } from '@/stores/auth'\r\nimport { useUserStore } from '@/stores/userStore'\r\nimport { useBadgeStore } from '@/stores/badgeStore'\r\nimport { useXpStore } from '@/stores/xpStore'\r\nimport { useLevelStore } from '@/stores/levelStore'\r\nimport { useQuestionStore } from '@/stores/questionStore'\r\nimport { useAnswerStore } from '@/stores/answerStore'\r\nimport ProfileCard from '@/components/profile/ProfileCard.vue'\r\nimport ProfileStats from '@/components/profile/ProfileStats.vue'\r\nimport ProfileBadgeGallery from '@/components/profile/ProfileBadgeGallery.vue'\r\nimport AchievementsTimeline from '@/components/profile/AchievementsTimeline.vue'\r\nimport XpHistoryChart from '@/components/profile/XpHistoryChart.vue'\r\nimport LevelJourney from '@/components/profile/LevelJourney.vue'\r\nimport LoadingSpinner from '@/components/ui/LoadingSpinner.vue'\r\nimport { useGlobalDataStore } from '@/stores/globalData'\r\n\r\n// Declare emits to avoid Vue warnings\r\ndefineEmits(['share_url'])\r\n\r\nconst route = useRoute()\r\nconst router = useRouter()\r\n\r\nconst authStore = useAuthStore()\r\nconst userStore = useUserStore()\r\nconst badgeStore = useBadgeStore()\r\nconst xpStore = useXpStore()\r\nconst levelStore = useLevelStore()\r\nconst questionStore = useQuestionStore()\r\nconst answerStore = useAnswerStore()\r\nconst globalDataStore = useGlobalDataStore()\r\n\r\nconst loading = ref(true)\r\nconst allLevels = ref([])\r\n\r\n// Use store computed values\r\nconst user = computed(() => userStore.userProfile)\r\nconst userBadges = computed(() => badgeStore.earnedBadges?.value || [])\r\nconst xpLogs = computed(() => xpStore.logs?.value || [])\r\nconst xpSummary = computed(() => xpStore.summary?.value)\r\nconst levelProgress = computed(() => levelStore.levelProgress?.value)\r\nconst gamificationSummary = computed(() => {\r\n  // Get from API response if available, otherwise from globalDataStore\r\n  if (user.value?.gamification?.summary) {\r\n    return user.value.gamification.summary\r\n  }\r\n  return globalDataStore.gamificationSummary\r\n})\r\n\r\n// Computed properties\r\nconst nextLevel = computed(() => {\r\n  if (!user.value?.level || !allLevels.value.length) return null\r\n  \r\n  const currentIndex = allLevels.value.findIndex(l => l.id === user.value.level.id)\r\n  return allLevels.value[currentIndex + 1] || null\r\n})\r\n\r\nconst profileStats = computed(() => ({\r\n  xp_total: user.value?.xp_total || 0,\r\n  level: user.value?.level?.name || 'Level 1',\r\n  badges_count: (userBadges.value || []).length,\r\n  tasks_completed: 0, // TODO: Get from task store when available\r\n  answers_count: (answerStore.allAnswers?.value || []).length,\r\n  questions_count: (questionStore.allQuestions?.value || []).length\r\n}))\r\n\r\nconst timelineEvents = computed(() => {\r\n  const events = []\r\n\r\n  // XP log events\r\n  (xpLogs.value || []).forEach(log => {\r\n    if (log.event_type === 'answer_verified') {\r\n      events.push({\r\n        id: `xp-${log.id}`,\r\n        type: 'answer_verified',\r\n        timestamp: log.created_at,\r\n        title: 'Verified Answer',\r\n        description: 'Your answer was accepted as verified.',\r\n        data: log\r\n      })\r\n    }\r\n    \r\n    if (log.event_type?.includes('task')) {\r\n      events.push({\r\n        id: `task-${log.id}`,\r\n        type: 'task',\r\n        timestamp: log.created_at,\r\n        title: 'Task Completed',\r\n        description: `Completed ${log.event_type.replace('_', ' ')}`,\r\n        data: log\r\n      })\r\n    }\r\n\r\n    // XP milestones (every 100 XP or significant amounts)\r\n    if (log.xp_amount && (log.xp_amount % 100 === 0 || log.xp_amount >= 50)) {\r\n      events.push({\r\n        id: `milestone-${log.id}`,\r\n        type: 'xp',\r\n        timestamp: log.created_at,\r\n        title: `+${log.xp_amount} XP Milestone`,\r\n        description: `Earned ${log.xp_amount} XP for ${log.event_type}`,\r\n        data: log\r\n      })\r\n    }\r\n  })\r\n\r\n  // Level-up events\r\n  if (user.value?.level) {\r\n    events.push({\r\n      id: `level-${user.value.level.id}`,\r\n      type: 'level',\r\n      timestamp: user.value.level.updated_at || user.value.created_at,\r\n      title: `Reached ${user.value.level.name}`,\r\n      description: `You progressed to ${user.value.level.tier} tier.`,\r\n      data: user.value.level\r\n    })\r\n  }\r\n\r\n  // Badge unlock events\r\n  (userBadges.value || []).forEach(badge => {\r\n    if (badge.awarded_at || badge.pivot?.awarded_at) {\r\n      events.push({\r\n        id: `badge-${badge.id}`,\r\n        type: 'badge',\r\n        timestamp: badge.awarded_at || badge.pivot?.awarded_at,\r\n        title: `Badge Unlocked: ${badge.name}`,\r\n        description: badge.description || 'You earned a new badge!',\r\n        data: badge\r\n      })\r\n    }\r\n  })\r\n\r\n  // Sort by timestamp (newest first)\r\n  return events.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp))\r\n})\r\n\r\nonMounted(async () => {\r\n  const username = route.params.username || route.params.id\r\n  \r\n  try {\r\n    await userStore.fetchUserProfile(username)\r\n    // Fetch global data for gamification if not in response\r\n    if (!user.value?.gamification) {\r\n      await globalDataStore.fetchGlobalData()\r\n    }\r\n    // await Promise.all([\r\n    //   badgeStore.fetchUserBadges(userId),\r\n    //   xpStore.fetchXpLogs(userId),\r\n    //   xpStore.fetchXpSummary(userId),\r\n    //   levelStore.fetchLevelProgress(userId),\r\n    //   levelStore.fetchLevels()\r\n    // ])\r\n    \r\n    // allLevels.value = levelStore.allLevels\r\n    loading.value = false\r\n  } catch (error) {\r\n    console.error('Error loading profile:', error)\r\n    loading.value = false\r\n  }\r\n})\r\n\r\nconst handleViewBadge = (badgeSlug) => {\r\n  router.push(`/badges/${badgeSlug}`)\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* Fade-in transitions */\r\n.fade-in-enter-active {\r\n  animation: fade-in 0.6s ease-out;\r\n}\r\n\r\n.fade-in-enter-from {\r\n  opacity: 0;\r\n  transform: translateY(10px);\r\n}\r\n\r\n@keyframes fade-in {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(10px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n/* Reduced motion support */\r\n@media (prefers-reduced-motion: reduce) {\r\n  .fade-in-enter-active {\r\n    animation: none !important;\r\n  }\r\n  \r\n  .fade-in-enter-from {\r\n    transform: none !important;\r\n  }\r\n}\r\n</style>\r\n"],"names":["useBadgeStore","defineStore","loading","ref","error","badges","userBadges","allBadges","computed","earnedBadges","topBadges","earned","unearned","b","ub","fetchAllBadges","response","api","endpoints","err","_b","_a","fetchUserBadges","userId","payload","useXpStore","xpLogs","xpSummary","logs","summary","params","props","__props","animatedValues","statsList","animateValue","key","target","start","duration","startTime","animate","currentTime","elapsed","progress","easeOut","animatedValue","watch","newStats","stat","value","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createVNode","_TransitionGroup","_Fragment","_renderList","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","_hoisted_4","_hoisted_5","emit","__emit","activeFilter","filters","filteredBadges","badge","filterButtonClass","filterKey","handleBadgeClick","filter","$event","BadgeItem","sortedEvents","a","yearDividers","years","event","year","eventIcon","type","dotClasses","typeBadgeClass","eventTypeLabel","formatDate","dateString","date","now","diff","days","index","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","yearIndex","_hoisted_10","chartWidth","chartHeight","padding","tooltip","chartData","dailyXp","log","sorted","cumulative","item","maxXp","d","linePath","areaPath","points","first","last","showTooltip","point","rect","formatTooltipDate","hideTooltip","formatAxisDate","path","length","_cache","displayLevels","currentIndex","l","end","isCompleted","level","isCurrent","isFuture","getLevelClass","levelCircleClass","connectorClass","currentLevel","nextLevel","progressPercent","currentXp","currentLevelXp","range","_hoisted_11","_hoisted_12","_normalizeClass","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","route","useRoute","router","useRouter","useAuthStore","userStore","useUserStore","badgeStore","xpStore","levelStore","useLevelStore","questionStore","useQuestionStore","answerStore","useAnswerStore","globalDataStore","useGlobalDataStore","allLevels","user","gamificationSummary","profileStats","_c","_d","_e","timelineEvents","events","username","handleViewBadge","badgeSlug","LoadingSpinner","_Transition","ProfileCard","ProfileStats","LevelJourney","ProfileBadgeGallery","XpHistoryChart","AchievementsTimeline"],"mappings":"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"}