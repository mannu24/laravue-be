{"version":3,"file":"Feed-B4QUExIR.js","sources":["../../../node_modules/lucide-vue-next/dist/esm/icons/arrow-up-down.js","../../../resources/js/components/feed/sidebar/FeedFilter.vue","../../../resources/js/components/feed/sidebar/RecommendedUsers.vue","../../../resources/js/components/feed/sidebar/FeedSidebar.vue","../../../resources/js/views/Feed.vue"],"sourcesContent":["/**\n * @license lucide-vue-next v0.474.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowUpDown = createLucideIcon(\"ArrowUpDownIcon\", [\n  [\"path\", { d: \"m21 16-4 4-4-4\", key: \"f6ql7i\" }],\n  [\"path\", { d: \"M17 20V4\", key: \"1ejh1v\" }],\n  [\"path\", { d: \"m3 8 4-4 4 4\", key: \"11wl7u\" }],\n  [\"path\", { d: \"M7 4v16\", key: \"1glfcx\" }]\n]);\n\nexport { ArrowUpDown as default };\n//# sourceMappingURL=arrow-up-down.js.map\n","<script setup>\r\nimport { ref, computed } from 'vue'\r\nimport { useThemeStore } from '../../../stores/theme'\r\nimport { Card, CardContent } from '../../ui/card'\r\nimport { Filter, MessageCircle, TrendingUp, Heart, Clock, ArrowUpDown } from 'lucide-vue-next'\r\n\r\nconst themeStore = useThemeStore()\r\nconst isOpen = ref(false)\r\n\r\nconst props = defineProps({\r\n    currentSort: {\r\n        type: String,\r\n        default: 'latest'\r\n    },\r\n    color: {\r\n        type: String,\r\n        default: 'blue' // blue, green, purple, etc.\r\n    }\r\n})\r\n\r\nconst colorClasses = computed(() => {\r\n    const colors = {\r\n        blue: {\r\n            iconBg: themeStore.isDark ? 'bg-blue-900/30 text-blue-400' : 'bg-blue-100 text-blue-600',\r\n            activeBg: themeStore.isDark ? 'bg-blue-900/30 text-blue-400 border-blue-700/50' : 'bg-blue-50 text-blue-600 border-blue-200',\r\n            activeIcon: themeStore.isDark ? 'text-blue-400' : 'text-blue-600',\r\n            activeDot: themeStore.isDark ? 'bg-blue-400' : 'bg-blue-600'\r\n        },\r\n        green: {\r\n            iconBg: themeStore.isDark ? 'bg-green-900/30 text-green-400' : 'bg-green-100 text-green-600',\r\n            activeBg: themeStore.isDark ? 'bg-green-900/30 text-green-400 border-green-700/50' : 'bg-green-50 text-green-600 border-green-200',\r\n            activeIcon: themeStore.isDark ? 'text-green-400' : 'text-green-600',\r\n            activeDot: themeStore.isDark ? 'bg-green-400' : 'bg-green-600'\r\n        },\r\n        purple: {\r\n            iconBg: themeStore.isDark ? 'bg-purple-900/30 text-purple-400' : 'bg-purple-100 text-purple-600',\r\n            activeBg: themeStore.isDark ? 'bg-purple-900/30 text-purple-400 border-purple-700/50' : 'bg-purple-50 text-purple-600 border-purple-200',\r\n            activeIcon: themeStore.isDark ? 'text-purple-400' : 'text-purple-600',\r\n            activeDot: themeStore.isDark ? 'bg-purple-400' : 'bg-purple-600'\r\n        }\r\n    }\r\n    return colors[props.color] || colors.blue\r\n})\r\n\r\nconst emit = defineEmits(['sort-change'])\r\n\r\nconst sortOptions = [\r\n    { \r\n        value: 'latest', \r\n        label: 'Latest', \r\n        icon: Clock,\r\n        description: 'Most recent posts'\r\n    },\r\n    { \r\n        value: 'comments', \r\n        label: 'Most Comments', \r\n        icon: MessageCircle,\r\n        description: 'Posts with most comments'\r\n    },\r\n    { \r\n        value: 'highest_rated', \r\n        label: 'Highest Rated', \r\n        icon: Heart,\r\n        description: 'Most liked posts'\r\n    },\r\n    { \r\n        value: 'trending', \r\n        label: 'Trending', \r\n        icon: TrendingUp,\r\n        description: 'Popular right now'\r\n    }\r\n]\r\n\r\nconst currentSortOption = computed(() => {\r\n    return sortOptions.find(opt => opt.value === props.currentSort) || sortOptions[0]\r\n})\r\n\r\nconst handleSortChange = (sortValue) => {\r\n    emit('sort-change', sortValue)\r\n    isOpen.value = false\r\n}\r\n</script>\r\n\r\n<template>\r\n    <Card>\r\n        <CardContent class=\"p-0\">\r\n            <!-- Filter Header (Always Visible) -->\r\n            <div \r\n                @click=\"isOpen = !isOpen\"\r\n                class=\"px-6 py-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors\"\r\n            >\r\n                <div class=\"flex items-center justify-between\">\r\n                    <div class=\"flex items-center gap-3\">\r\n                        <div class=\"p-2 rounded-lg\" :class=\"colorClasses.iconBg\">\r\n                            <Filter class=\"h-4 w-4\" />\r\n                        </div>\r\n                        <div class=\"flex-1\">\r\n                            <h3 class=\"text-sm font-semibold\" :class=\"[\r\n                                themeStore.isDark ? 'text-white' : 'text-gray-900'\r\n                            ]\">\r\n                                Sort Posts\r\n                            </h3>\r\n                            <p class=\"text-xs mt-0.5\" :class=\"[\r\n                                themeStore.isDark ? 'text-gray-400' : 'text-gray-500'\r\n                            ]\">\r\n                                {{ currentSortOption.label }}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    <ArrowUpDown class=\"h-4 w-4 transition-transform\" :class=\"[\r\n                        isOpen ? 'rotate-180' : '',\r\n                        themeStore.isDark ? 'text-gray-400' : 'text-gray-500'\r\n                    ]\" />\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Filter Options (Expandable) -->\r\n            <Transition name=\"expand\">\r\n                <div v-if=\"isOpen\" class=\"border-t\" :class=\"[\r\n                    themeStore.isDark ? 'border-gray-800 bg-gray-900/30' : 'border-gray-200 bg-gray-50/50'\r\n                ]\">\r\n                    <div class=\"px-6 py-3 space-y-1\">\r\n                        <button\r\n                            v-for=\"option in sortOptions\"\r\n                            :key=\"option.value\"\r\n                            @click=\"handleSortChange(option.value)\"\r\n                            class=\"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left transition-all duration-200\" :class=\"[\r\n                                currentSort === option.value\r\n                                    ? colorClasses.activeBg + ' border'\r\n                                    : themeStore.isDark\r\n                                        ? 'hover:bg-gray-800 text-gray-300'\r\n                                        : 'hover:bg-gray-100 text-gray-700'\r\n                            ]\"\r\n                        >\r\n                            <component \r\n                                :is=\"option.icon\" \r\n                                class=\"h-4 w-4 flex-shrink-0\" \r\n                                :class=\"[\r\n                                    currentSort === option.value\r\n                                        ? colorClasses.activeIcon\r\n                                        : themeStore.isDark ? 'text-gray-400' : 'text-gray-500'\r\n                                ]\"\r\n                            />\r\n                            <div class=\"flex-1 min-w-0\">\r\n                                <div class=\"text-sm font-medium\">{{ option.label }}</div>\r\n                                <div class=\"text-xs mt-0.5\" :class=\"[\r\n                                    themeStore.isDark ? 'text-gray-500' : 'text-gray-400'\r\n                                ]\">\r\n                                    {{ option.description }}\r\n                                </div>\r\n                            </div>\r\n                            <!-- <div \r\n                                v-if=\"currentSort === option.value\"\r\n                                class=\"flex-shrink-0 w-2 h-2 rounded-full\" :class=\"colorClasses.activeDot\"\r\n                            ></div> -->\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </Transition>\r\n        </CardContent>\r\n    </Card>\r\n</template>\r\n\r\n<style scoped>\r\n.expand-enter-active,\r\n.expand-leave-active {\r\n    transition: all 0.3s ease;\r\n    overflow: hidden;\r\n}\r\n\r\n.expand-enter-from,\r\n.expand-leave-to {\r\n    max-height: 0;\r\n    opacity: 0;\r\n}\r\n\r\n.expand-enter-to,\r\n.expand-leave-from {\r\n    max-height: 500px;\r\n    opacity: 1;\r\n}\r\n</style>\r\n\r\n","<script setup>\r\nimport { ref, computed } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { useThemeStore } from '../../../stores/theme'\r\nimport { useAuthStore } from '../../../stores/auth'\r\nimport { Card, CardContent } from '../../ui/card'\r\nimport { Button } from '../../ui/button'\r\nimport { UserPlus, Users, Check } from 'lucide-vue-next'\r\n\r\nconst themeStore = useThemeStore()\r\nconst props = defineProps({\r\n    users: {\r\n        type: Array,\r\n        default: () => []\r\n    },\r\n    isLoading: {\r\n        type: Boolean,\r\n        default: false\r\n    },\r\n    color: {\r\n        type: String,\r\n        default: 'blue' // blue, green, purple, etc.\r\n    }\r\n})\r\n\r\nconst colorClasses = computed(() => {\r\n    const colors = {\r\n        blue: {\r\n            icon: themeStore.isDark ? 'text-blue-400' : 'text-blue-600',\r\n            hover: 'hover:text-blue-600 dark:hover:text-blue-400',\r\n            link: 'hover:text-blue-600 dark:hover:text-blue-400',\r\n            background: '6366f1'\r\n        },\r\n        green: {\r\n            icon: themeStore.isDark ? 'text-green-400' : 'text-green-600',\r\n            hover: 'hover:text-green-600 dark:hover:text-green-400',\r\n            link: 'hover:text-green-600 dark:hover:text-green-400',\r\n            background: '347958'\r\n        },\r\n        purple: {\r\n            icon: themeStore.isDark ? 'text-purple-400' : 'text-purple-600',\r\n            hover: 'hover:text-purple-600 dark:hover:text-purple-400',\r\n            link: 'hover:text-purple-600 dark:hover:text-purple-400',\r\n            background: '8b5cf6'\r\n        }\r\n    }\r\n    return colors[props.color]\r\n})\r\n\r\nconst emit = defineEmits(['follow', 'unfollow'])\r\n\r\nconst router = useRouter()\r\nconst authStore = useAuthStore()\r\n\r\nconst followingUsers = ref(new Set())\r\n\r\nconst handleFollow = (user) => {\r\n    if (followingUsers.value.has(user.id)) {\r\n        followingUsers.value.delete(user.id)\r\n        emit('unfollow', user)\r\n    } else {\r\n        followingUsers.value.add(user.id)\r\n        emit('follow', user)\r\n    }\r\n}\r\n\r\nconst isFollowing = (userId) => {\r\n    return followingUsers.value.has(userId) || props.users.find(u => u.id === userId)?.is_following\r\n}\r\n\r\nconst getUserAvatar = (user) => {\r\n    return user.avatar || user.profile_photo || `https://ui-avatars.com/api/?name=${encodeURIComponent(user.name || user.username || 'User')}&background=6366f1&color=fff&size=200`\r\n}\r\n\r\nconst handleUserClick = (user) => {\r\n    if (user.username) {\r\n        router.push(`/@${user.username}`)\r\n    }\r\n}\r\n</script>\r\n\r\n<template>\r\n    <Card>\r\n        <div class=\"px-6 py-4 border-b border-gray-200 dark:border-gray-700\">\r\n            <div class=\"flex items-center gap-2\">\r\n                <UserPlus class=\"h-5 w-5\" :class=\"colorClasses.icon\" />\r\n                <h3 class=\"text-lg font-semibold\" :class=\"[\r\n                    themeStore.isDark ? 'text-white' : 'text-gray-900'\r\n                ]\">\r\n                    Who to Follow\r\n                </h3>\r\n            </div>\r\n            <!-- <p class=\"text-xs mt-1\" :class=\"[\r\n                themeStore.isDark ? 'text-gray-400' : 'text-gray-500'\r\n            ]\">\r\n                Discover new people\r\n            </p> -->\r\n        </div>\r\n\r\n        <CardContent class=\"p-0\">\r\n            <!-- Loading State -->\r\n            <div v-if=\"isLoading\" class=\"px-6 py-8\">\r\n                <div class=\"space-y-4\">\r\n                    <div v-for=\"i in 5\" :key=\"i\" class=\"flex items-center gap-3 animate-pulse\">\r\n                        <div class=\"w-12 h-12 rounded-full\" :class=\"[\r\n                            themeStore.isDark ? 'bg-gray-700' : 'bg-gray-200'\r\n                        ]\"></div>\r\n                        <div class=\"flex-1\">\r\n                            <div class=\"h-4 rounded w-3/4 mb-2\" :class=\"[\r\n                                themeStore.isDark ? 'bg-gray-700' : 'bg-gray-200'\r\n                            ]\"></div>\r\n                            <div class=\"h-3 rounded w-1/2\" :class=\"[\r\n                                themeStore.isDark ? 'bg-gray-700' : 'bg-gray-200'\r\n                            ]\"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Empty State -->\r\n            <div v-else-if=\"!isLoading && users.length === 0\" class=\"px-6 py-8 text-center\">\r\n                <Users class=\"h-12 w-12 mx-auto mb-3 opacity-50\" :class=\"[\r\n                    themeStore.isDark ? 'text-gray-600' : 'text-gray-400'\r\n                ]\" />\r\n                <p class=\"text-sm\" :class=\"[\r\n                    themeStore.isDark ? 'text-gray-400' : 'text-gray-600'\r\n                ]\">\r\n                    No suggestions available\r\n                </p>\r\n            </div>\r\n\r\n            <!-- Users List -->\r\n            <div v-else class=\"divide-y max-h-[400px] overflow-y-auto\" :class=\"[\r\n                themeStore.isDark ? 'divide-gray-800' : 'divide-gray-100'\r\n            ]\">\r\n                <div\r\n                    v-for=\"user in users\"\r\n                    :key=\"user.id\"\r\n                    class=\"group p-4 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors\"\r\n                >\r\n                    <div class=\"flex items-center gap-3\">\r\n                        <!-- Avatar -->\r\n                        <div \r\n                            @click=\"handleUserClick(user)\"\r\n                            class=\"flex-shrink-0 cursor-pointer\"\r\n                        >\r\n                            <div class=\"w-12 h-12 rounded-full overflow-hidden border-2 transition-transform group-hover:scale-105\" :class=\"[\r\n                                themeStore.isDark ? 'border-gray-700' : 'border-gray-200'\r\n                            ]\">\r\n                                <img\r\n                                    :src=\"getUserAvatar(user)\"\r\n                                    :alt=\"user.name || user.username\"\r\n                                    class=\"w-full h-full object-cover\"\r\n                                    @error=\"(e) => e.target.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(user.name || user.username || 'User')}&background=${colorClasses.background}&color=fff&size=200`\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- User Info -->\r\n                        <div \r\n                            @click=\"handleUserClick(user)\"\r\n                            class=\"flex-1 min-w-0 cursor-pointer\"\r\n                        >\r\n                            <h4 class=\"text-sm font-semibold truncate transition-colors\" :class=\"[\r\n                                themeStore.isDark ? 'text-white' : 'text-gray-900',\r\n                                colorClasses.hover\r\n                            ]\">\r\n                                {{ user.name || user.username }}\r\n                            </h4>\r\n                            <p class=\"text-xs truncate\" :class=\"[\r\n                                themeStore.isDark ? 'text-gray-400' : 'text-gray-500'\r\n                            ]\">\r\n                                @{{ user.username }}\r\n                            </p>\r\n                            <div v-if=\"user.followers_count !== undefined\" class=\"flex items-center gap-2 mt-1\">\r\n                                <Users class=\"h-3 w-3\" :class=\"[\r\n                                    themeStore.isDark ? 'text-gray-500' : 'text-gray-400'\r\n                                ]\" />\r\n                                <span class=\"text-xs\" :class=\"[\r\n                                    themeStore.isDark ? 'text-gray-500' : 'text-gray-400'\r\n                                ]\">\r\n                                    {{ user.followers_count }} {{ user.followers_count === 1 ? 'follower' : 'followers' }}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- Follow Button -->\r\n                        <div class=\"flex-shrink-0\">\r\n                            <Button\r\n                                v-if=\"!isFollowing(user.id) && user.id !== authStore.user?.id\"\r\n                                @click.stop=\"handleFollow(user)\"\r\n                                variant=\"vue\"\r\n                                class=\"text-xs px-3 py-1.5 h-auto\"\r\n                            >\r\n                                <UserPlus class=\"h-3 w-3 mr-1\" />\r\n                                Follow\r\n                            </Button>\r\n                            <Button\r\n                                v-else-if=\"isFollowing(user.id) && user.id !== authStore.user?.id\"\r\n                                @click.stop=\"handleFollow(user)\"\r\n                                variant=\"outline\"\r\n                                class=\"text-xs px-3 py-1.5 h-auto\"\r\n                            >\r\n                                <Check class=\"h-3 w-3 mr-1\" />\r\n                                Following\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- View All Link -->\r\n            <div v-if=\"users.length > 0\" class=\"px-6 py-4 border-t\" :class=\"[\r\n                themeStore.isDark ? 'border-gray-800 bg-gray-900/50' : 'border-gray-200 bg-gray-50/50'\r\n            ]\">\r\n                <button\r\n                    @click=\"router.push('/search?type=user')\"\r\n                    class=\"w-full text-sm font-medium flex items-center justify-center gap-2 transition-colors\" :class=\"[\r\n                        themeStore.isDark ? 'text-gray-400' : 'text-gray-600',\r\n                        colorClasses.link\r\n                    ]\"\r\n                >\r\n                    Discover more users\r\n                    <UserPlus class=\"h-4 w-4\" />\r\n                </button>\r\n            </div>\r\n        </CardContent>\r\n    </Card>\r\n</template>\r\n\r\n","<script setup>\r\nimport { ref } from 'vue'\r\nimport FeedFilter from './FeedFilter.vue'\r\nimport RecommendedUsers from './RecommendedUsers.vue'\r\nimport PopularTags from './PopularTags.vue'\r\n\r\nconst props = defineProps({\r\n    recommendedUsers: {\r\n        type: Array,\r\n        default: () => []\r\n    },\r\n    popularTags: {\r\n        type: Array,\r\n        default: () => []\r\n    },\r\n    isLoading: {\r\n        type: Boolean,\r\n        default: false\r\n    },\r\n    currentSort: {\r\n        type: String,\r\n        default: 'latest'\r\n    },\r\n    selectedTags: {\r\n        type: Array,\r\n        default: () => []\r\n    },\r\n    color: {\r\n        type: String,\r\n        default: 'green' // Vue green for feed\r\n    }\r\n})\r\n\r\nconst emit = defineEmits(['follow', 'unfollow', 'sort-change', 'tags-change'])\r\n\r\nconst handleFollow = (user) => {\r\n    emit('follow', user)\r\n}\r\n\r\nconst handleUnfollow = (user) => {\r\n    emit('unfollow', user)\r\n}\r\n\r\nconst handleSortChange = (sortValue) => {\r\n    emit('sort-change', sortValue)\r\n}\r\n</script>\r\n\r\n<template>\r\n    <aside class=\"w-full lg:w-80 flex-shrink-0 space-y-6 lg:sticky lg:top-8 lg:self-start\">\r\n        <!-- Feed Filter (At Top) -->\r\n        <FeedFilter \r\n            :current-sort=\"currentSort\"\r\n            :color=\"color\"\r\n            @sort-change=\"handleSortChange\"\r\n        />\r\n\r\n        <!-- Popular Tags -->\r\n        <!-- <PopularTags \r\n            :tags=\"popularTags\"\r\n            :is-loading=\"isLoading\"\r\n            :selected-tags=\"selectedTags\"\r\n            :color=\"color\"\r\n            @tags-change=\"(tags) => emit('tags-change', tags)\"\r\n        /> -->\r\n\r\n        <!-- Recommended Users -->\r\n        <RecommendedUsers \r\n            :users=\"recommendedUsers\"\r\n            :is-loading=\"isLoading\"\r\n            :color=\"color\"\r\n            @follow=\"handleFollow\"\r\n            @unfollow=\"handleUnfollow\"\r\n        />\r\n    </aside>\r\n</template>\r\n","<script setup>\nimport { ref, defineEmits, onMounted, computed } from 'vue';\nimport InfiniteScroll from '../components/elements/InfiniteScroll.vue'\nimport PostForm from '../components/feed/PostForm.vue';\nimport FeedSidebar from '../components/feed/sidebar/FeedSidebar.vue';\nimport { useThemeStore } from '../stores/theme'\nimport { useAuthStore } from '../stores/auth'\nimport axios from 'axios'\n\nconst key = ref(0);\nconst themeStore = useThemeStore()\nconst authStore = useAuthStore()\nconst emit = defineEmits(['share_url'])\n\n// Sidebar data\nconst recommendedUsers = ref([])\nconst popularTags = ref([])\nconst isLoadingSidebar = ref(false)\n\n// Filter state\nconst currentSort = ref('latest')\nconst selectedTags = ref([])\n\n// Computed filters for InfiniteScroll\nconst feedFilters = computed(() => ({\n    sort: currentSort.value,\n    tags: selectedTags.value\n}))\n\nconst share_url = (url) => {\n    emit('share_url', url)\n}\n\nconst fetch = () => {\n    key.value++\n}\n\n// Fetch sidebar data\nconst fetchSidebarData = async () => {\n    if (!authStore.isAuthenticated) return\n    \n    isLoadingSidebar.value = true\n    try {\n        const response = await axios.get('/api/v1/feed-sidebar?users_limit=10', authStore.config)\n        \n        if (response.data.status === 'success') {\n            recommendedUsers.value = response.data.data.users || []\n            // Get all unique tags for filtering (not just popular ones)\n            popularTags.value = response.data.data.tags || []\n        }\n    } catch (error) {\n        console.error('Error fetching sidebar data:', error)\n    } finally {\n        isLoadingSidebar.value = false\n    }\n}\n\n// Handle follow/unfollow\nconst handleFollow = async (user) => {\n    try {\n        const response = await axios.post(`/api/v1/users/${user.username}/follow`, {}, authStore.config)\n        if (response.data.status === 'success') {\n            // Update user in list\n            const index = recommendedUsers.value.findIndex(u => u.id === user.id)\n            if (index !== -1) {\n                recommendedUsers.value[index].is_following = true\n                recommendedUsers.value[index].followers_count = (recommendedUsers.value[index].followers_count || 0) + 1\n            }\n        }\n    } catch (error) {\n        console.error('Error following user:', error)\n    }\n}\n\nconst handleUnfollow = async (user) => {\n    try {\n        const response = await axios.post(`/api/v1/users/${user.username}/follow`, {}, authStore.config)\n        if (response.data.status === 'success') {\n            // Update user in list\n            const index = recommendedUsers.value.findIndex(u => u.id === user.id)\n            if (index !== -1) {\n                recommendedUsers.value[index].is_following = false\n                recommendedUsers.value[index].followers_count = Math.max(0, (recommendedUsers.value[index].followers_count || 1) - 1)\n            }\n        }\n    } catch (error) {\n        console.error('Error unfollowing user:', error)\n    }\n}\n\n// Handle sort change\nconst handleSortChange = (sortValue) => {\n    currentSort.value = sortValue\n    // Reset and refetch feed with new sort\n    key.value++\n}\n\n// Handle tags change\nconst handleTagsChange = (tags) => {\n    selectedTags.value = tags\n    // Reset and refetch feed with new tags\n    key.value++\n}\n\nonMounted(() => {\n    fetchSidebarData()\n})\n</script>\n<template>\n    <div class=\"min-h-screen\">\n        <div class=\"max-w-7xl mx-auto py-5\">\n            <div class=\"flex flex-col lg:flex-row gap-5\">\n                <div class=\"flex-1 min-w-0\">\n                    <div class=\"mb-5\">\n                        <PostForm @fetch=\"fetch\"></PostForm>\n                    </div>\n                    <div class=\"space-y-6\">\n                        <InfiniteScroll \n                            scrolling=\"post\" \n                            :fetchKey=\"key\" \n                            :filters=\"feedFilters\"\n                            @share_url=\"share_url\" \n                            :username=\"null\"\n                        ></InfiniteScroll>\n                    </div>\n                </div>\n                <div class=\"hidden lg:block\">\n                    <FeedSidebar\n                        :recommended-users=\"recommendedUsers\"\n                        :popular-tags=\"popularTags\"\n                        :is-loading=\"isLoadingSidebar\"\n                        :current-sort=\"currentSort\"\n                        :selected-tags=\"selectedTags\"\n                        color=\"green\"\n                        @follow=\"handleFollow\"\n                        @unfollow=\"handleUnfollow\"\n                        @sort-change=\"handleSortChange\"\n                        @tags-change=\"handleTagsChange\"\n                    />\n                </div>\n            </div>\n        </div>\n    </div>\n</template>"],"names":["ArrowUpDown","createLucideIcon","themeStore","useThemeStore","isOpen","ref","props","__props","colorClasses","computed","colors","emit","__emit","sortOptions","Clock","MessageCircle","Heart","TrendingUp","currentSortOption","opt","handleSortChange","sortValue","_createBlock","_unref","Card","_createVNode","CardContent","_createElementVNode","_cache","$event","_hoisted_1","_hoisted_2","_normalizeClass","Filter","_hoisted_3","_toDisplayString","_Transition","_createElementBlock","_hoisted_4","_Fragment","_renderList","option","_resolveDynamicComponent","_hoisted_6","_hoisted_7","router","useRouter","authStore","useAuthStore","followingUsers","handleFollow","user","isFollowing","userId","_a","u","getUserAvatar","handleUserClick","UserPlus","_openBlock","i","_hoisted_5","Users","e","_hoisted_11","_hoisted_12","Button","_withModifiers","Check","handleUnfollow","FeedFilter","RecommendedUsers","key","recommendedUsers","popularTags","isLoadingSidebar","currentSort","selectedTags","feedFilters","share_url","url","fetch","fetchSidebarData","response","axios","error","index","handleTagsChange","tags","onMounted","PostForm","InfiniteScroll","FeedSidebar"],"mappings":"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","x_google_ignoreList":[0]}