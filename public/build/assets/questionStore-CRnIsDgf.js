import{aS as m,p as c,a as g,at as i,aT as d}from"./app-DI7wrdgO.js";const x=m("question",()=>{const n=c(!1),s=c(null),o=c([]),p=c(null),v=c([]),r=c({current_page:1,last_page:1,per_page:20,total:0}),f=g(()=>o.value),h=g(()=>p.value),_=g(()=>v.value);return{loading:n,error:s,questions:o,singleQuestion:p,searchResults:v,pagination:r,allQuestions:f,currentQuestion:h,searchResultsList:_,fetchQuestions:async(l={})=>{var t,e;try{n.value=!0,s.value=null;const a=await i.get(d.questions.list(),l);return o.value=a.data.data,a.data.meta&&(r.value={current_page:a.data.meta.current_page||1,last_page:a.data.meta.last_page||1,per_page:a.data.meta.per_page||20,total:a.data.meta.total||0}),a.data.data}catch(a){throw s.value=((e=(t=a.response)==null?void 0:t.data)==null?void 0:e.message)||"Failed to fetch questions",a}finally{n.value=!1}},searchQuestions:async(l,t={})=>{var e,a;try{n.value=!0,s.value=null;const u=await i.get(d.questions.search(),{query:l,...t});return v.value=u.data.data,o.value=u.data.data,u.data.data}catch(u){throw s.value=((a=(e=u.response)==null?void 0:e.data)==null?void 0:a.message)||"Failed to search questions",u}finally{n.value=!1}},askQuestion:async l=>{var t,e;try{n.value=!0,s.value=null;const u=(await i.post(d.questions.create(),l)).data.data;return o.value.unshift(u),u}catch(a){throw s.value=((e=(t=a.response)==null?void 0:t.data)==null?void 0:e.message)||"Failed to create question",a}finally{n.value=!1}},loadSingleQuestion:async l=>{var t,e;try{n.value=!0,s.value=null;const a=await i.get(d.questions.show(l));return p.value=a.data.data,a.data.data}catch(a){throw s.value=((e=(t=a.response)==null?void 0:t.data)==null?void 0:e.message)||"Failed to fetch question",a}finally{n.value=!1}},loadMoreQuestions:async()=>{var l,t;if(!(r.value.current_page>=r.value.last_page))try{n.value=!0,s.value=null;const e=r.value.current_page+1,a=await i.get(d.questions.list(),{page:e,per_page:r.value.per_page});return o.value=[...o.value,...a.data.data],a.data.meta&&(r.value={current_page:a.data.meta.current_page||e,last_page:a.data.meta.last_page||1,per_page:a.data.meta.per_page||20,total:a.data.meta.total||0}),a.data.data}catch(e){throw s.value=((t=(l=e.response)==null?void 0:l.data)==null?void 0:t.message)||"Failed to load more questions",e}finally{n.value=!1}},clearQuestions:()=>{o.value=[],p.value=null,v.value=[],s.value=null}}});export{x as u};
//# sourceMappingURL=questionStore-CRnIsDgf.js.map
