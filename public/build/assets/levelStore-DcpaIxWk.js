import{aS as y,p as o,a as p,at as d,aT as f}from"./app-DI7wrdgO.js";const S=y("user",()=>{const t=o(!1),a=o(null),r=o(null),n=o(null),v=p(()=>r.value),h=p(()=>n.value);return{loading:t,error:a,user:r,gamification:n,userProfile:v,gamificationSummary:h,fetchUserProfile:async i=>{var c,s;try{t.value=!0,a.value=null;const e=await d.get(f.users.show(i));return r.value=e.data.data,e.data.data}catch(e){throw a.value=((s=(c=e.response)==null?void 0:c.data)==null?void 0:s.message)||"Failed to fetch user profile",e}finally{t.value=!1}},updateUser:async(i,c)=>{var s,e;try{t.value=!0,a.value=null;const l=await d.patch(f.users.update(i),c);return r.value=l.data.data,l.data.data}catch(l){throw a.value=((e=(s=l.response)==null?void 0:s.data)==null?void 0:e.message)||"Failed to update user profile",l}finally{t.value=!1}},fetchGamificationSummary:async i=>{var c,s;try{t.value=!0,a.value=null;const e=await d.get(f.users.gamification(i));return n.value=e.data.data,e.data.data}catch(e){throw a.value=((s=(c=e.response)==null?void 0:c.data)==null?void 0:s.message)||"Failed to fetch gamification data",e}finally{t.value=!1}},clearUser:()=>{r.value=null,n.value=null,a.value=null}}}),U=y("level",()=>{const t=o(!1),a=o(null),r=o([]),n=o(null),v=o(null),h=p(()=>r.value),g=p(()=>n.value),m=p(()=>v.value);return{loading:t,error:a,levels:r,progress:n,currentLevel:v,allLevels:h,levelProgress:g,userCurrentLevel:m,fetchLevels:async()=>{var s,e;try{t.value=!0,a.value=null;const l=await d.get(f.levels.list());return r.value=l.data.data,l.data.data}catch(l){throw a.value=((e=(s=l.response)==null?void 0:s.data)==null?void 0:e.message)||"Failed to fetch levels",l}finally{t.value=!1}},getLevelForXp:async s=>{var e,l;try{return t.value=!0,a.value=null,(await d.get(f.levels.show(s))).data.data}catch(u){throw a.value=((l=(e=u.response)==null?void 0:e.data)==null?void 0:l.message)||"Failed to fetch level",u}finally{t.value=!1}},fetchLevelProgress:async s=>{var e,l;try{t.value=!0,a.value=null;const u=await d.get(f.levels.progress(s));return n.value=u.data.data,v.value=u.data.data.level,u.data.data}catch(u){throw a.value=((l=(e=u.response)==null?void 0:e.data)==null?void 0:l.message)||"Failed to fetch level progress",u}finally{t.value=!1}},clearLevels:()=>{r.value=[],n.value=null,v.value=null,a.value=null}}});export{U as a,S as u};
//# sourceMappingURL=levelStore-DcpaIxWk.js.map
