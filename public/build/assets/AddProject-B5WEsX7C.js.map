{"version":3,"file":"AddProject-B5WEsX7C.js","sources":["../../../resources/js/views/AddProject.vue"],"sourcesContent":["<script setup>\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useThemeStore } from '../stores/theme'\nimport { useAuthStore } from '../stores/auth'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport ProjectForm from '@/components/projects/ProjectForm.vue'\nimport { ArrowLeft, Code2 } from 'lucide-vue-next'\nimport axios from 'axios'\nimport { toast } from '@/components/ui/toast'\n\nconst router = useRouter()\nconst themeStore = useThemeStore()\nconst authStore = useAuthStore()\n\nconst loading = ref(false)\nconst formErrors = ref({})\n\nconst handleSubmit = async (formData) => {\n  loading.value = true\n  formErrors.value = {}\n\n  try {\n    const data = new FormData()\n\n    // Basic fields\n    data.append('title', formData.title)\n    data.append('description', formData.description)\n    data.append('project_type', formData.project_type)\n    data.append('is_sellable', formData.is_sellable ? 1 : 0)\n    data.append('status', 'draft') // Default to draft\n\n    // Optional fields\n    if (formData.short_description) data.append('short_description', formData.short_description)\n    if (formData.excerpt) data.append('excerpt', formData.excerpt)\n    if (formData.github_url) data.append('github_url', formData.github_url)\n    if (formData.demo_url) data.append('demo_url', formData.demo_url)\n    if (formData.category_id) data.append('category_id', formData.category_id)\n    if (formData.difficulty_level) data.append('difficulty_level', formData.difficulty_level)\n    if (formData.industry) data.append('industry', formData.industry)\n    if (formData.currency) data.append('currency', formData.currency)\n\n    // Pricing\n    if (formData.is_sellable) {\n      data.append('original_price', formData.original_price)\n      data.append('selling_price', formData.selling_price)\n      if (formData.discount_percentage) data.append('discount_percentage', formData.discount_percentage)\n      if (formData.discount_start_date) data.append('discount_start_date', formData.discount_start_date)\n      if (formData.discount_end_date) data.append('discount_end_date', formData.discount_end_date)\n      if (formData.stock_quantity) data.append('stock_quantity', formData.stock_quantity)\n      data.append('is_digital', formData.is_digital ? 1 : 0)\n    }\n\n    // Technologies\n    if (formData.technologies && formData.technologies.length > 0) {\n      formData.technologies.forEach(tech => {\n        data.append('technologies[]', tech.name || tech)\n      })\n    }\n\n    // Featured image\n    if (formData.featured_image) {\n      data.append('featured_image', formData.featured_image)\n    }\n\n    const response = await axios.post('/api/v1/projects', data, {\n      ...authStore.config,\n      headers: {\n        ...authStore.config.headers,\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n\n    toast({\n      title: \"Success\",\n      description: \"Project created successfully!\",\n    })\n\n    router.push(`/projects/${response.data.data.slug}`)\n\n  } catch (error) {\n    console.error('Error creating project:', error)\n\n    if (error.response?.data?.errors) {\n      formErrors.value = error.response.data.errors\n    }\n\n    toast({\n      title: \"Error\",\n      description: error.response?.data?.message || \"Failed to create project\",\n      variant: \"destructive\"\n    })\n  } finally {\n    loading.value = false\n  }\n}\n\nconst handleCancel = () => {\n  router.back()\n}\n</script>\n\n<template>\n  <div class=\"min-h-screen\">\n    <div class=\"container mx-auto px-4 py-8 sm:px-6 lg:px-8\">\n      <!-- Header -->\n      <div class=\"mb-8\">\n        <Button\n          variant=\"ghost\"\n          class=\"mb-4\"\n          @click=\"router.back()\"\n        >\n          <ArrowLeft class=\"h-4 w-4 mr-2\" />\n          Back\n        </Button>\n\n        <div class=\"text-center\">\n          <h1 class=\"text-4xl font-bold mb-4\" :class=\"themeStore.isDark ? 'text-white' : 'text-gray-900'\">\n            Add Your Project\n          </h1>\n          <p class=\"text-lg\" :class=\"themeStore.isDark ? 'text-gray-300' : 'text-gray-600'\">\n            Share your amazing project with the community\n          </p>\n        </div>\n      </div>\n\n      <!-- Form -->\n      <div class=\"max-w-4xl mx-auto\">\n        <ProjectForm\n          :loading=\"loading\"\n          submit-label=\"Create Project\"\n          @submit=\"handleSubmit\"\n          @cancel=\"handleCancel\"\n                />\n      </div>\n    </div>\n  </div>\n</template>\n"],"names":["router","useRouter","themeStore","useThemeStore","authStore","useAuthStore","loading","ref","formErrors","handleSubmit","formData","data","tech","response","axios","toast","error","_b","_a","_d","_c","handleCancel","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","_unref","Button","_cache","$event","ArrowLeft","_hoisted_4","_normalizeClass","_hoisted_5","ProjectForm"],"mappings":"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"}