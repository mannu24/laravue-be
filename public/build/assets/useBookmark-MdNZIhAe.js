import{c as f,f as d,o as p,w as m,r as g,n as v,h as y,u as h,aV as b,j as _,k as B,p as u,I as k}from"./app-Bvnl7d0n.js";/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=f("EllipsisVerticalIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),z={__name:"AlertDialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const n=t;return(r,i)=>(p(),d(h(b),v(y(n)),{default:m(()=>[g(r.$slots,"default")]),_:3},16))}};function C(t=null,n="post"){const r=_(),i=B(),a=u(!1),s=u(0),c=u(!1);return t&&(a.value=t.bookmarked??!1,s.value=t.bookmark_count??0),{isBookmarked:a,bookmarkCount:s,isLoading:c,toggleBookmark:async(o,l)=>{if(!r.isAuthenticated)return i.push("/login"),!1;if(c.value)return a.value;c.value=!0;try{const e=await k.post("/api/v1/bookmarks/toggle",{type:o,record_id:l},r.config);return e.data.status==="success"&&(a.value=e.data.data.bookmarked,s.value=e.data.data.bookmark_count),a.value}catch(e){return console.error("Error toggling bookmark:",e),a.value}finally{c.value=!1}},checkBookmarkStatus:async(o,l)=>{if(r.isAuthenticated)try{const e=await k.get(`/api/v1/bookmarks/check?type=${o}&record_id=${l}`,r.config);e.data.status==="success"&&(a.value=e.data.data.bookmarked,s.value=e.data.data.bookmark_count)}catch(e){console.error("Error checking bookmark status:",e)}},initialize:o=>{o&&(a.value=o.bookmarked??!1,s.value=o.bookmark_count??0)}}}export{A as E,z as _,C as u};
//# sourceMappingURL=useBookmark-MdNZIhAe.js.map
