import{p as f,l as k,Y as O,b as p,o as d,r as _,W as g,q as w,a6 as B,x as L,u as s,d as r,w as u,a as N,z as $,e as b,f as x,C as j,A as E,H as y,F as z,E as I,I as q}from"./app-BusCMfsw.js";import{_ as D}from"./Label-DR-rIVHd.js";import{_ as F}from"./Card-rloiMM0U.js";import{_ as T}from"./CardContent-DRH463jB.js";import{C as U}from"./chevron-down-AWBRn8gD.js";const A={class:"relative"},H={__name:"Select",props:{modelValue:{type:[String,Number],default:null},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(c,{emit:t}){const l=c,o=t,e=f(!1),n=f(l.modelValue);k(()=>l.modelValue,a=>{n.value=a});const i=()=>{l.disabled||(e.value=!0)},v=()=>{e.value=!1};return O("select",{isOpen:e,selectedValue:n,open:i,close:v,select:a=>{n.value=a,o("update:modelValue",a),v()},disabled:l.disabled}),(a,m)=>(d(),p("div",A,[_(a.$slots,"default")]))}},M={key:0,class:"select-content absolute z-50 w-full mt-1"},W={__name:"SelectContent",setup(c){const t=g("select"),l=o=>{o.target.closest(".select-content")||t.close()};return w(()=>{document.addEventListener("click",l)}),B(()=>{document.removeEventListener("click",l)}),(o,e)=>s(t).isOpen.value?(d(),p("div",M,[r(s(F),{class:"border shadow-lg"},{default:u(()=>[r(s(T),{class:"p-1"},{default:u(()=>[_(o.$slots,"default")]),_:3})]),_:3})])):L("",!0)}},C={__name:"SelectItem",props:{value:{type:[String,Number],required:!0}},setup(c){const t=c,l=g("select"),o=N(()=>l.selectedValue.value===t.value),e=()=>{l.select(t.value)};return(n,i)=>(d(),p("div",{class:$(s(b)("px-3 py-2 text-sm cursor-pointer rounded-md hover:bg-accent transition-colors",o.value&&"bg-accent font-medium",n.$attrs.class)),onClick:e},[_(n.$slots,"default")],2))}},Y={__name:"SelectTrigger",setup(c){const t=g("select"),l=()=>{t.isOpen.value?t.close():t.open()};return(o,e)=>(d(),x(s(j),{type:"button",variant:"outline",class:$(s(b)("w-full justify-between",o.$attrs.class)),onClick:l,disabled:s(t).disabled},{default:u(()=>[_(o.$slots,"default"),r(s(U),{class:$(s(b)("h-4 w-4 opacity-50 transition-transform",s(t).isOpen.value&&"rotate-180"))},null,8,["class"])]),_:3},8,["class","disabled"]))}},G={key:0},J={__name:"SelectValue",props:{placeholder:{type:String,default:"Select..."}},setup(c){const t=c,l=g("select"),o=N(()=>{const e=l.selectedValue.value;return e===null||e===""||e===void 0?t.placeholder:e});return(e,n)=>e.$slots.default?_(e.$slots,"default",{key:1}):(d(),p("span",G,E(o.value),1))}},K={class:"space-y-2"},ee={__name:"CategorySelector",props:{modelValue:{type:[Number,String,null],default:null},placeholder:{type:String,default:"Select category"}},emits:["update:modelValue"],setup(c,{emit:t}){const l=c,o=t,e=f([]),n=f(!1),i=f(l.modelValue),v=async()=>{n.value=!0;try{const a=await q.get("/api/v1/projects/categories");e.value=a.data.data||[]}catch(a){console.error("Error fetching categories:",a)}finally{n.value=!1}},V=a=>{i.value=a?parseInt(a):null,o("update:modelValue",i.value)};return k(()=>l.modelValue,a=>{i.value=a}),w(()=>{v()}),(a,m)=>{var S;return d(),p("div",K,[r(s(D),null,{default:u(()=>[...m[0]||(m[0]=[y("Category",-1)])]),_:1}),r(s(H),{"model-value":(S=i.value)==null?void 0:S.toString(),"onUpdate:modelValue":V,disabled:n.value},{default:u(()=>[r(s(Y),null,{default:u(()=>[r(s(J),{placeholder:n.value?"Loading...":c.placeholder},null,8,["placeholder"])]),_:1}),r(s(W),null,{default:u(()=>[r(s(C),{value:""},{default:u(()=>[...m[1]||(m[1]=[y("None",-1)])]),_:1}),(d(!0),p(z,null,I(e.value,h=>(d(),x(s(C),{key:h.id,value:h.id.toString()},{default:u(()=>[y(E(h.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value","disabled"])])}}};export{ee as _};
//# sourceMappingURL=CategorySelector-3KPySAEc.js.map
