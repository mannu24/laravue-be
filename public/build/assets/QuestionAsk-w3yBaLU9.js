import{j as $,p as f,b as q,d as t,f as k,x as V,w as o,u as a,H as l,D as r,G as Q,C as _,A as h,I as A,k as C,ae as u,o as g}from"./app-BusCMfsw.js";import{_ as S}from"./Card-rloiMM0U.js";import{_ as B}from"./CardContent-DRH463jB.js";import{_ as T}from"./CardDescription-CtTeBqrV.js";import{_ as D}from"./CardFooter-BhG9KwgQ.js";import{_ as P,a as N}from"./CardTitle-BaSWMxRf.js";import{_ as E}from"./Input-dzzXGP-d.js";import{_ as p}from"./Label-DR-rIVHd.js";import{_ as F,a as I}from"./TagInput-DGayrXqt.js";import{_ as U,a as j}from"./BackNavigator-CgEjaoQ9.js";import"./index-pO4B5Iiz.js";import"./DialogContent-BW3DkoVX.js";import"./DialogFooter-DBQRzolh.js";import"./DialogTitle-BHlAjFPg.js";import"./index-CTbBREyF.js";const G={class:"max-w-3xl mx-auto py-8 px-4"},H={class:"space-y-2"},Y={class:"space-y-2"},z={class:"space-y-2"},re={__name:"QuestionAsk",setup(M){const x=$(),y=C(),d=f(!1),m=f(!1),b=[{name:"Questions",href:"/qna"},{name:"Ask",href:"/qna/ask"}],s=f({title:"",content:"",tags:[],attachments:[]}),c=async()=>{if(v())try{d.value=!0;const i=new FormData;i.append("title",s.value.title),i.append("content",s.value.content),s.value.tags.forEach((n,R)=>{i.append("tags[]",n)});const e=await A.post("/api/v1/questions",i,{headers:{Authorization:`Bearer ${x.token}`,"Content-Type":"multipart/form-data"}});y.push(`/qna/${e.data.data.slug}`),u({description:"Your question has been successfully posted."})}catch(i){console.error("Error submitting question:",i),u({variant:"destructive",description:"Failed to submit question. Please try again."})}finally{d.value=!1}},v=()=>s.value.title.length<15?(u({variant:"destructive",description:"Title should be at least 15 characters long."}),!1):s.value.content.length<30?(u({variant:"destructive",description:"Question details should be at least 30 characters long."}),!1):s.value.tags.length<1?(u({variant:"destructive",description:"Atleast 1 Tag is required!"}),!1):!0,w=()=>{v()&&(m.value=!0)};return(i,e)=>(g(),q("div",G,[t(U,{items:b}),t(a(S),{class:"overflow-hidden"},{default:o(()=>[t(a(P),null,{default:o(()=>[t(a(N),null,{default:o(()=>[...e[4]||(e[4]=[l("Ask a Question",-1)])]),_:1}),t(a(T),null,{default:o(()=>[...e[5]||(e[5]=[l("Get help from our community of experts",-1)])]),_:1})]),_:1}),t(a(B),null,{default:o(()=>[r("form",{onSubmit:Q(c,["prevent"]),class:"space-y-6"},[r("div",H,[t(a(p),{for:"title"},{default:o(()=>[...e[6]||(e[6]=[l("Question Title",-1)])]),_:1}),t(a(E),{modelValue:s.value.title,"onUpdate:modelValue":e[0]||(e[0]=n=>s.value.title=n),id:"title",type:"text",placeholder:"e.g., How do I center a div in CSS?",required:""},null,8,["modelValue"]),e[7]||(e[7]=r("p",{class:"text-sm text-muted-foreground"}," Be specific and imagine you're asking a question to another person. ",-1))]),r("div",Y,[t(a(p),{for:"content"},{default:o(()=>[...e[8]||(e[8]=[l("Question Details",-1)])]),_:1}),t(j,{modelValue:s.value.content,"onUpdate:modelValue":e[1]||(e[1]=n=>s.value.content=n),placeholder:"Provide more context about your question...","min-height":300},null,8,["modelValue"]),e[9]||(e[9]=r("p",{class:"text-sm text-muted-foreground"}," Include all the information someone would need to answer your question. ",-1))]),r("div",z,[t(a(p),null,{default:o(()=>[...e[10]||(e[10]=[l("Tags",-1)])]),_:1}),t(F,{modelValue:s.value.tags,"onUpdate:modelValue":e[2]||(e[2]=n=>s.value.tags=n),"max-tags":5,placeholder:"Add up to 5 tags"},null,8,["modelValue"]),e[11]||(e[11]=r("p",{class:"text-sm text-muted-foreground"}," Add up to 5 tags to describe what your question is about. ",-1))])],32)]),_:1}),t(a(D),{class:"flex justify-between"},{default:o(()=>[t(a(_),{variant:"outline",onClick:w},{default:o(()=>[...e[12]||(e[12]=[l(" Preview ",-1)])]),_:1}),t(a(_),{onClick:c,disabled:d.value},{default:o(()=>[l(h(d.value?"Submitting...":"Post Your Question"),1)]),_:1},8,["disabled"])]),_:1})]),_:1}),m.value?(g(),k(I,{key:0,question:s.value,onClose:e[3]||(e[3]=n=>m.value=!1)},null,8,["question"])):V("",!0)]))}};export{re as default};
//# sourceMappingURL=QuestionAsk-w3yBaLU9.js.map
