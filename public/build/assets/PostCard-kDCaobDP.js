import{c as ne,ao as le,o,j as I,w as g,M as S,T as re,U as ie,e as n,ap as fe,C as j,J as U,s as B,aq as ue,ar as me,as as ge,f as v,at as ve,au as he,av as ye,aw as xe,b as i,n as R,ax as _e,ay as be,r as _,a as ae,N as we,X as te,P as de,S as ke,d as a,t as T,y as $,V as se,W as Ce,F as O,h as F,l as A,ak as $e,g as q,i as Ee,_ as Te,m as Ae,z as Me}from"./app-BYKYNp4m.js";import{_ as qe,a as De}from"./DialogContent-DSvNf_40.js";import{_ as Se}from"./CardFooter-CQ0oXYle.js";/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=ne("ChevronLeftIcon",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=ne("ChevronRightIcon",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Be={__name:"AlertDialog",props:{open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1}},emits:["update:open"],setup(e,{emit:c}){const d=le(e,c);return(u,x)=>(o(),I(n(fe),re(ie(n(d))),{default:g(()=>[S(u.$slots,"default")]),_:3},16))}},Ne={__name:"AlertDialogAction",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const c=e,p=j(()=>{const{class:f,...d}=c;return d});return(f,d)=>(o(),I(n(me),U(p.value,{class:n(B)(n(ue)(),c.class)}),{default:g(()=>[S(f.$slots,"default")]),_:3},16,["class"]))}},Le={__name:"AlertDialogCancel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const c=e,p=j(()=>{const{class:f,...d}=c;return d});return(f,d)=>(o(),I(n(ge),U(p.value,{class:n(B)(n(ue)({variant:"outline"}),"mt-2 sm:mt-0",c.class)}),{default:g(()=>[S(f.$slots,"default")]),_:3},16,["class"]))}},Oe={__name:"AlertDialogContent",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:c}){const p=e,f=c,d=j(()=>{const{class:x,...w}=p;return w}),u=le(d,f);return(x,w)=>(o(),I(n(ye),null,{default:g(()=>[v(n(ve),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),v(n(he),U(n(u),{class:n(B)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",p.class)}),{default:g(()=>[S(x.$slots,"default")]),_:3},16,["class"])]),_:3}))}},Re={__name:"AlertDialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const c=e,p=j(()=>{const{class:f,...d}=c;return d});return(f,d)=>(o(),I(n(xe),U(p.value,{class:n(B)("text-sm text-muted-foreground",c.class)}),{default:g(()=>[S(f.$slots,"default")]),_:3},16,["class"]))}},je={__name:"AlertDialogFooter",props:{class:{type:null,required:!1}},setup(e){const c=e;return(p,f)=>(o(),i("div",{class:R(n(B)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",c.class))},[S(p.$slots,"default")],2))}},ze={__name:"AlertDialogHeader",props:{class:{type:null,required:!1}},setup(e){const c=e;return(p,f)=>(o(),i("div",{class:R(n(B)("flex flex-col gap-y-2 text-center sm:text-left",c.class))},[S(p.$slots,"default")],2))}},Fe={__name:"AlertDialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const c=e,p=j(()=>{const{class:f,...d}=c;return d});return(f,d)=>(o(),I(n(_e),U(p.value,{class:n(B)("text-lg font-semibold",c.class)}),{default:g(()=>[S(f.$slots,"default")]),_:3},16,["class"]))}},Ue={__name:"AlertDialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const c=e;return(p,f)=>(o(),I(n(be),re(ie(c)),{default:g(()=>[S(p.$slots,"default")]),_:3},16))}};function Ve(){const e=_([]),c=_(""),p=_(!1),f=ae(),d=async u=>{if(u.length)try{const x=await te.get("/api/v1/posts/mention-suggestions?q="+u,f.config);e.value=x.data}catch(x){console.error("Mention search failed:",x)}};return we(c,u=>{u.length>0?d(u):e.value=[]}),{mentionSuggestions:e,mentionQuery:c,isMentioning:p}}const He={class:"flex items-center"},Xe=["src"],Ge={key:1,src:"/assets/front/images/user.png",alt:"User Avatar",class:"w-10 h-10 rounded-full mr-3"},Ke={key:1,class:"w-full flex justify-between"},We={class:"dark:text-white text-gray-800"},Qe={class:"font-semibold mb-0"},Je={class:"text-xs text-gray-500 dark:text-gray-400"},Ye={class:"relative"},Ze={key:0,class:"absolute bottom-full left-0 w-full max-h-60 bg-white border rounded-lg shadow-lg overflow-y-auto z-50"},et=["onMousedown"],tt=["src"],st={key:1,class:"fas fa-user-circle fa-2x text-black/50"},at={class:"font-medium text-sm"},ot={class:"text-xs text-gray-500"},nt=["onClick"],lt=["src"],rt={class:"mt-2 flex justify-around"},it={__name:"PostForm",props:["post"],emits:["fetch","close"],setup(e,{emit:c}){const{mentionSuggestions:p,mentionQuery:f}=Ve(),d=_({active:!1,position:{node:null,offset:0},query:""}),u=_({title:"",content:"",mentions:[],media:[]}),x=c,w=ae(),N=_([]),M=_([]),b=_(null),k=e,D=_(!1),E=_(!1),V=_({}),H=s=>{D.value=s},G=()=>{u.value.content=b.value.innerHTML,J()},K=s=>{if(s.key==="Backspace"){const t=window.getSelection();if(!t.rangeCount)return;const l=t.getRangeAt(0),h=W(l);if(h){s.preventDefault(),Q(h);return}}d.value.active&&["Escape","ArrowUp","ArrowDown","Enter"].includes(s.key)&&s.preventDefault()},W=s=>{if(!s.collapsed)return null;let t=s.startContainer,l=s.startOffset;if(t.nodeType===Node.TEXT_NODE)if(l===0)t=t.previousSibling;else return null;else t.nodeType===Node.ELEMENT_NODE&&(l>0?t=t.childNodes[l-1]:t=t.previousSibling);for(;t;){if(t.nodeType===Node.ELEMENT_NODE&&t.classList.contains("mention"))return t;if(t.nodeType===Node.TEXT_NODE&&t.textContent===" ")t=t.previousSibling;else break}return null},Q=s=>{const t=parseInt(s.dataset.userId),l=s.parentNode;l.removeChild(s),console.log(l.innerHTML),u.value.mentions=u.value.mentions.filter(m=>m.id!==t),u.value.content=l.innerHTML;const h=new Event("input",{bubbles:!0});b.value.dispatchEvent(h)},J=()=>{const s=window.getSelection();if(!s.rangeCount)return;const t=s.getRangeAt(0),l=Y(t),h=l.lastIndexOf("@");if(h>-1){const m=l[h-1];if(!m||/\s/.test(m)){d.value={active:!0,position:{node:t.startContainer,offset:h},query:l.slice(h+1)},f.value=d.value.query;return}}d.value.active=!1},Y=s=>{let t="",l=s.startContainer;const h=s.startOffset;return l.nodeType===Node.TEXT_NODE&&(t=l.textContent.slice(0,h)),t},Z=s=>{if(!d.value.active)return;const t=new Range,l=d.value.position.node,h=d.value.position.offset;t.setStart(l,h),t.setEnd(window.getSelection().getRangeAt(0).endContainer,window.getSelection().getRangeAt(0).endOffset),t.deleteContents();const m=document.createElement("span");m.className="mention-link",m.contentEditable="false",m.dataset.userId=s.id,m.textContent=`@${s.username}`;const P=document.createTextNode(" "),z=document.createDocumentFragment();z.appendChild(m),z.appendChild(P),t.insertNode(z);const ee=new Range;ee.setStartAfter(P),ee.collapse(!0);const oe=window.getSelection();oe.removeAllRanges(),oe.addRange(ee),u.value.mentions.some(pe=>pe.id===s.id)||u.value.mentions.push({id:s.id,username:s.username}),d.value={active:!1,position:{node:null,offset:0},query:""},p.value=[];const ce=new Event("input",{bubbles:!0});b.value.dispatchEvent(ce),b.value.focus()},X=()=>{u.value={title:"",content:"",mentions:[],media:[]},D.value=!1,b.value.innerHTML="",M.value=[]},C=s=>{Array.from(s.target.files).forEach(l=>{if(!u.value.media.some(m=>m.name===l.name&&m.size===l.size)){u.value.media.push(l);const m=URL.createObjectURL(l);M.value.push({type:"og",url:m})}}),s.target.value=""},r=async()=>{var s;try{E.value=!0;const t=new FormData;t.append("title",u.value.title),t.append("content",u.value.content),u.value.mentions.forEach((l,h)=>{t.append(`mentions[${h}][id]`,l.id),t.append(`mentions[${h}][username]`,l.username)}),u.value.media.forEach((l,h)=>{t.append(`media[${h}]`,l)}),N.value.forEach(l=>{t.append("deleted[]",l)}),k.post?(t.append("_method","PUT"),await te.post("/api/v1/posts/"+k.post.post_code,t,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${w.token}`}}).then(l=>{E.value=!1,l.data.status=="success"?(X(),x("fetch")):console.error("Error creating post:",l.data.message)}).catch(l=>{E.value=!1})):await te.post("/api/v1/posts",t,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${w.token}`}}).then(l=>{E.value=!1,l.data.status=="success"?(X(),x("fetch")):console.error("Error creating post:",l.data.message)}).catch(l=>{E.value=!1})}catch(t){console.error("Error creating post:",((s=t.response)==null?void 0:s.data)||t.message)}},L=(s,t)=>{t!="url"||N.value.push(s),M.value.splice(s,1)},y=()=>{D.value=!1,x("close")};return de(()=>{k.post&&(H(!0),u.value.post_code=k.post.post_code,u.value.content=k.post.content,u.value.title=k.post.title,M.value=k.post.media_urls.map(s=>({type:"url",url:s})),ke(()=>{b.value.innerHTML=k.post.content}))}),(s,t)=>{var l,h;return o(),i("div",{class:R(k.post?"fixed inset-0 z-50 flex items-center justify-center bg-black/60":"none")},[a("div",{class:R(["mx-auto w-full rounded-lg shadow-lg p-4 transition-all duration-300 ease-in-out",{"max-w-xl h-auto":D.value,"max-w-lg h-20":!D.value,"bg-gray-200 hover:bg-gray-300/40 dark:bg-gray-900/80 shadow-md dark:hover:bg-gray-900":!k.post,"bg-gray-200 dark:bg-gray-900 shadow-md":k.post}])},[a("div",He,[(l=n(w).user)!=null&&l.profile_photo?(o(),i("img",{key:0,src:(h=n(w).user)==null?void 0:h.profile_photo,alt:"User Avatar",class:"w-10 h-10 rounded-full mr-3"},null,8,Xe)):(o(),i("img",Ge)),v(se,{name:"fade",mode:"out-in"},{default:g(()=>[D.value?(o(),i("div",Ke,[a("div",We,[a("h2",Qe,T(n(w).user.username),1),a("p",Je,T(s.$filters.date(new Date)),1)]),a("p",{title:"Close",class:"icon-hover w-8 h-8 rounded-full flex icon-hover text-gray-100 dark:text-gray-400 bg-black/10 hover:bg-black/20 dark:bg-white/10 dark:hover:bg-white/20 dark:hover:text-white hover:text-black-900",onClick:$(y,["stop"])},t[3]||(t[3]=[a("i",{class:"fas fa-times m-auto fa-lg"},null,-1)]))])):(o(),i("div",{key:0,class:"w-full rounded-full h-10 px-4 bg-gray-300 dark:bg-gray-800/80 flex items-center cursor-pointer",onClick:t[0]||(t[0]=m=>H(!0))},t[2]||(t[2]=[a("p",{class:"text-gray-600 dark:text-gray-200"},"What's on your mind?",-1)])))]),_:1})]),D.value?(o(),i("form",{key:0,class:"mt-7",onSubmit:$(r,["prevent"])},[v(Ce,{type:"text",placeholder:"Title of this post",modelValue:u.value.title,"onUpdate:modelValue":t[1]||(t[1]=m=>u.value.title=m),error:V.value.title},null,8,["modelValue","error"]),a("div",Ye,[a("div",{ref_key:"editor",ref:b,contenteditable:"true",onInput:G,onKeydown:K,placeholder:"What's on your mind?",class:"w-full dark:text-white text-gray-800 placeholder:text-slate-400 min-h-[100px] text-sm border rounded-md px-3 py-2 transition duration-300 ease focus:outline-none shadow-sm bg-transparent text-slate-700 border-gray-300 hover:border-gray-400/50 focus:border-gray-400 dark:border-slate-700 dark:hover:border-slate-600 dark:focus:border-slate-500"},null,544),v(se,{name:"fade"},{default:g(()=>[n(p).length?(o(),i("div",Ze,[(o(!0),i(O,null,F(n(p),(m,P)=>(o(),i("div",{key:P,onMousedown:$(z=>Z(m),["prevent"]),class:"p-2 hover:bg-gray-100 cursor-pointer flex items-center gap-2"},[m.avatar?(o(),i("img",{key:0,src:m.avatar,class:"w-8 h-8 rounded-full object-cover"},null,8,tt)):(o(),i("i",st)),a("div",null,[a("p",at,T(m.name),1),a("p",ot,"@"+T(m.username),1)])],40,et))),128))])):A("",!0)]),_:1})]),a("div",{class:R(["media-previews flex overflow-x-auto space-x-4",{"pt-5":M.value.length}])},[v($e,{name:"bounce",appear:""},{default:g(()=>[(o(!0),i(O,null,F(M.value,(m,P)=>(o(),i("div",{key:P,class:"h-32 w-32 flex-shrink-0 relative mb-1"},[a("div",{onClick:z=>L(P,m.type),class:"w-6 h-6 flex absolute -top-3 -right-3 bg-vue/80 cursor-pointer hover:bg-laravel/70 transition-all duration-300 rounded-full text-white"},t[4]||(t[4]=[a("i",{class:"fas fa-times m-auto fa-sm"},null,-1)]),8,nt),a("img",{src:m.url,class:"h-full w-full rounded object-cover",alt:"Image Preview"},null,8,lt)]))),128))]),_:1})],2),a("div",rt,[a("input",{type:"file",onChange:C,accept:"image/*",class:"hidden",id:"media_upload",multiple:""},null,32),t[6]||(t[6]=a("label",{for:"media_upload",class:"flex items-center gap-2 text-green-600/60 hover:text-green-600/80 cursor-pointer"},[a("i",{class:"fas fa-paperclip"}),a("span",null,"Attach Media")],-1)),v(n(Ee),{type:"submit",class:"bg-vue/80 hover:bg-vue text-white transition-all duration-300",disabled:E.value},{default:g(()=>t[5]||(t[5]=[q(" Submit Post ")])),_:1},8,["disabled"])])],32)):A("",!0)],2)],2)}}},ut={class:"flex items-center p-4"},dt=["src"],ct={class:"font-semibold text-white text-lg"},pt={class:"text-sm text-gray-500"},ft={key:0,class:"relative inline-block ml-auto self-start"},mt={key:0,class:"absolute right-0 z-10 w-32 origin-top-right divide-y divide-gray-100 ring-1 shadow-lg ring-black/5 focus:outline-hidden",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},gt={class:"",role:"none"},vt={class:"px-4"},ht={key:0,class:"font-bold text-xl text-white text-gray-800 mb-0"},yt=["innerHTML"],xt={key:1,class:"grid gap-2 mb-4"},_t=["src"],bt={key:1,class:"grid grid-cols-2 gap-2"},wt=["src"],kt={key:2,class:"grid grid-cols-2 gap-2"},Ct=["src"],$t=["src"],Et={key:3,class:"grid grid-cols-2 gap-2 relative"},Tt=["src"],At={key:0,class:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center text-white text-xl font-bold rounded-lg",style:{gridArea:"2 / 2 / 3 / 3"}},Mt={class:"flex items-center space-x-4"},qt=["title"],Dt=["title"],St=["title"],Pt={class:"flex items-center space-x-2"},It={title:"Posted At",class:"text-gray-500 cursor-pointer text-sm"},Bt={title:"Share Post",class:"text-gray-500 cursor-pointer hover:text-red-400"},Nt={class:"relative"},Lt=["src"],Ot={__name:"PostCard",props:["post"],emits:["load_more","fetch","delete_post","liked_action","share_url"],setup(e,{emit:c}){const p=_(null),f=_(!1),d=_(!1),u=c,x=Ae(),w=ae(),N=j(()=>"/@"+e.post.user.username+"/"+e.post.post_code),M=_(!1),b=_(0),k=()=>{b.value<e.post.media_urls.length-1&&b.value++},D=()=>{b.value>0&&b.value--},E=C=>{C.target.src="/placeholder.svg"},V=C=>{C.target.src="/assets/front/images/user.png"},H=()=>{d.value=!0,f.value=!1},G=async C=>{f.value=!1,await axios.delete(`/api/v1/posts/${e.post.post_code}`,w.config).then(()=>{u("delete_post",e.post.post_code)})},K=C=>C.replace(/@(\w+)/g,'<a href="/@$1">@$1</a>'),W=()=>{new IntersectionObserver(r=>{r.forEach(L=>{L.isIntersecting&&u("load_more")})}).observe(p.value)},Q=async()=>{if(!w.isAuthenticated)x.push("/login");else{const C=await axios.get(`/api/v1/posts/like-unlike/${e.post.post_code}`,w.config);C.data.status=="success"?u("liked_action",[e.post.post_code,C.data.liked]):alert("Something went wrong")}},J=()=>{w.isAuthenticated?x.push(N.value):x.push("/login")},Y=()=>{u("share_url",N.value)},Z=()=>{u("fetch")},X=()=>{d.value=!1};return de(()=>{p.value.classList.contains("last_item")&&W()}),(C,r)=>{const L=Me("router-link");return o(),i("div",{ref_key:"element",ref:p},[a("div",{onClick:r[7]||(r[7]=y=>n(x).push(N.value)),class:"bg-gray-700/40 shadow-md rounded-lg overflow-hidden mb-4 hover:cursor-pointer hover:bg-gray-800/80 transition-all duration-350 ease-in"},[a("div",ut,[v(L,{to:"/"+e.post.user.username,onClick:r[0]||(r[0]=$(()=>{},["stop"]))},{default:g(()=>{var y,s;return[(y=e.post.user)!=null&&y.profile_photo?(o(),i("img",{key:0,src:(s=e.post.user)==null?void 0:s.profile_photo,alt:"User Avatar",class:"w-12 h-12 rounded-full",onError:V},null,40,dt)):(o(),i("img",{key:1,src:"/assets/front/images/user.png",alt:"User Avatar",class:"w-12 h-12 rounded-full",onError:V},null,32))]}),_:1},8,["to"]),v(L,{onClick:r[1]||(r[1]=$(()=>{},["stop"])),to:"/"+e.post.user.username,class:"ml-3"},{default:g(()=>[a("p",ct,T(e.post.user.name),1),a("p",pt,"@"+T(e.post.user.username),1)]),_:1},8,["to"]),n(w).isAuthenticated&&e.post.owner?(o(),i("div",ft,[a("i",{class:"fas fa-ellipsis-v cursor-pointer text-white p-2",onClick:r[2]||(r[2]=$(y=>f.value=!f.value,["stop"]))}),v(se,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:g(()=>[f.value?(o(),i("div",mt,[a("div",gt,[a("div",{onClick:r[3]||(r[3]=$(y=>H(),["stop"])),class:"block px-4 py-2 text-sm text-gray-700 transition-all duration-150 ease-in-out rounded-md bg-white hover:bg-gray-200 mb-1"},r[9]||(r[9]=[a("i",{class:"fas fa-pencil-alt mr-1"},null,-1),q(" Edit ")])),v(n(Be),null,{default:g(()=>[v(n(Ue),{"as-child":""},{default:g(()=>[a("div",{onClick:r[4]||(r[4]=$(()=>{},["stop"])),class:"block px-4 py-2 text-sm text-gray-700 transition-all duration-150 ease-in-out rounded-md bg-white hover:bg-gray-200"},r[10]||(r[10]=[a("i",{class:"fas fa-trash mr-1"},null,-1),q(" Delete ")]))]),_:1}),v(n(Oe),null,{default:g(()=>[v(n(ze),null,{default:g(()=>[v(n(Fe),null,{default:g(()=>r[11]||(r[11]=[q("Are you absolutely sure?")])),_:1}),v(n(Re),null,{default:g(()=>r[12]||(r[12]=[q(" This action cannot be undone. This will delete your post. ")])),_:1})]),_:1}),v(n(je),null,{default:g(()=>[v(n(Le),null,{default:g(()=>r[13]||(r[13]=[q("Cancel")])),_:1}),v(n(Ne),{onClick:r[5]||(r[5]=$(y=>G("delete"),["stop"]))},{default:g(()=>r[14]||(r[14]=[q("Continue")])),_:1})]),_:1})]),_:1})]),_:1})])])):A("",!0)]),_:1})])):A("",!0)]),a("div",vt,[e.post.title?(o(),i("h3",ht,T(e.post.title),1)):A("",!0),a("p",{class:"text-gray-700 mb-2 text-white",innerHTML:K(e.post.content),onClick:r[6]||(r[6]=$(()=>{},["stop"]))},null,8,yt),e.post.media_urls&&e.post.media_urls.length?(o(),i("div",xt,[e.post.media_urls.length===1?(o(),i("img",{key:0,src:e.post.media_urls[0],alt:"Post Media",class:"cursor-pointer rounded-lg object-cover w-full h-80",onError:E},null,40,_t)):e.post.media_urls.length===2?(o(),i("div",bt,[(o(!0),i(O,null,F(e.post.media_urls,(y,s)=>(o(),i(O,{key:y},[s<2?(o(),i("img",{key:0,src:y,alt:"Post Media",class:"cursor-pointer rounded-lg object-cover h-40 w-full",onError:E},null,40,wt)):A("",!0)],64))),128))])):e.post.media_urls.length===3?(o(),i("div",kt,[(o(!0),i(O,null,F(e.post.media_urls.slice(0,2),(y,s)=>(o(),i("img",{key:s,src:y,alt:"Post Media",class:"cursor-pointer rounded-lg object-cover h-40 w-full",onError:E},null,40,Ct))),128)),a("img",{src:e.post.media_urls[2],alt:"Post Media",class:"cursor-pointer col-span-2 rounded-lg object-cover h-40 w-full",onError:E},null,40,$t)])):(o(),i("div",Et,[(o(!0),i(O,null,F(e.post.media_urls.slice(0,4),(y,s)=>(o(),i("img",{key:s,src:y,alt:"Post Media",class:"cursor-pointer rounded-lg object-cover h-40 w-full",onError:E},null,40,Tt))),128)),e.post.media_urls.length>4?(o(),i("div",At," +"+T(e.post.media_urls.length-4)+" more ",1)):A("",!0)]))])):A("",!0),v(n(Se),{class:"flex items-center justify-between py-2 px-4 pt-0"},{default:g(()=>[a("div",Mt,[a("span",{title:e.post.likes_count+" Likes",class:"text-gray-500 cursor-pointer hover:text-red-400"},[a("i",{class:R(["fa-heart",e.post.liked?"fas text-red-500":"far"]),onClick:$(Q,["stop"])},null,2),q(" "+T(e.post.likes_count),1)],8,qt),a("span",{title:e.post.comments_count+" Comments",class:"text-gray-500 cursor-pointer hover:text-red-400"},[a("i",{class:"far fa-messages",onClick:$(J,["stop"])}),q(" "+T(e.post.comments_count),1)],8,Dt),a("span",{title:e.post.views_count+" Views",class:"text-gray-500 cursor-pointer hover:text-red-400"},[r[15]||(r[15]=a("i",{class:"far fa-chart-column"},null,-1)),q(" "+T(e.post.views_count),1)],8,St)]),a("div",Pt,[a("span",It,T(e.post.posted_at),1),r[16]||(r[16]=a("span",{class:"bg-red-400 w-[5px] h-[5px] rounded"},null,-1)),a("span",Bt,[a("i",{class:"far fa-paper-plane-top",onClick:$(Y,["stop"])})])])]),_:1})])]),d.value?(o(),I(it,{key:0,onClose:X,onFetch:Z,post:e.post},null,8,["post"])):A("",!0),v(n(De),{open:M.value,"onUpdate:open":r[8]||(r[8]=y=>M.value=y)},{default:g(()=>[v(n(qe),{class:"max-w-4xl p-0 border-0 shadow-md shadow-white"},{default:g(()=>[a("div",Nt,[a("img",{src:e.post.media_urls[b.value],alt:"Gallery image",class:"w-full h-auto object-contain rounded-lg"},null,8,Lt),b.value>0?(o(),i("button",{key:0,onClick:D,class:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-primary/20 text-white p-2 rounded-full"},[v(n(Pe),{class:"w-5 h-5"})])):A("",!0),b.value<e.post.media_urls.length-1?(o(),i("button",{key:1,onClick:k,class:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-primary/20 text-white p-2 rounded-full"},[v(n(Ie),{class:"w-5 h-5"})])):A("",!0)])]),_:1})]),_:1},8,["open"])],512)}}},Ft=Te(Ot,[["__scopeId","data-v-cc03ae67"]]);export{Ft as P,it as _,Be as a,Ue as b,Oe as c,ze as d,Fe as e,Re as f,je as g,Le as h,Ne as i};
//# sourceMappingURL=PostCard-kDCaobDP.js.map
