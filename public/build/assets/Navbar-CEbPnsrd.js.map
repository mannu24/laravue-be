{"version":3,"file":"Navbar-CEbPnsrd.js","sources":["../../../node_modules/lucide-vue-next/dist/esm/icons/menu.js","../../../node_modules/lucide-vue-next/dist/esm/icons/moon.js","../../../node_modules/lucide-vue-next/dist/esm/icons/sun.js","../../../node_modules/lucide-vue-next/dist/esm/icons/wifi-off.js","../../../node_modules/lucide-vue-next/dist/esm/icons/wifi.js","../../../resources/js/components/ui/navigation-menu/NavigationMenuViewport.vue","../../../resources/js/components/ui/navigation-menu/NavigationMenu.vue","../../../resources/js/components/ui/navigation-menu/NavigationMenuItem.vue","../../../resources/js/components/ui/navigation-menu/NavigationMenuList.vue","../../../resources/js/composables/useRealtimeNotifications.js","../../../resources/js/components/notifications/NotificationDropdown.vue","../../../resources/js/composables/useRecentSearches.js","../../../resources/js/components/Navbar.vue"],"sourcesContent":["/**\n * @license lucide-vue-next v0.474.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Menu = createLucideIcon(\"MenuIcon\", [\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"12\", y2: \"12\", key: \"1e0a9i\" }],\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"6\", y2: \"6\", key: \"1owob3\" }],\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"18\", y2: \"18\", key: \"yk5zj1\" }]\n]);\n\nexport { Menu as default };\n//# sourceMappingURL=menu.js.map\n","/**\n * @license lucide-vue-next v0.474.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Moon = createLucideIcon(\"MoonIcon\", [\n  [\"path\", { d: \"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z\", key: \"a7tn18\" }]\n]);\n\nexport { Moon as default };\n//# sourceMappingURL=moon.js.map\n","/**\n * @license lucide-vue-next v0.474.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Sun = createLucideIcon(\"SunIcon\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"4\", key: \"4exip2\" }],\n  [\"path\", { d: \"M12 2v2\", key: \"tus03m\" }],\n  [\"path\", { d: \"M12 20v2\", key: \"1lh1kg\" }],\n  [\"path\", { d: \"m4.93 4.93 1.41 1.41\", key: \"149t6j\" }],\n  [\"path\", { d: \"m17.66 17.66 1.41 1.41\", key: \"ptbguv\" }],\n  [\"path\", { d: \"M2 12h2\", key: \"1t8f8n\" }],\n  [\"path\", { d: \"M20 12h2\", key: \"1q8mjw\" }],\n  [\"path\", { d: \"m6.34 17.66-1.41 1.41\", key: \"1m8zz5\" }],\n  [\"path\", { d: \"m19.07 4.93-1.41 1.41\", key: \"1shlcs\" }]\n]);\n\nexport { Sun as default };\n//# sourceMappingURL=sun.js.map\n","/**\n * @license lucide-vue-next v0.474.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst WifiOff = createLucideIcon(\"WifiOffIcon\", [\n  [\"path\", { d: \"M12 20h.01\", key: \"zekei9\" }],\n  [\"path\", { d: \"M8.5 16.429a5 5 0 0 1 7 0\", key: \"1bycff\" }],\n  [\"path\", { d: \"M5 12.859a10 10 0 0 1 5.17-2.69\", key: \"1dl1wf\" }],\n  [\"path\", { d: \"M19 12.859a10 10 0 0 0-2.007-1.523\", key: \"4k23kn\" }],\n  [\"path\", { d: \"M2 8.82a15 15 0 0 1 4.177-2.643\", key: \"1grhjp\" }],\n  [\"path\", { d: \"M22 8.82a15 15 0 0 0-11.288-3.764\", key: \"z3jwby\" }],\n  [\"path\", { d: \"m2 2 20 20\", key: \"1ooewy\" }]\n]);\n\nexport { WifiOff as default };\n//# sourceMappingURL=wifi-off.js.map\n","/**\n * @license lucide-vue-next v0.474.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Wifi = createLucideIcon(\"WifiIcon\", [\n  [\"path\", { d: \"M12 20h.01\", key: \"zekei9\" }],\n  [\"path\", { d: \"M2 8.82a15 15 0 0 1 20 0\", key: \"dnpr2z\" }],\n  [\"path\", { d: \"M5 12.859a10 10 0 0 1 14 0\", key: \"1x1e6c\" }],\n  [\"path\", { d: \"M8.5 16.429a5 5 0 0 1 7 0\", key: \"1bycff\" }]\n]);\n\nexport { Wifi as default };\n//# sourceMappingURL=wifi.js.map\n","<script setup>\nimport { cn } from '/resources/js/lib/utils';\nimport { NavigationMenuViewport, useForwardProps } from 'radix-vue';\nimport { computed } from 'vue';\n\nconst props = defineProps({\n  forceMount: { type: Boolean, required: false },\n  asChild: { type: Boolean, required: false },\n  as: { type: null, required: false },\n  class: { type: null, required: false },\n});\n\nconst delegatedProps = computed(() => {\n  const { class: _, ...delegated } = props;\n\n  return delegated;\n});\n\nconst forwardedProps = useForwardProps(delegatedProps);\n</script>\n\n<template>\n  <div class=\"absolute left-0 top-full flex justify-center\">\n    <NavigationMenuViewport\n      v-bind=\"forwardedProps\"\n      :class=\"\n        cn(\n          'origin-top-center relative mt-1.5 h-[--radix-navigation-menu-viewport-height] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[--radix-navigation-menu-viewport-width]',\n          props.class,\n        )\n      \"\n    />\n  </div>\n</template>\n","<script setup>\nimport { cn } from '/resources/js/lib/utils';\nimport { NavigationMenuRoot, useForwardPropsEmits } from 'radix-vue';\nimport { computed } from 'vue';\nimport NavigationMenuViewport from './NavigationMenuViewport.vue';\n\nconst props = defineProps({\n  modelValue: { type: String, required: false },\n  defaultValue: { type: String, required: false },\n  dir: { type: String, required: false },\n  orientation: { type: String, required: false },\n  delayDuration: { type: Number, required: false },\n  skipDelayDuration: { type: Number, required: false },\n  disableClickTrigger: { type: Boolean, required: false },\n  disableHoverTrigger: { type: Boolean, required: false },\n  asChild: { type: Boolean, required: false },\n  as: { type: null, required: false },\n  class: { type: null, required: false },\n});\n\nconst emits = defineEmits(['update:modelValue']);\n\nconst delegatedProps = computed(() => {\n  const { class: _, ...delegated } = props;\n\n  return delegated;\n});\n\nconst forwarded = useForwardPropsEmits(delegatedProps, emits);\n</script>\n\n<template>\n  <NavigationMenuRoot\n    v-bind=\"forwarded\"\n    :class=\"\n      cn(\n        'relative z-10 flex max-w-max flex-1 items-center justify-center',\n        props.class,\n      )\n    \"\n  >\n    <slot />\n    <NavigationMenuViewport />\n  </NavigationMenuRoot>\n</template>\n","<script setup>\nimport { NavigationMenuItem } from 'radix-vue';\n\nconst props = defineProps({\n  value: { type: String, required: false },\n  asChild: { type: Boolean, required: false },\n  as: { type: null, required: false },\n});\n</script>\n\n<template>\n  <NavigationMenuItem v-bind=\"props\">\n    <slot />\n  </NavigationMenuItem>\n</template>\n","<script setup>\nimport { cn } from '/resources/js/lib/utils';\nimport { NavigationMenuList, useForwardProps } from 'radix-vue';\nimport { computed } from 'vue';\n\nconst props = defineProps({\n  asChild: { type: Boolean, required: false },\n  as: { type: null, required: false },\n  class: { type: null, required: false },\n});\n\nconst delegatedProps = computed(() => {\n  const { class: _, ...delegated } = props;\n\n  return delegated;\n});\n\nconst forwardedProps = useForwardProps(delegatedProps);\n</script>\n\n<template>\n  <NavigationMenuList\n    v-bind=\"forwardedProps\"\n    :class=\"\n      cn(\n        'group flex flex-1 list-none items-center justify-center gap-x-1',\n        props.class,\n      )\n    \"\n  >\n    <slot />\n  </NavigationMenuList>\n</template>\n","/**\r\n * Real-time Notifications Composable\r\n * \r\n * This composable handles real-time notification updates via WebSocket.\r\n * It integrates with Laravel Echo to listen for broadcast events.\r\n */\r\n\r\nimport { ref, onMounted, onBeforeUnmount, watch } from 'vue'\r\nimport { useAuthStore } from '../stores/auth'\r\nimport { useRouter } from 'vue-router'\r\n\r\n/**\r\n * Real-time notification state\r\n */\r\nconst notifications = ref([])\r\nconst unreadCount = ref(0)\r\nconst isConnected = ref(false)\r\nconst connectionError = ref(null)\r\nlet channel = null\r\nlet reconnectAttempts = 0\r\nconst MAX_RECONNECT_ATTEMPTS = 5\r\nconst RECONNECT_DELAY = 3000 // 3 seconds\r\n\r\n// Track notifications that were received via realtime to prevent double-counting\r\nconst realtimeReceivedIds = new Set()\r\n\r\n/**\r\n * Initialize real-time notification listener\r\n * \r\n * @param {Function} onNotificationReceived - Callback when notification is received\r\n * @param {Function} onUnreadCountUpdate - Callback when unread count updates\r\n * @returns {Object} Composable methods and state\r\n */\r\nexport function useRealtimeNotifications(\r\n    onNotificationReceived = null,\r\n    onUnreadCountUpdate = null\r\n) {\r\n    const authStore = useAuthStore()\r\n    const router = useRouter()\r\n\r\n    /**\r\n     * Connect to notification channel\r\n     */\r\n    const connect = () => {\r\n        if (!window.Echo) {\r\n            console.warn('[RealtimeNotifications] Echo not initialized')\r\n            connectionError.value = 'Broadcasting not configured'\r\n            return false\r\n        }\r\n\r\n        if (!authStore.isAuthenticated || !authStore.user?.id) {\r\n            console.warn('[RealtimeNotifications] User not authenticated')\r\n            return false\r\n        }\r\n\r\n        try {\r\n            const userId = authStore.user.id\r\n\r\n            // Disconnect existing channel if any\r\n            disconnect()\r\n\r\n            // Subscribe to user's private notification channel\r\n            channel = window.Echo.private(`user.${userId}`)\r\n\r\n            // Listen for notification.created event (broadcast as 'notification.created')\r\n            channel.listen('.notification.created', (notification) => {\r\n                handleNotificationReceived(notification)\r\n            })\r\n\r\n            // Listen for connection events\r\n            channel.subscribed(() => {\r\n                isConnected.value = true\r\n                connectionError.value = null\r\n                reconnectAttempts = 0\r\n                console.log('[RealtimeNotifications] Connected to notification channel')\r\n            })\r\n\r\n            channel.error((error) => {\r\n                console.error('[RealtimeNotifications] Channel error:', error)\r\n                connectionError.value = error.message || 'Connection error'\r\n                isConnected.value = false\r\n                attemptReconnect()\r\n            })\r\n\r\n            return true\r\n        } catch (error) {\r\n            console.error('[RealtimeNotifications] Connection failed:', error)\r\n            connectionError.value = error.message || 'Failed to connect'\r\n            isConnected.value = false\r\n            return false\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Disconnect from notification channel\r\n     */\r\n    const disconnect = () => {\r\n        if (channel) {\r\n            try {\r\n                window.Echo.leave(`user.${authStore.user?.id}`)\r\n                channel = null\r\n                isConnected.value = false\r\n                console.log('[RealtimeNotifications] Disconnected from notification channel')\r\n            } catch (error) {\r\n                console.error('[RealtimeNotifications] Disconnect error:', error)\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Handle received notification\r\n     */\r\n    const handleNotificationReceived = (notification) => {\r\n        try {\r\n            // Check if notification already exists (prevent duplicates)\r\n            const exists = notifications.value.some(n => n.id === notification.id)\r\n            if (exists) {\r\n                // Notification already exists, don't increment count\r\n                return\r\n            }\r\n\r\n            // Check if we've already processed this notification via realtime\r\n            // This prevents double-counting if the same notification is received multiple times\r\n            if (realtimeReceivedIds.has(notification.id)) {\r\n                return\r\n            }\r\n\r\n            // Mark as received via realtime\r\n            realtimeReceivedIds.add(notification.id)\r\n\r\n            // Add notification to the beginning of the list\r\n            notifications.value.unshift(notification)\r\n\r\n            // Update unread count if notification is unread\r\n            // Only increment if this is a truly new notification that wasn't already counted\r\n            if (!notification.read) {\r\n                // Increment the count - this is a new notification from realtime\r\n                // The API will be the source of truth when fetchNotifications is called\r\n                const currentCount = unreadCount.value || 0\r\n                unreadCount.value = currentCount + 1\r\n                updateUnreadCount(unreadCount.value)\r\n            }\r\n\r\n            // Call custom callback if provided\r\n            if (onNotificationReceived && typeof onNotificationReceived === 'function') {\r\n                onNotificationReceived(notification)\r\n            }\r\n\r\n            // Show browser notification if permission granted\r\n            if (Notification.permission === 'granted') {\r\n                showBrowserNotification(notification)\r\n            }\r\n\r\n            console.log('[RealtimeNotifications] Notification received:', notification)\r\n        } catch (error) {\r\n            console.error('[RealtimeNotifications] Error handling notification:', error)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Show browser notification\r\n     */\r\n    const showBrowserNotification = (notification) => {\r\n        try {\r\n            const browserNotification = new Notification(notification.title, {\r\n                body: notification.message,\r\n                icon: '/favicon.ico',\r\n                badge: '/favicon.ico',\r\n                tag: `notification-${notification.id}`,\r\n                data: notification.data,\r\n                requireInteraction: false,\r\n            })\r\n\r\n            // Handle notification click\r\n            browserNotification.onclick = () => {\r\n                browserNotification.close()\r\n                if (notification.data?.url) {\r\n                    router.push(notification.data.url)\r\n                }\r\n            }\r\n\r\n            // Auto-close after 5 seconds\r\n            setTimeout(() => {\r\n                browserNotification.close()\r\n            }, 5000)\r\n        } catch (error) {\r\n            console.error('[RealtimeNotifications] Error showing browser notification:', error)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Attempt to reconnect with exponential backoff\r\n     */\r\n    const attemptReconnect = () => {\r\n        if (reconnectAttempts >= MAX_RECONNECT_ATTEMPTS) {\r\n            console.error('[RealtimeNotifications] Max reconnection attempts reached')\r\n            connectionError.value = 'Failed to reconnect. Please refresh the page.'\r\n            return\r\n        }\r\n\r\n        reconnectAttempts++\r\n        const delay = RECONNECT_DELAY * reconnectAttempts\r\n\r\n        console.log(`[RealtimeNotifications] Attempting to reconnect (${reconnectAttempts}/${MAX_RECONNECT_ATTEMPTS}) in ${delay}ms`)\r\n\r\n        setTimeout(() => {\r\n            if (authStore.isAuthenticated) {\r\n                connect()\r\n            }\r\n        }, delay)\r\n    }\r\n\r\n    /**\r\n     * Update unread count\r\n     */\r\n    const updateUnreadCount = (count) => {\r\n        // Only update if count is different to prevent unnecessary updates\r\n        if (unreadCount.value !== count) {\r\n            unreadCount.value = count\r\n            if (onUnreadCountUpdate && typeof onUnreadCountUpdate === 'function') {\r\n                onUnreadCountUpdate(count)\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Reset realtime received IDs (called when API fetch happens to prevent stale tracking)\r\n     */\r\n    const resetRealtimeTracking = () => {\r\n        // Clear the set when API fetch happens - API is source of truth\r\n        realtimeReceivedIds.clear()\r\n    }\r\n\r\n    /**\r\n     * Mark notification as read (optimistic update)\r\n     */\r\n    const markAsRead = (notificationId) => {\r\n        const notification = notifications.value.find(n => n.id === notificationId)\r\n        if (notification && !notification.read) {\r\n            notification.read = true\r\n            notification.read_at = new Date().toISOString()\r\n            if (unreadCount.value > 0) {\r\n                unreadCount.value--\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Remove notification from list\r\n     */\r\n    const removeNotification = (notificationId) => {\r\n        const index = notifications.value.findIndex(n => n.id === notificationId)\r\n        if (index !== -1) {\r\n            const notification = notifications.value[index]\r\n            notifications.value.splice(index, 1)\r\n            if (!notification.read && unreadCount.value > 0) {\r\n                unreadCount.value--\r\n            }\r\n        }\r\n    }\r\n\r\n    // Watch for authentication changes\r\n    watch(\r\n        () => authStore.isAuthenticated,\r\n        (isAuthenticated) => {\r\n            if (isAuthenticated) {\r\n                connect()\r\n            } else {\r\n                disconnect()\r\n                notifications.value = []\r\n                unreadCount.value = 0\r\n                realtimeReceivedIds.clear()\r\n            }\r\n        },\r\n        { immediate: true }\r\n    )\r\n\r\n    // Connect on mount\r\n    onMounted(() => {\r\n        if (authStore.isAuthenticated) {\r\n            connect()\r\n        }\r\n    })\r\n\r\n    // Disconnect on unmount\r\n    onBeforeUnmount(() => {\r\n        disconnect()\r\n    })\r\n\r\n    return {\r\n        notifications,\r\n        unreadCount,\r\n        isConnected,\r\n        connectionError,\r\n        connect,\r\n        disconnect,\r\n        updateUnreadCount,\r\n        markAsRead,\r\n        removeNotification,\r\n        resetRealtimeTracking,\r\n    }\r\n}\r\n\r\n","<script setup>\r\nimport { ref, computed, onMounted, onBeforeUnmount, watch } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { useAuthStore } from '../../stores/auth'\r\nimport { useThemeStore } from '../../stores/theme'\r\nimport { useRealtimeNotifications } from '../../composables/useRealtimeNotifications'\r\nimport { Bell, Check, X, Wifi, WifiOff } from 'lucide-vue-next'\r\nimport { Button } from '../ui/button'\r\nimport axios from 'axios'\r\n\r\nconst authStore = useAuthStore()\r\nconst themeStore = useThemeStore()\r\nconst router = useRouter()\r\n\r\nconst isOpen = ref(false)\r\nconst notifications = ref([])\r\nconst unreadCount = ref(0)\r\nconst isLoading = ref(false)\r\nconst dropdownRef = ref(null)\r\n\r\n// Real-time notifications composable\r\nconst {\r\n    notifications: realtimeNotifications,\r\n    unreadCount: realtimeUnreadCount,\r\n    isConnected: isRealtimeConnected,\r\n    connectionError: realtimeError,\r\n    markAsRead: markRealtimeAsRead,\r\n    updateUnreadCount: updateRealtimeUnreadCount,\r\n    resetRealtimeTracking,\r\n} = useRealtimeNotifications(\r\n    // onNotificationReceived callback\r\n    (notification) => {\r\n        // Add to local notifications if not already present\r\n        const exists = notifications.value.some(n => n.id === notification.id)\r\n        if (!exists) {\r\n            notifications.value.unshift(notification)\r\n            // Keep only latest 6 notifications in dropdown\r\n            if (notifications.value.length > 6) {\r\n                notifications.value = notifications.value.slice(0, 6)\r\n            }\r\n            \r\n            // If notification is unread, increment count\r\n            // But we'll sync with API on next fetch to ensure accuracy\r\n            if (!notification.read) {\r\n                // Don't increment here - let the realtime composable handle it\r\n                // The count will be synced with API when fetchNotifications is called\r\n            }\r\n        }\r\n    },\r\n    // onUnreadCountUpdate callback\r\n    (count) => {\r\n        // Only update if count is different to prevent unnecessary updates\r\n        // The watcher will also handle this, but this ensures consistency\r\n        if (unreadCount.value !== count) {\r\n            unreadCount.value = count\r\n        }\r\n    }\r\n)\r\n\r\n// Fetch notifications from API\r\nconst fetchNotifications = async () => {\r\n    if (!authStore.isAuthenticated) return\r\n    \r\n    isLoading.value = true\r\n    try {\r\n        const response = await axios.get('/api/v1/notifications?per_page=6&unread_only=false', authStore.config)\r\n        if (response.data.status === 'success') {\r\n            const apiNotifications = response.data.data.notifications || []\r\n            \r\n            // Merge with real-time notifications, avoiding duplicates\r\n            const existingIds = new Set(notifications.value.map(n => n.id))\r\n            const newNotifications = apiNotifications.filter(n => !existingIds.has(n.id))\r\n            \r\n            notifications.value = [...newNotifications, ...notifications.value].slice(0, 6)\r\n            \r\n            // Use API unread count as source of truth (it's always accurate)\r\n            // This ensures we don't double-count notifications that were already in the API response\r\n            const apiUnreadCount = response.data.data.pagination?.unread_count || 0\r\n            unreadCount.value = apiUnreadCount\r\n            \r\n            // Sync with real-time unread count to reset it to API value\r\n            // This prevents double-counting when realtime notifications arrive after API fetch\r\n            updateRealtimeUnreadCount(apiUnreadCount)\r\n            \r\n            // Reset realtime tracking to prevent double-counting\r\n            // When API fetch happens, all notifications in API are considered \"already counted\"\r\n            resetRealtimeTracking()\r\n        }\r\n    } catch (error) {\r\n        console.error('Error fetching notifications:', error)\r\n    } finally {\r\n        isLoading.value = false\r\n    }\r\n}\r\n\r\n// Fetch unread count only\r\nconst fetchUnreadCount = async () => {\r\n    if (!authStore.isAuthenticated) return\r\n    \r\n    try {\r\n        const response = await axios.get('/api/v1/notifications/unread-count', authStore.config)\r\n        if (response.data.status === 'success') {\r\n            const count = response.data.data.unread_count || 0\r\n            unreadCount.value = count\r\n            updateRealtimeUnreadCount(count)\r\n        }\r\n    } catch (error) {\r\n        console.error('Error fetching unread count:', error)\r\n    }\r\n}\r\n\r\n// Watch for real-time unread count changes\r\n// Only update if the count actually changed to prevent unnecessary updates\r\nwatch(realtimeUnreadCount, (newCount) => {\r\n    if (newCount !== null && newCount !== undefined && newCount !== unreadCount.value) {\r\n        unreadCount.value = newCount\r\n    }\r\n}, { immediate: true })\r\n\r\n// Mark notification as read\r\nconst markAsRead = async (notificationId, event) => {\r\n    if (event) {\r\n        event.stopPropagation()\r\n    }\r\n    \r\n    // Optimistic update\r\n    const notification = notifications.value.find(n => n.id === notificationId)\r\n    if (notification && !notification.read) {\r\n        notification.read = true\r\n        notification.read_at = new Date().toISOString()\r\n        if (unreadCount.value > 0) {\r\n            unreadCount.value--\r\n        }\r\n        // Also update real-time state\r\n        markRealtimeAsRead(notificationId)\r\n    }\r\n    \r\n    try {\r\n        await axios.post(`/api/v1/notifications/${notificationId}/read`, {}, authStore.config)\r\n    } catch (error) {\r\n        console.error('Error marking notification as read:', error)\r\n        // Revert optimistic update on error\r\n        if (notification) {\r\n            notification.read = false\r\n            notification.read_at = null\r\n            unreadCount.value++\r\n        }\r\n    }\r\n}\r\n\r\n// Handle notification click\r\nconst handleNotificationClick = (notification) => {\r\n    if (!notification.read) {\r\n        markAsRead(notification.id, { stopPropagation: () => {} })\r\n    }\r\n    \r\n    // Navigate based on notification type and data\r\n    if (notification.data?.url) {\r\n        router.push(notification.data.url)\r\n        isOpen.value = false\r\n    }\r\n}\r\n\r\n// Toggle dropdown\r\nconst toggleDropdown = () => {\r\n    isOpen.value = !isOpen.value\r\n    if (isOpen.value) {\r\n        fetchNotifications()\r\n    }\r\n}\r\n\r\n// Close dropdown when clicking outside\r\nconst handleClickOutside = (event) => {\r\n    if (dropdownRef.value && !dropdownRef.value.contains(event.target)) {\r\n        isOpen.value = false\r\n    }\r\n}\r\n\r\n// View all notifications\r\nconst viewAll = () => {\r\n    router.push('/notifications')\r\n    isOpen.value = false\r\n}\r\n\r\n// Get notification icon based on type\r\nconst getNotificationIcon = (type) => {\r\n    const icons = {\r\n        'post_liked': 'â¤ï¸',\r\n        'post_commented': 'ðŸ’¬',\r\n        'comment_liked': 'ðŸ‘',\r\n        'question_liked': 'ðŸ‘',\r\n        'question_upvoted': 'â¬†ï¸',\r\n        'question_answered': 'ðŸ’¡',\r\n        'answer_upvoted': 'â¬†ï¸',\r\n        'answer_replied': 'ðŸ’¬',\r\n        'answer_accepted': 'âœ…',\r\n        'mentioned': 'ðŸ””',\r\n        'followed': 'ðŸ‘¤',\r\n    }\r\n    return icons[type] || 'ðŸ””'\r\n}\r\n\r\n// Get notification color based on type\r\nconst getNotificationColor = (type) => {\r\n    const colors = {\r\n        'post_liked': themeStore.isDark ? 'bg-red-900/30 text-red-400' : 'bg-red-100 text-red-600',\r\n        'post_commented': themeStore.isDark ? 'bg-blue-900/30 text-blue-400' : 'bg-blue-100 text-blue-600',\r\n        'comment_liked': themeStore.isDark ? 'bg-yellow-900/30 text-yellow-400' : 'bg-yellow-100 text-yellow-600',\r\n        'question_liked': themeStore.isDark ? 'bg-green-900/30 text-green-400' : 'bg-green-100 text-green-600',\r\n        'question_upvoted': themeStore.isDark ? 'bg-purple-900/30 text-purple-400' : 'bg-purple-100 text-purple-600',\r\n        'question_answered': themeStore.isDark ? 'bg-indigo-900/30 text-indigo-400' : 'bg-indigo-100 text-indigo-600',\r\n        'answer_upvoted': themeStore.isDark ? 'bg-purple-900/30 text-purple-400' : 'bg-purple-100 text-purple-600',\r\n        'answer_replied': themeStore.isDark ? 'bg-blue-900/30 text-blue-400' : 'bg-blue-100 text-blue-600',\r\n        'answer_accepted': themeStore.isDark ? 'bg-green-900/30 text-green-400' : 'bg-green-100 text-green-600',\r\n        'mentioned': themeStore.isDark ? 'bg-orange-900/30 text-orange-400' : 'bg-orange-100 text-orange-600',\r\n        'followed': themeStore.isDark ? 'bg-pink-900/30 text-pink-400' : 'bg-pink-100 text-pink-600',\r\n    }\r\n    return colors[type] || (themeStore.isDark ? 'bg-gray-800 text-gray-400' : 'bg-gray-100 text-gray-600')\r\n}\r\n\r\n// Format time\r\nconst formatTime = (dateString) => {\r\n    const date = new Date(dateString)\r\n    const now = new Date()\r\n    const diff = now - date\r\n    const seconds = Math.floor(diff / 1000)\r\n    const minutes = Math.floor(seconds / 60)\r\n    const hours = Math.floor(minutes / 60)\r\n    const days = Math.floor(hours / 24)\r\n    \r\n    if (days > 0) return `${days}d ago`\r\n    if (hours > 0) return `${hours}h ago`\r\n    if (minutes > 0) return `${minutes}m ago`\r\n    return 'Just now'\r\n}\r\n\r\n// Polling control (fallback when realtime unavailable)\r\nlet pollingIntervalId = null\r\nconst POLLING_INTERVAL = 10000\r\n\r\nconst startPolling = () => {\r\n    if (pollingIntervalId || !authStore.isAuthenticated) {\r\n        return\r\n    }\r\n    // Initial fetch when polling starts\r\n    fetchNotifications()\r\n    pollingIntervalId = setInterval(() => {\r\n        fetchNotifications()\r\n    }, POLLING_INTERVAL)\r\n}\r\n\r\nconst stopPolling = () => {\r\n    if (pollingIntervalId) {\r\n        clearInterval(pollingIntervalId)\r\n        pollingIntervalId = null\r\n    }\r\n}\r\n\r\nwatch(isRealtimeConnected, (connected) => {\r\n    if (connected) {\r\n        stopPolling()\r\n    } else {\r\n        startPolling()\r\n    }\r\n}, { immediate: true })\r\n\r\nonMounted(() => {\r\n    if (authStore.isAuthenticated) {\r\n        // fetchNotifications already returns unread_count, so no need for separate fetchUnreadCount call\r\n        if (!isRealtimeConnected.value) {\r\n            startPolling()\r\n        }\r\n    }\r\n    document.addEventListener('click', handleClickOutside)\r\n})\r\n\r\nonBeforeUnmount(() => {\r\n    stopPolling()\r\n    document.removeEventListener('click', handleClickOutside)\r\n})\r\n</script>\r\n\r\n<template>\r\n    <div v-if=\"authStore.isAuthenticated\" ref=\"dropdownRef\" class=\"relative\">\r\n        <!-- Bell Icon Button -->\r\n        <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            @click=\"toggleDropdown\"\r\n            class=\"relative hover:bg-transparent hover:bg-gradient-to-r hover:from-primary/10 hover:to-secondary/10 transition-all duration-300 text-gray-700 dark:text-gray-300 dark:hover:text-white\"\r\n        >\r\n            <Bell class=\"h-5 w-5\" />\r\n            <span\r\n                v-if=\"unreadCount > 0\"\r\n                class=\"absolute -top-1 -right-1 h-5 w-5 rounded-full flex items-center justify-center text-xs font-bold text-white\"\r\n                :class=\"themeStore.isDark ? 'bg-red-600' : 'bg-red-500'\"\r\n            >\r\n                {{ unreadCount > 9 ? '9+' : unreadCount }}\r\n            </span>\r\n        </Button>\r\n\r\n        <!-- Dropdown -->\r\n        <Transition name=\"dropdown\">\r\n            <div\r\n                v-if=\"isOpen\"\r\n                class=\"absolute right-0 mt-2 w-96 max-h-[500px] rounded-xl shadow-2xl border backdrop-blur-xl overflow-hidden z-50\"\r\n                :class=\"[\r\n                    themeStore.isDark\r\n                        ? 'bg-gray-900/95 border-gray-800'\r\n                        : 'bg-white/95 border-gray-200'\r\n                ]\"\r\n            >\r\n                <!-- Header -->\r\n                <div class=\"flex items-center justify-between px-4 py-2 border-b\" :class=\"[\r\n                    themeStore.isDark ? 'border-gray-800' : 'border-gray-200'\r\n                ]\">\r\n                    <div class=\"flex items-center gap-2\">\r\n                        <h3 class=\"font-semibold text-lg\" :class=\"[\r\n                            themeStore.isDark ? 'text-white' : 'text-gray-900'\r\n                        ]\">\r\n                            Notifications\r\n                        </h3>\r\n                        <!-- Connection Status Indicator -->\r\n                        <div class=\"flex items-center gap-1\" :title=\"isRealtimeConnected ? 'Real-time connected' : 'Real-time disconnected'\">\r\n                            <Wifi \r\n                                v-if=\"isRealtimeConnected\" \r\n                                class=\"h-3 w-3\" \r\n                                :class=\"themeStore.isDark ? 'text-green-400' : 'text-green-600'\"\r\n                            />\r\n                            <WifiOff \r\n                                v-else \r\n                                class=\"h-3 w-3\" \r\n                                :class=\"themeStore.isDark ? 'text-gray-500' : 'text-gray-400'\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <Button\r\n                        variant=\"ghost\"\r\n                        size=\"icon\"\r\n                        @click=\"isOpen = false\"\r\n                        class=\"h-8 w-8\"\r\n                    >\r\n                        <X class=\"h-4 w-4\" />\r\n                    </Button>\r\n                </div>\r\n\r\n                <!-- Notifications List -->\r\n                <div class=\"max-h-[400px] overflow-y-auto\">\r\n                    <div v-if=\"isLoading\" class=\"p-8 text-center\">\r\n                        <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto mb-2\" :class=\"[\r\n                            themeStore.isDark ? 'border-white' : 'border-gray-900'\r\n                        ]\"></div>\r\n                        <p class=\"text-sm\" :class=\"[\r\n                            themeStore.isDark ? 'text-gray-400' : 'text-gray-600'\r\n                        ]\">Loading...</p>\r\n                    </div>\r\n\r\n                    <div v-else-if=\"notifications.length === 0\" class=\"p-8 text-center\">\r\n                        <Bell class=\"h-12 w-12 mx-auto mb-3 opacity-50\" :class=\"[\r\n                            themeStore.isDark ? 'text-gray-600' : 'text-gray-400'\r\n                        ]\" />\r\n                        <p class=\"text-sm font-medium mb-1\" :class=\"[\r\n                            themeStore.isDark ? 'text-white' : 'text-gray-900'\r\n                        ]\">No notifications</p>\r\n                        <p class=\"text-xs\" :class=\"[\r\n                            themeStore.isDark ? 'text-gray-500' : 'text-gray-500'\r\n                        ]\">You're all caught up!</p>\r\n                    </div>\r\n\r\n                    <div v-else class=\"divide-y\" :class=\"[\r\n                        themeStore.isDark ? 'divide-gray-800' : 'divide-gray-100'\r\n                    ]\">\r\n                        <div\r\n                            v-for=\"notification in notifications\"\r\n                            :key=\"notification.id\"\r\n                            @click=\"handleNotificationClick(notification)\"\r\n                            class=\"px-4 py-3 cursor-pointer transition-colors relative group\"\r\n                            :class=\"[\r\n                                notification.read\r\n                                    ? (themeStore.isDark ? 'hover:bg-gray-800/50' : 'hover:bg-gray-50')\r\n                                    : (themeStore.isDark ? 'bg-blue-900/10 hover:bg-blue-900/20' : 'bg-blue-50/50 hover:bg-blue-50')\r\n                            ]\"\r\n                        >\r\n                            <!-- Unread Indicator -->\r\n                            <div\r\n                                v-if=\"!notification.read\"\r\n                                class=\"absolute left-0 top-0 bottom-0 w-1\"\r\n                                :class=\"themeStore.isDark ? 'bg-blue-500' : 'bg-blue-500'\"\r\n                            ></div>\r\n\r\n                            <div class=\"flex items-start gap-3\">\r\n                                <!-- Icon -->\r\n                                <div class=\"flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center text-lg\" :class=\"getNotificationColor(notification.type)\">\r\n                                    {{ getNotificationIcon(notification.type) }}\r\n                                </div>\r\n\r\n                                <!-- Content -->\r\n                                <div class=\"flex-1 min-w-0\">\r\n                                    <div class=\"flex items-start justify-between gap-2 mb-1\">\r\n                                        <p class=\"text-sm font-medium line-clamp-2\" :class=\"[\r\n                                            themeStore.isDark ? 'text-white' : 'text-gray-900'\r\n                                        ]\">\r\n                                            {{ notification.title }}\r\n                                        </p>\r\n                                        <Button\r\n                                            v-if=\"!notification.read\"\r\n                                            variant=\"ghost\"\r\n                                            size=\"icon\"\r\n                                            @click.stop=\"markAsRead(notification.id, $event)\"\r\n                                            class=\"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0\"\r\n                                        >\r\n                                            <Check class=\"h-3 w-3\" />\r\n                                        </Button>\r\n                                    </div>\r\n                                    <p class=\"text-xs mb-2 line-clamp-2\" :class=\"[\r\n                                        themeStore.isDark ? 'text-gray-400' : 'text-gray-600'\r\n                                    ]\">\r\n                                        {{ notification.message }}\r\n                                    </p>\r\n                                    <div class=\"flex items-center justify-between\">\r\n                                        <span class=\"text-xs\" :class=\"[\r\n                                            themeStore.isDark ? 'text-gray-500' : 'text-gray-500'\r\n                                        ]\">\r\n                                            {{ formatTime(notification.created_at) }}\r\n                                        </span>\r\n                                        <span\r\n                                            v-if=\"notification.notifiable\"\r\n                                            class=\"text-xs font-medium\"\r\n                                            :class=\"[\r\n                                                themeStore.isDark ? 'text-gray-400' : 'text-gray-600'\r\n                                            ]\"\r\n                                        >\r\n                                            @{{ notification.notifiable.username }}\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Footer -->\r\n                <div v-if=\"notifications.length > 0\" class=\"px-4 py-2 border-t\" :class=\"[\r\n                    themeStore.isDark ? 'border-gray-800 bg-gray-900/50' : 'border-gray-200 bg-gray-50/50'\r\n                ]\">\r\n                    <Button\r\n                        variant=\"ghost\"\r\n                        class=\"w-full justify-center text-sm\"\r\n                        @click=\"viewAll\"\r\n                    >\r\n                        View All Notifications\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </Transition>\r\n    </div>\r\n</template>\r\n\r\n<style scoped>\r\n.dropdown-enter-active,\r\n.dropdown-leave-active {\r\n    transition: all 0.2s ease;\r\n}\r\n\r\n.dropdown-enter-from,\r\n.dropdown-leave-to {\r\n    opacity: 0;\r\n    transform: translateY(-10px) scale(0.95);\r\n}\r\n\r\n.line-clamp-2 {\r\n    display: -webkit-box;\r\n    line-clamp: 2;\r\n    -webkit-line-clamp: 2;\r\n    -webkit-box-orient: vertical;\r\n    overflow: hidden;\r\n}\r\n</style>\r\n\r\n","/**\r\n * Recent Searches Composable\r\n * \r\n * Manages recent searches in localStorage (max 5 searches)\r\n */\r\n\r\nimport { ref } from 'vue'\r\n\r\nconst RECENT_SEARCHES_KEY = 'recent_searches'\r\nconst MAX_RECENT_SEARCHES = 5\r\n\r\n/**\r\n * Recent Searches Composable\r\n * \r\n * @returns {Object} Recent searches state and methods\r\n */\r\nexport function useRecentSearches() {\r\n    // Instance-specific state\r\n    const recentSearches = ref([])\r\n\r\n    /**\r\n     * Load recent searches from localStorage\r\n     */\r\n    const loadRecentSearches = () => {\r\n        try {\r\n            const stored = localStorage.getItem(RECENT_SEARCHES_KEY)\r\n            if (stored) {\r\n                recentSearches.value = JSON.parse(stored)\r\n            } else {\r\n                recentSearches.value = []\r\n            }\r\n        } catch (error) {\r\n            console.error('Error loading recent searches:', error)\r\n            recentSearches.value = []\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Save recent searches to localStorage\r\n     */\r\n    const saveRecentSearches = () => {\r\n        try {\r\n            localStorage.setItem(RECENT_SEARCHES_KEY, JSON.stringify(recentSearches.value))\r\n        } catch (error) {\r\n            console.error('Error saving recent searches:', error)\r\n        }\r\n    }\r\n\r\n    // Load on initialization\r\n    loadRecentSearches()\r\n\r\n    /**\r\n     * Add a search to recent searches\r\n     * \r\n     * @param {string} query - The search query\r\n     */\r\n    const addRecentSearch = (query) => {\r\n        if (!query || query.trim().length < 3) {\r\n            return\r\n        }\r\n\r\n        const trimmedQuery = query.trim()\r\n\r\n        // Remove if already exists (to move it to top)\r\n        recentSearches.value = recentSearches.value.filter(\r\n            search => search.query.toLowerCase() !== trimmedQuery.toLowerCase()\r\n        )\r\n\r\n        // Add to beginning\r\n        recentSearches.value.unshift({\r\n            query: trimmedQuery,\r\n            timestamp: Date.now(),\r\n        })\r\n\r\n        // Keep only max recent searches\r\n        if (recentSearches.value.length > MAX_RECENT_SEARCHES) {\r\n            recentSearches.value = recentSearches.value.slice(0, MAX_RECENT_SEARCHES)\r\n        }\r\n\r\n        saveRecentSearches()\r\n    }\r\n\r\n    /**\r\n     * Remove a specific recent search\r\n     * \r\n     * @param {string} query - The search query to remove\r\n     */\r\n    const removeRecentSearch = (query) => {\r\n        recentSearches.value = recentSearches.value.filter(\r\n            search => search.query.toLowerCase() !== query.toLowerCase()\r\n        )\r\n        saveRecentSearches()\r\n    }\r\n\r\n    /**\r\n     * Clear all recent searches\r\n     */\r\n    const clearRecentSearches = () => {\r\n        recentSearches.value = []\r\n        saveRecentSearches()\r\n    }\r\n\r\n    /**\r\n     * Get formatted time ago for a search\r\n     * \r\n     * @param {number} timestamp - The timestamp\r\n     * @returns {string}\r\n     */\r\n    const getTimeAgo = (timestamp) => {\r\n        const now = Date.now()\r\n        const diff = now - timestamp\r\n        const seconds = Math.floor(diff / 1000)\r\n        const minutes = Math.floor(seconds / 60)\r\n        const hours = Math.floor(minutes / 60)\r\n        const days = Math.floor(hours / 24)\r\n\r\n        if (days > 0) return `${days}d ago`\r\n        if (hours > 0) return `${hours}h ago`\r\n        if (minutes > 0) return `${minutes}m ago`\r\n        return 'Just now'\r\n    }\r\n\r\n    return {\r\n        recentSearches,\r\n        addRecentSearch,\r\n        removeRecentSearch,\r\n        clearRecentSearches,\r\n        getTimeAgo,\r\n        loadRecentSearches,\r\n    }\r\n}\r\n\r\n","<script setup>\nimport { ref, onMounted, onBeforeUnmount, computed, watch, nextTick } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport {\n    NavigationMenu,\n    NavigationMenuItem,\n    NavigationMenuLink,\n    NavigationMenuList,\n} from '@/components/ui/navigation-menu'\nimport { Sun, Moon, Menu, X, Zap, Search, Loader2, FileText, MessageSquare, FolderOpen, Users, ChevronRight, Clock } from 'lucide-vue-next'\nimport NotificationDropdown from './notifications/NotificationDropdown.vue'\nimport { useAuthStore } from '../stores/auth.js'\nimport { useThemeStore } from '../stores/theme.js'\nimport { useDebounceFn } from '@vueuse/core'\nimport axios from 'axios'\nimport { useRecentSearches } from '../composables/useRecentSearches'\nimport { useNavbarSearch } from '../composables/useNavbarSearch'\n\nconst router = useRouter()\nconst route = useRoute()\nconst { showSearch, searchQuery, openSearch, closeSearch: closeNavbarSearch } = useNavbarSearch()\nconst searchResults = ref([])\nconst totalSearchResults = ref(0)\nconst hasMoreResults = ref(false)\nconst isSearching = ref(false)\nconst searchInputRef = ref(null)\nconst searchModalRef = ref(null)\nconst searchButtonRef = ref(null)\nconst isMobileMenuOpen = ref(false)\nconst authStore = useAuthStore()\nconst themeStore = useThemeStore()\n\n// Recent searches functionality\nconst { recentSearches, addRecentSearch, removeRecentSearch, clearRecentSearches, getTimeAgo } = useRecentSearches()\n\nconst navigation = computed(() => [\n    { name: 'Home', href: '/', current: route.path === '/' },\n    { name: 'About', href: '/about', current: route.path === '/about' },\n    { name: 'Projects', href: '/projects', current: route.path === '/projects' },\n    { name: 'Feed', href: '/feed', current: route.path === '/feed' },\n    { name: 'QNA', href: '/qna', current: route.path === '/qna' },\n    { name: 'Contact', href: '/contact', current: route.path === '/contact' },\n])\n\n\n// Debounced search function\nconst performSearch = useDebounceFn(async (query) => {\n    if (query.length < 3) {\n        searchResults.value = []\n        return\n    }\n\n    isSearching.value = true\n    try {\n        // For navbar dropdown: use limit=10 without pagination (no per_page parameter)\n        const response = await axios.get(`/api/v1/search?q=${encodeURIComponent(query)}&include_trending=false&include_recommended=false&limit=10`, authStore.config)\n        if (response.data.status === 'success' && response.data.data) {\n            const data = response.data.data\n            // Combine all results into a single array (max 10 for dropdown)\n            const allResults = [\n                ...(data.posts || []).map(item => ({ ...item, icon: FileText })),\n                ...(data.questions || []).map(item => ({ ...item, icon: MessageSquare })),\n                ...(data.users || []).map(item => ({ ...item, icon: Users })),\n                ...(data.projects || []).map(item => ({ ...item, icon: FolderOpen })),\n            ]\n            // Limit to 10 results for dropdown\n            searchResults.value = allResults.slice(0, 10)\n            totalSearchResults.value = data.meta?.total_results || 0\n            hasMoreResults.value = data.meta?.has_more || allResults.length > 10\n        } else {\n            searchResults.value = []\n            totalSearchResults.value = 0\n            hasMoreResults.value = false\n        }\n    } catch (error) {\n        console.error('Search error:', error)\n        searchResults.value = []\n        totalSearchResults.value = 0\n        hasMoreResults.value = false\n    } finally {\n        isSearching.value = false\n    }\n}, 500)\n\n// Watch search query changes\nwatch(searchQuery, (newQuery) => {\n    if (newQuery.length >= 3) {\n        performSearch(newQuery)\n    } else {\n        searchResults.value = []\n    }\n})\n\n// Close search modal\nconst closeSearch = () => {\n    showSearch.value = false\n    searchQuery.value = ''\n    searchResults.value = []\n    totalSearchResults.value = 0\n    hasMoreResults.value = false\n}\n\n// Navigate to search results page\nconst viewAllResults = () => {\n    if (searchQuery.value.length >= 3) {\n        // Save to recent searches\n        addRecentSearch(searchQuery.value)\n        router.push({ \n            name: 'search-results', \n            query: { q: searchQuery.value } \n        })\n        closeSearch()\n    }\n}\n\n// Handle search result click\nconst handleResultClick = (result) => {\n    if (result.url) {\n        router.push(result.url)\n        // Save to recent searches if it's a valid search query\n        if (searchQuery.value && searchQuery.value.trim().length >= 3) {\n            addRecentSearch(searchQuery.value)\n        }\n        closeSearch()\n    } else if (result.type === 'user' && result.username) {\n        router.push(`/@${result.username}`)\n        // Save to recent searches if it's a valid search query\n        if (searchQuery.value && searchQuery.value.trim().length >= 3) {\n            addRecentSearch(searchQuery.value)\n        }\n        closeSearch()\n    }\n}\n\n// Handle recent search click\nconst handleRecentSearchClick = (query) => {\n    searchQuery.value = query\n    performSearch(query)\n    // Move to top of recent searches\n    addRecentSearch(query)\n}\n\n// Handle remove recent search\nconst handleRemoveRecentSearch = (e, query) => {\n    e.stopPropagation()\n    removeRecentSearch(query)\n}\n\n// Handle clear all recent searches\nconst handleClearAllRecentSearches = (e) => {\n    e.stopPropagation()\n    clearRecentSearches()\n}\n\n// Handle keyboard navigation\nconst handleKeydown = (e) => {\n    if (e.key === 'Escape') {\n        closeSearch()\n    }\n}\n\n// Handle Ctrl+K / Cmd+K to open search\nconst handleGlobalKeydown = (e) => {\n    // Check for Ctrl+K (Windows/Linux) or Cmd+K (Mac)\n    if ((e.ctrlKey || e.metaKey) && e.key === 'k') {\n        e.preventDefault()\n        if (!showSearch.value) {\n            showSearch.value = true\n        }\n    }\n}\n\n// Focus input when modal opens\nwatch(showSearch, async (isOpen) => {\n    if (isOpen) {\n        await nextTick()\n        // Use querySelector to find the input element within the modal\n        // This is more reliable than accessing component refs in Vue 3\n        try {\n            const input = searchModalRef.value?.querySelector?.('input[type=\"text\"]')\n            if (input && typeof input.focus === 'function') {\n                input.focus()\n            }\n        } catch (error) {\n            console.warn('Could not focus search input:', error)\n        }\n        document.addEventListener('keydown', handleKeydown)\n    } else {\n        document.removeEventListener('keydown', handleKeydown)\n    }\n})\n\n// Close on outside click\nconst handleClickOutside = (event) => {\n    // Get the actual DOM element from the component ref\n    // Component refs in Vue 3 might expose $el or be the element directly\n    const searchButtonElement = searchButtonRef.value?.$el || searchButtonRef.value\n    \n    // Don't close if clicking the search button or its children\n    // Check if element exists and has contains method before calling\n    if (searchButtonElement && typeof searchButtonElement.contains === 'function' && searchButtonElement.contains(event.target)) {\n        return\n    }\n    // Close if clicking outside the modal\n    if (searchModalRef.value && typeof searchModalRef.value.contains === 'function' && !searchModalRef.value.contains(event.target)) {\n        closeSearch()\n    }\n}\n\n// Watch for modal open/close to attach/detach click listener\nwatch(showSearch, (isOpen) => {\n    if (isOpen) {\n        // Use setTimeout to avoid immediate trigger from the button click\n        setTimeout(() => {\n            document.addEventListener('click', handleClickOutside)\n        }, 100)\n    } else {\n        document.removeEventListener('click', handleClickOutside)\n    }\n})\n\nonMounted(() => {\n    themeStore.initTheme()\n    // Add global keyboard shortcut for search (Ctrl+K / Cmd+K)\n    document.addEventListener('keydown', handleGlobalKeydown)\n})\n\n// Cleanup\nonBeforeUnmount(() => {\n    document.removeEventListener('click', handleClickOutside)\n    document.removeEventListener('keydown', handleKeydown)\n    document.removeEventListener('keydown', handleGlobalKeydown)\n})\ndefineOptions({\n  name: 'Navbar'\n})\n</script>\n\n<template>\n    <div>\n        <nav :class=\"['sticky top-0 z-50 w-full backdrop-blur-xl transition-all duration-300 border-b',\n            themeStore.isDark ? 'bg-gray-950/90 border-gray-800' : 'bg-white/90 border-gray-200'\n        ]\">\n            <!-- Background overlay for glass effect -->\n            <div class=\"absolute inset-0 -z-10\" :class=\"[\n                'transition-all duration-500',\n                themeStore.isDark\n                    ? 'bg-gradient-to-r from-gray-950/95 via-gray-900/90 to-gray-950/95'\n                    : 'bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95'\n            ]\"></div>\n    \n            <div class=\"container mx-auto px-4\">\n                <div class=\"flex h-16 items-center justify-between\">\n                    <!-- Logo with enhanced styling -->\n                    <div class=\"flex items-center\">\n                        <router-link to=\"/\" class=\"group flex items-center space-x-3 transition-all duration-300\">\n                            <div class=\"relative\">\n                                <div\n                                    class=\"absolute inset-0 rounded-lg bg-gradient-to-r from-primary to-primary/80 opacity-20 blur-sm group-hover:opacity-30 transition-opacity duration-300\">\n                                </div>\n                                <img src=\"/assets/front/logo/logo.png\" class=\"relative h-8 w-auto rounded-lg\"\n                                    alt=\"LaraVue Logo\" />\n                            </div>\n                            <div class=\"hidden sm:block\">\n                                <span\n                                    class=\"text-xl font-bold bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent\">\n                                    <span class=\"text-primary\">Lara</span><span class=\"text-secondary\">Vue</span>\n                                </span>\n                                <div class=\"text-xs text-muted-foreground font-medium\">Community</div>\n                            </div>\n                        </router-link>\n                    </div>\n                    <!-- Desktop Navigation -->\n                    <div class=\"hidden lg:flex items-center space-x-1\">\n                        <NavigationMenu>\n                            <NavigationMenuList class=\"space-x-1\">\n                                <NavigationMenuItem v-for=\"item in navigation\" :key=\"item.name\">\n                                    <router-link :to=\"item.href\" :class=\"[\n                                        'relative px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300',\n                                        'text-gray-700 dark:text-gray-300 dark:hover:text-white hover:bg-gradient-to-r hover:from-primary/10 hover:to-secondary/10',\n                                        'focus:outline-none focus:ring-2 focus:ring-primary/20',\n                                        item.current\n                                            ? 'bg-gradient-to-r from-primary/10 to-secondary/10 shadow-lg dark:text-white text-gray-900'\n                                            : 'text-gray-700 dark:text-gray-300 dark:hover:text-white hover:bg-gradient-to-r hover:from-primary/10 hover:to-secondary/10'\n                                    ]\">\n                                        {{ item.name }}\n                                        <div v-if=\"item.current\"\n                                            class=\"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-6 h-0.5 bg-gradient-to-r from-primary to-primary/80 rounded-full\">\n                                        </div>\n                                    </router-link>\n                                </NavigationMenuItem>\n                            </NavigationMenuList>\n                        </NavigationMenu>\n                    </div>\n                    <!-- Right side controls -->\n                    <div class=\"flex items-center space-x-3\">\n                        <!-- Theme Toggle -->\n                        <Button ref=\"searchButtonRef\" variant=\"ghost\" size=\"icon\" @click=\"showSearch = true\" class=\"relative overflow-hidden hover:bg-transparent hover:text-gray-700 hover:bg-gradient-to-r hover:from-primary/10 hover:to-secondary/10 transition-all duration-300 text-gray-700 dark:text-gray-300 dark:hover:text-white\">\n                            <Search class=\"h-5 w-5 rotate-0 scale-100 transition-all duration-300\" />\n                            <span class=\"sr-only\">Search</span>\n                        </Button>\n                        <Button variant=\"ghost\" size=\"icon\" @click=\"themeStore.toggleTheme()\" class=\"relative overflow-hidden hover:bg-transparent hover:text-gray-700 hover:bg-gradient-to-r hover:from-primary/10 hover:to-secondary/10 transition-all duration-300 text-gray-700 dark:text-gray-300 dark:hover:text-white\">\n                            <Sun v-if=\"themeStore.isDark\" class=\"h-5 w-5 rotate-0 scale-100 transition-all duration-300\" />\n                            <Moon v-else class=\"h-5 w-5 rotate-0 scale-100 transition-all duration-300\" />\n                            <span class=\"sr-only\">Toggle theme</span>\n                        </Button>\n                        <NotificationDropdown v-if=\"authStore.isAuthenticated\" />\n                        <template v-if=\"authStore.isAuthenticated\">\n                            <Button \n                                variant=\"ghost\"\n                                @click=\"router.push(`/dashboard`)\"\n                                class=\"flex items-center space-x-2 hover:bg-gray-100 dark:hover:bg-gradient-to-r dark:hover:from-primary/10 dark:hover:to-secondary/10 transition-all duration-300 text-gray-700 dark:text-gray-300\">\n                                <div\n                                    class=\"w-8 h-8 rounded-full bg-gradient-to-r from-primary to-primary/80 flex items-center justify-center text-white text-sm font-bold\">\n                                    {{ authStore?.user?.username?.charAt(0).toUpperCase() }}\n                                </div>\n                                <!-- <span class=\"hidden sm:block font-medium\">{{ authStore?.user?.username }}</span> -->\n                            </Button>\n                        </template>\n                        <template v-else>\n                            <Button @click=\"router.push('/login')\"\n                                class=\"bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 text-white shadow-lg hover:shadow-xl transition-all duration-300\">\n                                <Zap class=\"mr-50\" />\n                                Sign In\n                            </Button>\n                        </template>\n                        <Button variant=\"ghost\" size=\"icon\"\n                            class=\"lg:hidden hover:bg-gray-100 dark:hover:bg-gradient-to-r dark:hover:from-primary/10 dark:hover:to-secondary/10 transition-all duration-300 text-gray-700 dark:text-gray-300\"\n                            @click=\"isMobileMenuOpen = !isMobileMenuOpen\">\n                            <Menu v-if=\"!isMobileMenuOpen\" class=\"h-6 w-6\" />\n                            <X v-else class=\"h-6 w-6\" />\n                            <span class=\"sr-only\">Toggle menu</span>\n                        </Button>\n                    </div>\n                </div>\n            </div>\n            <div v-show=\"isMobileMenuOpen\" class=\"lg:hidden backdrop-blur-xl border-t transition-all duration-300\" :class=\"[\n                themeStore.isDark ? 'bg-gray-950/95 border-gray-800' : 'bg-white/95 border-gray-200'\n            ]\">\n                <div class=\"absolute inset-0 -z-10\" :class=\"[\n                    'transition-all duration-500',\n                    themeStore.isDark\n                        ? 'bg-gradient-to-br from-gray-950/95 via-primary/10 to-gray-950/95'\n                        : 'bg-gradient-to-br from-white/95 via-primary/5 to-white/95'\n                ]\"></div>\n    \n                <div class=\"space-y-2 px-4 py-6\">\n                    <router-link v-for=\"item in navigation\" :key=\"item.name\" :to=\"item.href\"\n                        class=\"flex items-center px-4 py-3 rounded-lg text-base font-medium transition-all duration-300\"\n                        :class=\"[\n                            item.current\n                                ? 'text-foreground bg-gradient-to-r from-primary/10 to-secondary/10 shadow-lg'\n                                : 'text-muted-foreground hover:text-foreground hover:bg-gradient-to-r hover:from-primary/10 hover:to-secondary/10'\n                        ]\" @click=\"isMobileMenuOpen = false\">\n                        {{ item.name }}\n                    </router-link>\n                </div>\n    \n                <!-- Mobile Auth Section -->\n                <div class=\"border-t px-4 py-4\" :class=\"themeStore.isDark ? 'border-gray-800' : 'border-gray-200'\">\n                    <div v-if=\"!authStore.isAuthenticated\" class=\"flex flex-col space-y-3\">\n                        <Button variant=\"ghost\"\n                            class=\"w-full justify-center hover:bg-gradient-to-r hover:from-primary/10 hover:to-secondary/10 transition-all duration-300\"\n                            @click=\"router.push('/login')\">\n                            Login\n                        </Button>\n                        <Button\n                            class=\"w-full justify-center bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 text-primary-foreground shadow-lg\"\n                            @click=\"router.push('/signup')\">\n                            <Zap class=\"h-4 w-4 mr-2\" />\n                            Sign up\n                        </Button>\n                    </div>\n    \n                    <div v-else class=\"flex items-center justify-between\">\n                        <Button \n                            variant=\"ghost\"\n                            @click=\"router.push(`/dashboard`); isMobileMenuOpen = false\"\n                            class=\"flex items-center space-x-3 w-full justify-start hover:bg-gradient-to-r hover:from-primary/10 hover:to-secondary/10 transition-all duration-300\">\n                            <div\n                                class=\"w-10 h-10 rounded-full bg-gradient-to-r from-primary to-primary/80 flex items-center justify-center text-primary-foreground font-bold\">\n                                {{ authStore?.user?.username?.charAt(0).toUpperCase() }}\n                            </div>\n                            <div>\n                                <div class=\"font-medium text-foreground\">{{ authStore?.user?.username }}</div>\n                                <div class=\"text-sm text-muted-foreground\">Dashboard</div>\n                            </div>\n                        </Button>\n                    </div>\n                </div>\n            </div>\n        </nav>\n        <Transition name=\"fade\">\n            <div v-show=\"showSearch\" @click.self=\"closeSearch\" class=\"fixed inset-0 z-50 flex items-start justify-center pt-20 px-4 bg-black/60 backdrop-blur-sm\">\n                <div ref=\"searchModalRef\" class=\"relative w-full max-w-2xl transition-all duration-300 ease-out\" :class=\"showSearch ? 'opacity-100 scale-100' : 'opacity-0 scale-95'\">\n                    <div class=\"relative rounded-2xl shadow-2xl border transition-all duration-300\" :class=\"[themeStore.isDark ? 'bg-gray-900/95 border-gray-800' : 'bg-white/95 border-gray-200']\">\n                        <div class=\"flex items-center gap-3 px-4 py-4\">\n                            <Search class=\"h-5 w-5 flex-shrink-0\" :class=\"[\n                                themeStore.isDark ? 'text-gray-400' : 'text-gray-500'\n                            ]\" />\n                            <Input \n                                ref=\"searchInputRef\"\n                                v-model=\"searchQuery\"\n                                type=\"text\" \n                                placeholder=\"Search posts, questions, projects, users...\"\n                                class=\"flex-1 border-0 bg-transparent text-base focus-visible:ring-0 focus-visible:ring-offset-0 placeholder:text-gray-400\"\n                                :class=\"[\n                                    themeStore.isDark ? 'text-white' : 'text-gray-900'\n                                ]\"\n                                @keydown.escape=\"closeSearch\"\n                            />\n                            <div class=\"flex items-center gap-2\">\n                                <Loader2 v-if=\"isSearching\" class=\"h-4 w-4 animate-spin text-gray-400\" />\n                                <Button \n                                    variant=\"ghost\" \n                                    size=\"icon\" \n                                    @click=\"closeSearch\"\n                                    :class=\"[\n                                        'h-8 w-8 rounded-lg transition-colors',\n                                        themeStore.isDark \n                                            ? 'hover:bg-gray-800/70' \n                                            : 'hover:bg-gray-100'\n                                    ]\">\n                                    <X class=\"h-4 w-4\" />\n                                </Button>\n                            </div>\n                        </div>\n                        <!-- Search Results Dropdown -->\n                        <Transition name=\"slide-down\">\n                            <div v-if=\"searchResults.length > 0 || isSearching || (searchQuery.length === 0 && recentSearches.length > 0)\" \n                                class=\"absolute top-full left-0 right-0 mt-1 max-h-96 overflow-y-auto rounded-xl shadow-xl border backdrop-blur-xl transition-all duration-200 z-50\"\n                                :class=\"[\n                                    themeStore.isDark \n                                        ? 'bg-gray-900/95 border-gray-800' \n                                        : 'bg-white/95 border-gray-200'\n                                ]\">\n                                <!-- Recent Searches (shown when no query and no results) -->\n                                <div v-if=\"!isSearching && searchQuery.length === 0 && recentSearches.length > 0\" class=\"pt-2\">\n                                    <div class=\"px-3 py-2 text-xs font-semibold uppercase tracking-wider flex items-center justify-between\" :class=\"[\n                                        themeStore.isDark ? 'text-gray-400' : 'text-gray-500'\n                                    ]\">\n                                        <div class=\"flex items-center gap-2\">\n                                            <Clock class=\"h-3.5 w-3.5\" />\n                                            <span>Recent Searches</span>\n                                        </div>\n                                        <button \n                                            @click=\"handleClearAllRecentSearches\"\n                                            class=\"text-xs normal-case font-normal hover:underline transition-colors\"\n                                            :class=\"[\n                                                themeStore.isDark \n                                                    ? 'text-gray-400 hover:text-gray-300' \n                                                    : 'text-gray-500 hover:text-gray-700'\n                                            ]\">\n                                            Clear all\n                                        </button>\n                                    </div>\n                                    <div \n                                        v-for=\"(search, index) in recentSearches\" \n                                        :key=\"`recent-${search.query}-${search.timestamp}`\"\n                                        @click=\"handleRecentSearchClick(search.query)\"\n                                        class=\"flex items-center gap-3 px-4 py-3 cursor-pointer transition-colors duration-150 border-b last:border-b-0 group\"\n                                        :class=\"[\n                                            themeStore.isDark \n                                                ? 'border-gray-800 hover:bg-gray-800/70 hover:border-gray-700' \n                                                : 'border-gray-100 hover:bg-gray-100'\n                                        ]\">\n                                        <div class=\"flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center transition-colors\" :class=\"[\n                                            themeStore.isDark \n                                                ? 'bg-gray-800/50 text-gray-400' \n                                                : 'bg-gray-100 text-gray-500'\n                                        ]\">\n                                            <Clock class=\"h-5 w-5\" />\n                                        </div>\n                                        <div class=\"flex-1 min-w-0\">\n                                            <p class=\"text-sm font-medium truncate\" :class=\"[\n                                                themeStore.isDark ? 'text-white' : 'text-gray-900'\n                                            ]\">\n                                                {{ search.query }}\n                                            </p>\n                                            <p class=\"text-xs mt-0.5\" :class=\"[\n                                                themeStore.isDark ? 'text-gray-500' : 'text-gray-400'\n                                            ]\">\n                                                {{ getTimeAgo(search.timestamp) }}\n                                            </p>\n                                        </div>\n                                        <button\n                                            @click=\"handleRemoveRecentSearch($event, search.query)\"\n                                            class=\"flex-shrink-0 p-1.5 rounded-lg opacity-0 group-hover:opacity-100 transition-all duration-200\"\n                                            :class=\"[\n                                                themeStore.isDark \n                                                    ? 'hover:bg-gray-700 text-gray-400 hover:text-gray-300' \n                                                    : 'hover:bg-gray-200 text-gray-400 hover:text-gray-600'\n                                            ]\"\n                                            title=\"Remove from recent searches\"\n                                        >\n                                            <X class=\"h-4 w-4\" />\n                                        </button>\n                                    </div>\n                                </div>\n\n                                <!-- Loading State -->\n                                <div v-else-if=\"isSearching\" class=\"p-8 text-center\">\n                                    <Loader2 class=\"h-6 w-6 animate-spin mx-auto mb-2\" :class=\"[\n                                        themeStore.isDark ? 'text-gray-400' : 'text-gray-500'\n                                    ]\" />\n                                    <p class=\"text-sm\" :class=\"[\n                                        themeStore.isDark ? 'text-gray-400' : 'text-gray-500'\n                                    ]\">Searching...</p>\n                                </div>\n\n                                <!-- Results List -->\n                                <div v-else-if=\"searchResults.length > 0\" class=\"pt-2\">\n                                    <div class=\"px-3 py-2 text-xs font-semibold uppercase tracking-wider flex items-center justify-between\" :class=\"[\n                                        themeStore.isDark ? 'text-gray-400' : 'text-gray-500'\n                                    ]\">\n                                        <span>Results ({{ totalSearchResults > 0 ? totalSearchResults : searchResults.length }})</span>\n                                        <span v-if=\"searchResults.length < totalSearchResults\" class=\"text-xs normal-case font-normal\">\n                                            Showing {{ searchResults.length }} of {{ totalSearchResults }}\n                                        </span>\n                                    </div>\n                                    <div \n                                        v-for=\"(result, index) in searchResults\" \n                                        :key=\"`${result.type}-${result.id || result.username || index}`\"\n                                        @click=\"handleResultClick(result)\"\n                                        class=\"flex items-center gap-3 px-4 py-3 cursor-pointer transition-colors duration-150 border-b last:border-b-0\"\n                                        :class=\"[\n                                            themeStore.isDark \n                                                ? 'border-gray-800 hover:bg-gray-800/70 hover:border-gray-700' \n                                                : 'border-gray-100 hover:bg-gray-100'\n                                        ]\">\n                                        <div class=\"flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center transition-colors\" :class=\"[\n                                            result.type === 'post' \n                                                ? (themeStore.isDark ? 'bg-blue-900/30 text-blue-400' : 'bg-blue-100 text-blue-600') :\n                                            result.type === 'question' \n                                                ? (themeStore.isDark ? 'bg-green-900/30 text-green-400' : 'bg-green-100 text-green-600') :\n                                            result.type === 'project' \n                                                ? (themeStore.isDark ? 'bg-purple-900/30 text-purple-400' : 'bg-purple-100 text-purple-600') :\n                                                (themeStore.isDark ? 'bg-orange-900/30 text-orange-400' : 'bg-orange-100 text-orange-600')\n                                        ]\">\n                                            <component :is=\"result.icon || FileText\" class=\"h-5 w-5\" />\n                                        </div>\n                                        <div class=\"flex-1 min-w-0\">\n                                            <div class=\"flex items-center gap-2 mb-1\">\n                                                <span class=\"text-xs font-medium px-2 py-0.5 rounded capitalize transition-colors\" :class=\"[\n                                                    result.type === 'post' \n                                                        ? (themeStore.isDark ? 'bg-blue-900/30 text-blue-400' : 'bg-blue-100 text-blue-600') :\n                                                    result.type === 'question' \n                                                        ? (themeStore.isDark ? 'bg-green-900/30 text-green-400' : 'bg-green-100 text-green-600') :\n                                                    result.type === 'project' \n                                                        ? (themeStore.isDark ? 'bg-purple-900/30 text-purple-400' : 'bg-purple-100 text-purple-600') :\n                                                        (themeStore.isDark ? 'bg-orange-900/30 text-orange-400' : 'bg-orange-100 text-orange-600')\n                                                ]\">\n                                                    {{ result.type }}\n                                                </span>\n                                                <span v-if=\"result.author && typeof result.author === 'object' && result.author.username\" \n                                                    class=\"text-xs text-gray-500 dark:text-gray-400\">\n                                                    @{{ result.author.username }}\n                                                </span>\n                                                <span v-else-if=\"result.author && typeof result.author === 'string'\" \n                                                    class=\"text-xs text-gray-500 dark:text-gray-400\">\n                                                    @{{ result.author }}\n                                                </span>\n                                            </div>\n                                            <p class=\"text-sm font-medium truncate\" :class=\"[\n                                                themeStore.isDark ? 'text-white' : 'text-gray-900'\n                                            ]\">\n                                                {{ result.title || result.name || result.username }}\n                                            </p>\n                                            <p v-if=\"result.content || result.description\" class=\"text-xs mt-1 line-clamp-1\" :class=\"[\n                                                themeStore.isDark ? 'text-gray-400' : 'text-gray-500'\n                                            ]\">\n                                                {{ result.content || result.description }}\n                                            </p>\n                                            <div v-if=\"result.stats\" class=\"flex items-center gap-3 mt-1 text-xs\" :class=\"[\n                                                themeStore.isDark ? 'text-gray-500' : 'text-gray-400'\n                                            ]\">\n                                                <span v-if=\"result.stats.likes !== undefined\">\n                                                    â¤ï¸ {{ result.stats.likes }}\n                                                </span>\n                                                <span v-if=\"result.stats.comments !== undefined\">\n                                                    ðŸ’¬ {{ result.stats.comments }}\n                                                </span>\n                                                <span v-if=\"result.stats.answers !== undefined\">\n                                                    ðŸ’¡ {{ result.stats.answers }}\n                                                </span>\n                                                <span v-if=\"result.stats.views !== undefined\">\n                                                    ðŸ‘ï¸ {{ result.stats.views }}\n                                                </span>\n                                            </div>\n                                        </div>\n                                        <ChevronRight class=\"h-4 w-4 flex-shrink-0\" :class=\"[\n                                            themeStore.isDark ? 'text-gray-500' : 'text-gray-400'\n                                        ]\" />\n                                    </div>\n                                    \n                                    <!-- View All Button -->\n                                    <div v-if=\"hasMoreResults || totalSearchResults > searchResults.length\" \n                                        class=\"px-4 py-3 border-t\" :class=\"[\n                                            themeStore.isDark ? 'border-gray-800' : 'border-gray-200'\n                                        ]\">\n                                        <Button \n                                            @click=\"viewAllResults\"\n                                            variant=\"outline\"\n                                            class=\"w-full justify-center\"\n                                            :class=\"[\n                                                themeStore.isDark \n                                                    ? 'hover:bg-gray-800' \n                                                    : 'hover:bg-gray-100'\n                                            ]\">\n                                            View All Results ({{ totalSearchResults }})\n                                            <ChevronRight class=\"h-4 w-4 ml-2\" />\n                                        </Button>\n                                    </div>\n                                </div>\n\n                                <!-- No Results -->\n                                <div v-else-if=\"!isSearching && searchQuery.length >= 3\" class=\"p-8 text-center\">\n                                    <Search class=\"h-8 w-8 mx-auto mb-2\" :class=\"[\n                                        themeStore.isDark ? 'text-gray-600' : 'text-gray-400'\n                                    ]\" />\n                                    <p class=\"text-sm font-medium mb-1\" :class=\"[\n                                        themeStore.isDark ? 'text-gray-300' : 'text-gray-700'\n                                    ]\">No results found</p>\n                                    <p class=\"text-xs\" :class=\"[\n                                        themeStore.isDark ? 'text-gray-500' : 'text-gray-500'\n                                    ]\">Try different keywords</p>\n                                </div>\n                            </div>\n                        </Transition>\n\n                        <!-- Search Hint -->\n                        <div v-if=\"searchQuery.length > 0 && searchQuery.length < 3\" \n                            class=\"px-4 py-2 text-xs border-t\" :class=\"[\n                                themeStore.isDark \n                                    ? 'text-gray-400 border-gray-800 bg-gray-900/50' \n                                    : 'text-gray-500 border-gray-200 bg-gray-50'\n                            ]\">\n                            Type at least 3 characters to search\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </Transition>\n    </div>\n</template>\n\n<style scoped>\n/* Enhance the glass effect */\n.backdrop-blur-xl {\n    backdrop-filter: blur(16px);\n    -webkit-backdrop-filter: blur(16px);\n}\n\n/* Smooth transitions for all interactive elements */\n* {\n    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;\n    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n/* Fade transition for modal */\n.fade-enter-active,\n.fade-leave-active {\n    transition: opacity 0.2s ease, transform 0.2s ease;\n}\n\n.fade-enter-from,\n.fade-leave-to {\n    opacity: 0;\n    transform: scale(0.95);\n}\n\n/* Slide down transition for dropdown */\n.slide-down-enter-active,\n.slide-down-leave-active {\n    transition: all 0.2s ease-out;\n}\n\n.slide-down-enter-from {\n    opacity: 0;\n    transform: translateY(-10px);\n}\n\n.slide-down-leave-to {\n    opacity: 0;\n    transform: translateY(-10px);\n}\n\n/* Line clamp utility */\n.line-clamp-1 {\n    display: -webkit-box;\n    -webkit-line-clamp: 1;\n    line-clamp: 1;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n}\n</style>\n"],"names":["Menu","createLucideIcon","Moon","Sun","WifiOff","Wifi","props","__props","delegatedProps","computed","_","delegated","forwardedProps","useForwardProps","_openBlock","_createElementBlock","_hoisted_1","_createVNode","_unref","NavigationMenuViewport","_mergeProps","cn","emits","__emit","forwarded","useForwardPropsEmits","_createBlock","NavigationMenuRoot","_renderSlot","_ctx","NavigationMenuList","notifications","ref","unreadCount","isConnected","connectionError","channel","reconnectAttempts","MAX_RECONNECT_ATTEMPTS","RECONNECT_DELAY","realtimeReceivedIds","useRealtimeNotifications","onNotificationReceived","onUnreadCountUpdate","authStore","useAuthStore","router","useRouter","connect","_a","userId","disconnect","notification","handleNotificationReceived","error","attemptReconnect","n","currentCount","updateUnreadCount","showBrowserNotification","browserNotification","delay","count","resetRealtimeTracking","markAsRead","notificationId","removeNotification","index","watch","isAuthenticated","onMounted","onBeforeUnmount","POLLING_INTERVAL","themeStore","useThemeStore","isOpen","isLoading","dropdownRef","realtimeUnreadCount","isRealtimeConnected","markRealtimeAsRead","updateRealtimeUnreadCount","fetchNotifications","response","axios","apiNotifications","existingIds","newNotifications","apiUnreadCount","newCount","event","handleNotificationClick","toggleDropdown","handleClickOutside","viewAll","getNotificationIcon","type","getNotificationColor","formatTime","dateString","date","diff","seconds","minutes","hours","days","pollingIntervalId","startPolling","stopPolling","connected","Button","Bell","_normalizeClass","_toDisplayString","_Transition","_createElementVNode","X","_hoisted_3","_hoisted_4","_hoisted_5","_Fragment","_renderList","$event","_hoisted_7","_hoisted_8","_hoisted_9","Check","_hoisted_10","_cache","RECENT_SEARCHES_KEY","MAX_RECENT_SEARCHES","useRecentSearches","recentSearches","loadRecentSearches","stored","saveRecentSearches","query","trimmedQuery","search","timestamp","route","useRoute","showSearch","searchQuery","useNavbarSearch","searchResults","totalSearchResults","hasMoreResults","isSearching","searchInputRef","searchModalRef","searchButtonRef","isMobileMenuOpen","addRecentSearch","removeRecentSearch","clearRecentSearches","getTimeAgo","navigation","performSearch","useDebounceFn","data","allResults","item","FileText","MessageSquare","Users","FolderOpen","_b","newQuery","closeSearch","viewAllResults","handleResultClick","result","handleRecentSearchClick","handleRemoveRecentSearch","e","handleClearAllRecentSearches","handleKeydown","handleGlobalKeydown","nextTick","input","searchButtonElement","_hoisted_2","_component_router_link","NavigationMenu","NavigationMenuItem","_hoisted_6","Search","NotificationDropdown","Zap","_createTextVNode","_hoisted_11","_hoisted_12","_hoisted_13","Input","_hoisted_14","Loader2","_hoisted_15","_hoisted_16","Clock","_hoisted_18","_hoisted_20","_hoisted_21","_hoisted_22","_resolveDynamicComponent","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","ChevronRight","_hoisted_32"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}