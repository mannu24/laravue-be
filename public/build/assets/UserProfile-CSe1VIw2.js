import{_ as P,j as S,t as B,as as F,p as v,a as x,au as j,l as C,q as T,R as U,b as m,D as l,z as n,u as r,d as _,av as A,o as c}from"./app-Bvnl7d0n.js";import{u as N,P as z}from"./ProfileCard-B3buU333.js";import{B as E,P as G}from"./ProfileTabs-C102N8Y0.js";import{F as L}from"./file-text-CMcMhd5a.js";import{U as M}from"./users-BD_gwi77.js";import"./Card-hOl-Usuy.js";import"./CardContent-BNEtnmat.js";import"./loader-circle-D-hWkZPx.js";import"./user-plus-C-bpvbmz.js";import"./square-pen-Cv9EAJ2M.js";import"./code-xml-5bxqMtxa.js";import"./message-circle-CUHMIlXk.js";import"./mail-COIIw_w6.js";import"./calendar-TcdMNaSw.js";import"./EmptyState-DVLWfdwK.js";import"./folder-open-BnUa1mLa.js";import"./activity-BXHlTU9J.js";import"./bookmark-Afub3nbE.js";import"./search-5LIDw_UH.js";import"./ConfirmDialog-Dd4Y7sL7.js";import"./InfiniteScroll-DLzqwnpV.js";import"./PostCard-6SO9_3tv.js";import"./useBookmark-MdNZIhAe.js";import"./DialogContent-QiX1Bk05.js";import"./chevron-right-Cq0N1iJW.js";import"./QuestionCard-DKej05gX.js";import"./tag-6Idb4Hv2.js";import"./circle-check-BE19kObe.js";import"./message-square-I2NocKB-.js";import"./index-_SePG6eE.js";import"./flame-Dy2j6U5p.js";import"./external-link-CohcApp6.js";import"./Skeleton-wSYT3jvc.js";import"./LoadingSpinner-ekVe37eh.js";import"./heart-Do1kpZXc.js";import"./arrow-right-D0W2HEgW.js";import"./TaskList-DN8NsiXc.js";import"./circle-alert-DO1FiHwh.js";import"./swiper-D25FrulS.js";import"./BadgeItem-C0HVxmUN.js";/* empty css                                                                  */const R={class:"min-h-screen"},V={key:0,class:"flex items-center justify-center min-h-screen"},q={class:"text-center"},I={key:1},O={class:"pb-5 lg:pb-10"},$={key:2,class:"flex items-center justify-center min-h-screen"},H={class:"text-center"},J={__name:"UserProfile",emits:["share_url"],setup(K){const g=U(),p=S(),u=B(),h=F(),i=v(null),e=v(null),f=v(!0),y=x(()=>{var a;return p.isAuthenticated&&((a=p.user)==null?void 0:a.username)===i.value}),{isFollowing:b,followersCount:w,followingCount:k}=N(),D=x(()=>{var a,t;return(t=(a=e.value)==null?void 0:a.gamification)!=null&&t.summary?e.value.gamification.summary:h.gamificationSummary}),d=async()=>{var a,t,o;f.value=!0;try{const s=await A.get(`/users/${i.value}`);s.data.status==="success"&&(e.value=s.data.data.user||s.data.data,w.value=((a=e.value)==null?void 0:a.followers_count)||0,k.value=((t=e.value)==null?void 0:t.following_count)||0,p.isAuthenticated&&!y.value&&(b.value=((o=e.value)==null?void 0:o.is_following)||!1),s.data.data.gamification&&(e.value.gamification=s.data.data.gamification))}catch(s){console.error("Error fetching user profile:",s),e.value=null}finally{f.value=!1}};return j(async(a,t)=>{var o,s;((o=a==null?void 0:a.params)==null?void 0:o.username)!==((s=t==null?void 0:t.params)==null?void 0:s.username)&&(i.value=a.params.username,await d())}),C(()=>g.params.username,a=>{a&&a!==i.value&&(i.value=a,d())}),T(async()=>{var a;i.value=g.params.username,await d(),(a=e.value)!=null&&a.gamification||await h.fetchGlobalData()}),(a,t)=>{var o;return c(),m("div",R,[f.value?(c(),m("div",V,[l("div",q,[l("div",{class:n(["animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4",[r(u).isDark?"border-white":"border-gray-900"]])},null,2),l("p",{class:n([r(u).isDark?"text-gray-400":"text-gray-600"])},"Loading profile...",2)])])):e.value?(c(),m("div",I,[_(z,{user:e.value,"social-links":e.value.social_links||[],"gamification-summary":D.value},null,8,["user","social-links","gamification-summary"]),l("div",O,[_(G,{"user-id":(o=e.value)==null?void 0:o.id,tabs:[{value:"feed",label:"Feed",icon:r(L)},{value:"projects",label:"Projects",icon:r(E)}],"default-tab":"feed",username:i.value,"is-own-profile":y.value},null,8,["user-id","tabs","username","is-own-profile"])])])):(c(),m("div",$,[l("div",H,[_(r(M),{class:n(["h-16 w-16 mx-auto mb-4 opacity-50",[r(u).isDark?"text-gray-600":"text-gray-400"]])},null,8,["class"]),l("h2",{class:n(["text-2xl font-bold mb-2",[r(u).isDark?"text-white":"text-gray-900"]])},"User Not Found",2),l("p",{class:n([r(u).isDark?"text-gray-400":"text-gray-600"])},"The user you're looking for doesn't exist.",2)])]))])}}},Ea=P(J,[["__scopeId","data-v-4cef7c8a"]]);export{Ea as default};
//# sourceMappingURL=UserProfile-CSe1VIw2.js.map
