import{t as j,j as k,p as h,b as f,D as s,d as c,w,H as C,u as r,k as S,C as A,z as y,o as E,I as B,ag as m}from"./app-Bvnl7d0n.js";import{_ as P}from"./ProjectForm-BugzCw38.js";import{A as $}from"./arrow-left-Bc2-To4n.js";import"./Card-hOl-Usuy.js";import"./CardContent-BNEtnmat.js";import"./CardDescription-D99rUoTk.js";import"./CardTitle-ITTEzIVV.js";import"./Input-CjQgemiQ.js";import"./index-B71ycLCJ.js";import"./Textarea-BT9UDReQ.js";import"./Label-Ds0Exrqp.js";import"./index-_SePG6eE.js";import"./Switch-BV02s58f.js";import"./CategorySelector-DWl1DBPu.js";import"./chevron-down-CF7e_OBe.js";import"./plus-Yokw-JHX.js";import"./code-xml-5bxqMtxa.js";import"./search-5LIDw_UH.js";import"./file-text-CMcMhd5a.js";import"./wrench-BjV2GE9v.js";import"./link-BUIWjCMY.js";import"./github-DmMj9Cen.js";import"./globe-CoObhFDW.js";import"./upload-CLCINb6L.js";import"./loader-circle-D-hWkZPx.js";const q={class:"min-h-screen"},z={class:"container mx-auto px-4 py-8 sm:px-6 lg:px-8"},N={class:"mb-8"},T={class:"text-center"},V={class:"max-w-4xl mx-auto"},de={__name:"AddProject",setup(F){const n=S(),d=j(),a=k(),o=h(!1),l=h({}),x=async e=>{var i,p,u,_;o.value=!0,l.value={};try{const t=new FormData;t.append("title",e.title),t.append("description",e.description),t.append("project_type",e.project_type),t.append("is_sellable",e.is_sellable?1:0),t.append("status","draft"),e.short_description&&t.append("short_description",e.short_description),e.excerpt&&t.append("excerpt",e.excerpt),e.github_url&&t.append("github_url",e.github_url),e.demo_url&&t.append("demo_url",e.demo_url),e.category_id&&t.append("category_id",e.category_id),e.difficulty_level&&t.append("difficulty_level",e.difficulty_level),e.industry&&t.append("industry",e.industry),e.currency&&t.append("currency",e.currency),e.is_sellable&&(t.append("original_price",e.original_price),t.append("selling_price",e.selling_price),e.discount_percentage&&t.append("discount_percentage",e.discount_percentage),e.discount_start_date&&t.append("discount_start_date",e.discount_start_date),e.discount_end_date&&t.append("discount_end_date",e.discount_end_date),e.stock_quantity&&t.append("stock_quantity",e.stock_quantity),t.append("is_digital",e.is_digital?1:0)),e.technologies&&e.technologies.length>0&&e.technologies.forEach(g=>{t.append("technologies[]",g.name||g)}),e.featured_image&&t.append("featured_image",e.featured_image);const b=await B.post("/api/v1/projects",t,{...a.config,headers:{...a.config.headers,"Content-Type":"multipart/form-data"}});m({title:"Success",description:"Project created successfully!"}),n.push(`/projects/${b.data.data.slug}`)}catch(t){console.error("Error creating project:",t),(p=(i=t.response)==null?void 0:i.data)!=null&&p.errors&&(l.value=t.response.data.errors),m({title:"Error",description:((_=(u=t.response)==null?void 0:u.data)==null?void 0:_.message)||"Failed to create project",variant:"destructive"})}finally{o.value=!1}},v=()=>{n.back()};return(e,i)=>(E(),f("div",q,[s("div",z,[s("div",N,[c(r(A),{variant:"ghost",class:"mb-4",onClick:i[0]||(i[0]=p=>r(n).back())},{default:w(()=>[c(r($),{class:"h-4 w-4 mr-2"}),i[1]||(i[1]=C(" Back ",-1))]),_:1}),s("div",T,[s("h1",{class:y(["text-4xl font-bold mb-4",r(d).isDark?"text-white":"text-gray-900"])}," Add Your Project ",2),s("p",{class:y(["text-lg",r(d).isDark?"text-gray-300":"text-gray-600"])}," Share your amazing project with the community ",2)])]),s("div",V,[c(P,{loading:o.value,"submit-label":"Create Project",onSubmit:x,onCancel:v},null,8,["loading"])])])]))}};export{de as default};
//# sourceMappingURL=AddProject-B5WEsX7C.js.map
