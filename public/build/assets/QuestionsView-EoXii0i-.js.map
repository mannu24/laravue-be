{"version":3,"file":"QuestionsView-EoXii0i-.js","sources":["../../../resources/js/components/qa/QuestionSearchBar.vue","../../../resources/js/components/qa/QuestionList.vue","../../../resources/js/views/QuestionsView.vue"],"sourcesContent":["<!--\r\n  QuestionSearchBar Component\r\n  Purpose: Debounced search input for questions\r\n  Props: placeholder (string)\r\n  Emits: search (query)\r\n-->\r\n<template>\r\n  <div class=\"relative\" data-test=\"question-search-bar\">\r\n    <input\r\n      v-model=\"searchQuery\"\r\n      type=\"text\"\r\n      :placeholder=\"placeholder\"\r\n      class=\"w-full px-4 py-3 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n      data-test=\"search-input\"\r\n    />\r\n    <div class=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\">\r\n      üîç\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, watch } from 'vue'\r\n\r\nconst props = defineProps({\r\n  placeholder: {\r\n    type: String,\r\n    default: 'Search questions...'\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['search'])\r\n\r\nconst searchQuery = ref('')\r\nlet debounceTimer = null\r\n\r\nwatch(searchQuery, (newQuery) => {\r\n  clearTimeout(debounceTimer)\r\n  debounceTimer = setTimeout(() => {\r\n    if (newQuery.length >= 2 || newQuery.length === 0) {\r\n      emit('search', newQuery)\r\n    }\r\n  }, 400)\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n/* Search bar styles handled by Tailwind */\r\n</style>\r\n\r\n","<!--\r\n  QuestionList Component\r\n  Purpose: Renders paginated list of QuestionCard components\r\n  Props: questions (Array), loading (boolean)\r\n  Emits: load-more, select-question\r\n-->\r\n<template>\r\n  <div class=\"space-y-4\">\r\n    <div v-if=\"loading && questions.length === 0\" class=\"text-center py-12\">\r\n      <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n      <p class=\"mt-2 text-gray-500 dark:text-gray-400\">Loading questions...</p>\r\n    </div>\r\n\r\n    <div v-else-if=\"questions.length === 0\" class=\"text-center py-12\">\r\n      <p class=\"text-gray-500 dark:text-gray-400\">No questions found</p>\r\n    </div>\r\n\r\n    <div v-else class=\"space-y-4\">\r\n      <QuestionCard\r\n        v-for=\"question in questions\"\r\n        :key=\"question.id\"\r\n        :question=\"question\"\r\n        :navigate-on-click=\"false\"\r\n        @open=\"handleSelectQuestion\"\r\n        data-test=\"question-card\"\r\n      />\r\n    </div>\r\n\r\n    <div v-if=\"loading && questions.length > 0\" class=\"text-center py-4\">\r\n      <div class=\"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600\"></div>\r\n    </div>\r\n\r\n    <button\r\n      v-if=\"!loading && questions.length > 0\"\r\n      type=\"button\"\r\n      @click=\"handleLoadMore\"\r\n      class=\"w-full py-3 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium\"\r\n      data-test=\"load-more-button\"\r\n    >\r\n      Load More\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport QuestionCard from './QuestionCard.vue'\r\n\r\nconst props = defineProps({\r\n  questions: {\r\n    type: Array,\r\n    default: () => []\r\n  },\r\n  loading: {\r\n    type: Boolean,\r\n    default: false\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['load-more', 'select-question'])\r\n\r\nconst handleLoadMore = () => {\r\n  emit('load-more')\r\n}\r\n\r\nconst handleSelectQuestion = (questionId) => {\r\n  emit('select-question', questionId)\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* List spacing handled by Tailwind */\r\n</style>\r\n\r\n","<!--\r\n  QuestionsView\r\n  Purpose: Questions listing page with search and question form toggle\r\n-->\r\n<template>\r\n  <div class=\"container mx-auto px-4 py-8\">\r\n    <div class=\"flex items-center justify-between mb-6\">\r\n      <h1 class=\"text-3xl font-bold text-gray-900 dark:text-white\">Questions</h1>\r\n      <button\r\n        type=\"button\"\r\n        @click=\"showForm = !showForm\"\r\n        class=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors\"\r\n        data-test=\"toggle-question-form\"\r\n      >\r\n        {{ showForm ? 'Cancel' : 'Ask Question' }}\r\n      </button>\r\n    </div>\r\n\r\n    <div v-if=\"showForm\" class=\"mb-6\">\r\n      <Card title=\"Ask a Question\">\r\n        <QuestionForm\r\n          @submit=\"handleSubmitQuestion\"\r\n          @cancel=\"showForm = false\"\r\n        />\r\n      </Card>\r\n    </div>\r\n\r\n    <div class=\"mb-6\">\r\n      <QuestionSearchBar\r\n        placeholder=\"Search questions...\"\r\n        @search=\"handleSearch\"\r\n      />\r\n    </div>\r\n\r\n    <QuestionList\r\n      :questions=\"questions\"\r\n      :loading=\"loading\"\r\n      @load-more=\"handleLoadMore\"\r\n      @select-question=\"handleSelectQuestion\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { useQuestionStore } from '@/stores/questionStore'\r\nimport { useToast } from '@/composables/useToast'\r\nimport Card from '@/components/ui/Card.vue'\r\nimport QuestionForm from '@/components/qa/QuestionForm.vue'\r\nimport QuestionSearchBar from '@/components/qa/QuestionSearchBar.vue'\r\nimport QuestionList from '@/components/qa/QuestionList.vue'\r\n\r\nconst router = useRouter()\r\nconst questionStore = useQuestionStore()\r\nconst { toastSuccess, toastError } = useToast()\r\n\r\nconst showForm = ref(false)\r\n\r\n// Use store computed values\r\nconst questions = computed(() => questionStore.allQuestions)\r\nconst loading = computed(() => questionStore.loading)\r\n\r\nconst handleSearch = async (query) => {\r\n  if (!query || query.length < 2) {\r\n    await questionStore.fetchQuestions()\r\n    return\r\n  }\r\n  \r\n  try {\r\n    await questionStore.searchQuestions(query)\r\n  } catch (error) {\r\n    toastError('Failed to search questions')\r\n  }\r\n}\r\n\r\nconst handleSubmitQuestion = async (payload) => {\r\n  try {\r\n    const question = await questionStore.askQuestion(payload)\r\n    toastSuccess('Question created successfully!')\r\n    showForm.value = false\r\n    \r\n    // XP reward will be shown via realtime notification from backend\r\n    // when task is completed (if applicable)\r\n    \r\n    // Navigate to the new question\r\n    router.push(`/questions/${question.id}`)\r\n  } catch (error) {\r\n    toastError(error.message || 'Failed to create question')\r\n  }\r\n}\r\n\r\nconst handleLoadMore = async () => {\r\n  try {\r\n    await questionStore.loadMoreQuestions()\r\n  } catch (error) {\r\n    toastError('Failed to load more questions')\r\n  }\r\n}\r\n\r\nconst handleSelectQuestion = (questionId) => {\r\n  router.push(`/questions/${questionId}`)\r\n}\r\n\r\nonMounted(async () => {\r\n  try {\r\n    await questionStore.fetchQuestions()\r\n  } catch (error) {\r\n    toastError('Failed to load questions')\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n/* Questions view styles handled by Tailwind */\r\n</style>\r\n"],"names":["emit","__emit","searchQuery","ref","debounceTimer","watch","newQuery","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","$event","__props","_cache","handleLoadMore","handleSelectQuestion","questionId","_hoisted_2","_hoisted_3","_hoisted_4","_Fragment","_renderList","question","_createBlock","QuestionCard","_hoisted_5","router","useRouter","questionStore","useQuestionStore","toastSuccess","toastError","useToast","showForm","questions","computed","loading","handleSearch","query","handleSubmitQuestion","payload","error","onMounted","_createVNode","Card","QuestionForm","QuestionSearchBar","QuestionList"],"mappings":"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"}