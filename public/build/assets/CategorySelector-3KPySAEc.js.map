{"version":3,"file":"CategorySelector-3KPySAEc.js","sources":["../../../resources/js/components/ui/select/Select.vue","../../../resources/js/components/ui/select/SelectContent.vue","../../../resources/js/components/ui/select/SelectItem.vue","../../../resources/js/components/ui/select/SelectTrigger.vue","../../../resources/js/components/ui/select/SelectValue.vue","../../../resources/js/components/projects/CategorySelector.vue"],"sourcesContent":["<script setup>\r\nimport { provide, ref, watch } from 'vue'\r\n\r\nconst props = defineProps({\r\n  modelValue: {\r\n    type: [String, Number],\r\n    default: null\r\n  },\r\n  disabled: {\r\n    type: Boolean,\r\n    default: false\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['update:modelValue'])\r\n\r\nconst isOpen = ref(false)\r\nconst selectedValue = ref(props.modelValue)\r\n\r\nwatch(() => props.modelValue, (newValue) => {\r\n  selectedValue.value = newValue\r\n})\r\n\r\nconst open = () => {\r\n  if (!props.disabled) {\r\n    isOpen.value = true\r\n  }\r\n}\r\n\r\nconst close = () => {\r\n  isOpen.value = false\r\n}\r\n\r\nconst select = (value) => {\r\n  selectedValue.value = value\r\n  emit('update:modelValue', value)\r\n  close()\r\n}\r\n\r\nprovide('select', {\r\n  isOpen,\r\n  selectedValue,\r\n  open,\r\n  close,\r\n  select,\r\n  disabled: props.disabled\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div class=\"relative\">\r\n    <slot />\r\n  </div>\r\n</template>\r\n\r\n","<script setup>\r\nimport { inject, onMounted, onUnmounted } from 'vue'\r\nimport { Card, CardContent } from '../card'\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst select = inject('select')\r\n\r\nconst handleClickOutside = (event) => {\r\n  if (!event.target.closest('.select-content')) {\r\n    select.close()\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  document.addEventListener('click', handleClickOutside)\r\n})\r\n\r\nonUnmounted(() => {\r\n  document.removeEventListener('click', handleClickOutside)\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    v-if=\"select.isOpen.value\"\r\n    class=\"select-content absolute z-50 w-full mt-1\"\r\n  >\r\n    <Card class=\"border shadow-lg\">\r\n      <CardContent class=\"p-1\">\r\n        <slot />\r\n      </CardContent>\r\n    </Card>\r\n  </div>\r\n</template>\r\n\r\n","<script setup>\r\nimport { inject, computed } from 'vue'\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst props = defineProps({\r\n  value: {\r\n    type: [String, Number],\r\n    required: true\r\n  }\r\n})\r\n\r\nconst select = inject('select')\r\n\r\nconst isSelected = computed(() => select.selectedValue.value === props.value)\r\n\r\nconst handleClick = () => {\r\n  select.select(props.value)\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    :class=\"cn(\r\n      'px-3 py-2 text-sm cursor-pointer rounded-md hover:bg-accent transition-colors',\r\n      isSelected && 'bg-accent font-medium',\r\n      $attrs.class\r\n    )\"\r\n    @click=\"handleClick\"\r\n  >\r\n    <slot />\r\n  </div>\r\n</template>\r\n\r\n","<script setup>\r\nimport { inject } from 'vue'\r\nimport { Button } from '../button'\r\nimport { ChevronDown } from 'lucide-vue-next'\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst select = inject('select')\r\n\r\nconst handleClick = () => {\r\n  if (select.isOpen.value) {\r\n    select.close()\r\n  } else {\r\n    select.open()\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <Button\r\n    type=\"button\"\r\n    variant=\"outline\"\r\n    :class=\"cn('w-full justify-between', $attrs.class)\"\r\n    @click=\"handleClick\"\r\n    :disabled=\"select.disabled\"\r\n  >\r\n    <slot />\r\n    <ChevronDown \r\n      :class=\"cn('h-4 w-4 opacity-50 transition-transform', select.isOpen.value && 'rotate-180')\"\r\n    />\r\n  </Button>\r\n</template>\r\n\r\n","<script setup>\r\nimport { inject, computed } from 'vue'\r\n\r\nconst props = defineProps({\r\n  placeholder: {\r\n    type: String,\r\n    default: 'Select...'\r\n  }\r\n})\r\n\r\nconst select = inject('select')\r\n\r\nconst displayValue = computed(() => {\r\n  const value = select.selectedValue.value\r\n  if (value === null || value === '' || value === undefined) {\r\n    return props.placeholder\r\n  }\r\n  // If there's a slot, let parent handle display\r\n  return value\r\n})\r\n</script>\r\n\r\n<template>\r\n  <span v-if=\"!$slots.default\">{{ displayValue }}</span>\r\n  <slot v-else />\r\n</template>\r\n\r\n","<script setup>\r\nimport { ref, onMounted, watch } from 'vue'\r\nimport { Label } from '@/components/ui/label'\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select'\r\nimport { Loader2 } from 'lucide-vue-next'\r\nimport axios from 'axios'\r\n\r\nconst props = defineProps({\r\n  modelValue: {\r\n    type: [Number, String, null],\r\n    default: null\r\n  },\r\n  placeholder: {\r\n    type: String,\r\n    default: 'Select category'\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['update:modelValue'])\r\n\r\nconst categories = ref([])\r\nconst loading = ref(false)\r\nconst selectedCategory = ref(props.modelValue)\r\n\r\nconst fetchCategories = async () => {\r\n  loading.value = true\r\n  try {\r\n    const response = await axios.get('/api/v1/projects/categories')\r\n    categories.value = response.data.data || []\r\n  } catch (error) {\r\n    console.error('Error fetching categories:', error)\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nconst handleChange = (value) => {\r\n  selectedCategory.value = value ? parseInt(value) : null\r\n  emit('update:modelValue', selectedCategory.value)\r\n}\r\n\r\nwatch(() => props.modelValue, (newValue) => {\r\n  selectedCategory.value = newValue\r\n})\r\n\r\nonMounted(() => {\r\n  fetchCategories()\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div class=\"space-y-2\">\r\n    <Label>Category</Label>\r\n    <Select \r\n      :model-value=\"selectedCategory?.toString()\" \r\n      @update:model-value=\"handleChange\"\r\n      :disabled=\"loading\"\r\n    >\r\n      <SelectTrigger>\r\n        <SelectValue :placeholder=\"loading ? 'Loading...' : placeholder\" />\r\n      </SelectTrigger>\r\n      <SelectContent>\r\n        <SelectItem value=\"\">None</SelectItem>\r\n        <SelectItem \r\n          v-for=\"category in categories\" \r\n          :key=\"category.id\" \r\n          :value=\"category.id.toString()\"\r\n        >\r\n          {{ category.name }}\r\n        </SelectItem>\r\n      </SelectContent>\r\n    </Select>\r\n  </div>\r\n</template>\r\n\r\n"],"names":["props","__props","emit","__emit","isOpen","ref","selectedValue","watch","newValue","open","close","provide","value","_openBlock","_createElementBlock","_hoisted_1","_renderSlot","_ctx","select","inject","handleClickOutside","event","onMounted","onUnmounted","_unref","_createVNode","Card","CardContent","isSelected","computed","handleClick","cn","$attrs","_createBlock","Button","_normalizeClass","ChevronDown","displayValue","$slots","categories","loading","selectedCategory","fetchCategories","response","axios","error","handleChange","Label","_cache","Select","_a","SelectTrigger","SelectValue","SelectContent","SelectItem","_Fragment","_renderList","category","_createTextVNode","_toDisplayString"],"mappings":"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"}