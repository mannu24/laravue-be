import{c as ge,a as ae,O as Se,b as u,o as n,d as p,m as fe,u as e,e as pe,y as $e,S as Ne,f as E,w as C,r as he,g as Me,n as qe,h as Ee,i as Ae,v as je,j as re,k as se,l as U,p as M,q as oe,s as ye,_ as me,t as ve,x as R,B as xe,z as i,A as D,C as T,D as s,X as ee,F as Q,E as X,G as Re,H as G,T as te,I as ue,J as Te,K as Le,L as Ie,M as ze,N as Pe,P as Be,Q as Oe,R as Ve,U as Fe}from"./app-Bvnl7d0n.js";import{C as Ue}from"./check-C_VhQ4uL.js";import{_ as Ke}from"./Input-CjQgemiQ.js";import{u as He}from"./useNavbarSearch-Ft-tL5eq.js";import{u as Je}from"./index-B71ycLCJ.js";import{S as de}from"./search-5LIDw_UH.js";import{C as be}from"./clock-Blu0uPvm.js";import{L as We}from"./loader-circle-D-hWkZPx.js";import{F as ke}from"./file-text-CMcMhd5a.js";import{C as _e}from"./chevron-right-Cq0N1iJW.js";import{M as Ge}from"./message-square-I2NocKB-.js";import{U as Qe}from"./users-BD_gwi77.js";import{F as Xe}from"./folder-open-BnUa1mLa.js";import{S as Ye,M as Ze}from"./sun-DWMO_uiy.js";import{Z as et}from"./zap-BY70H5ny.js";/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=ge("MenuIcon",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=ge("WifiOffIcon",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=ge("WifiIcon",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),st={class:"absolute left-0 top-full flex justify-center"},ot={__name:"NavigationMenuViewport",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(b){const x=b,t=ae(()=>{const{class:f,...o}=x;return o}),l=Se(t);return(f,o)=>(n(),u("div",st,[p(e($e),fe(e(l),{class:e(pe)("origin-top-center relative mt-1.5 h-[--radix-navigation-menu-viewport-height] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[--radix-navigation-menu-viewport-width]",x.class)}),null,16,["class"])]))}},nt={__name:"NavigationMenu",props:{modelValue:{type:String,required:!1},defaultValue:{type:String,required:!1},dir:{type:String,required:!1},orientation:{type:String,required:!1},delayDuration:{type:Number,required:!1},skipDelayDuration:{type:Number,required:!1},disableClickTrigger:{type:Boolean,required:!1},disableHoverTrigger:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["update:modelValue"],setup(b,{emit:x}){const t=b,l=x,f=ae(()=>{const{class:y,...h}=t;return h}),o=Ne(f,l);return(y,h)=>(n(),E(e(Me),fe(e(o),{class:e(pe)("relative z-10 flex max-w-max flex-1 items-center justify-center",t.class)}),{default:C(()=>[he(y.$slots,"default"),p(ot)]),_:3},16,["class"]))}},it={__name:"NavigationMenuItem",props:{value:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(b){const x=b;return(t,l)=>(n(),E(e(Ae),qe(Ee(x)),{default:C(()=>[he(t.$slots,"default")]),_:3},16))}},lt={__name:"NavigationMenuList",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(b){const x=b,t=ae(()=>{const{class:f,...o}=x;return o}),l=Se(t);return(f,o)=>(n(),E(e(je),fe(e(l),{class:e(pe)("group flex flex-1 list-none items-center justify-center gap-x-1",x.class)}),{default:C(()=>[he(f.$slots,"default")]),_:3},16,["class"]))}},I=M([]),j=M(0),J=M(!1),V=M(null);let F=null,W=0;const we=5,ct=3e3,Z=new Set;function dt(b=null,x=null){const t=re(),l=se(),f=()=>{var c;if(!window.Echo)return console.warn("[RealtimeNotifications] Echo not initialized"),V.value="Broadcasting not configured",!1;if(!t.isAuthenticated||!((c=t.user)!=null&&c.id))return console.warn("[RealtimeNotifications] User not authenticated"),!1;try{const g=t.user.id;return o(),F=window.Echo.private(`user.${g}`),F.listen(".notification.created",_=>{y(_)}),F.subscribed(()=>{J.value=!0,V.value=null,W=0,console.log("[RealtimeNotifications] Connected to notification channel")}),F.error(_=>{console.error("[RealtimeNotifications] Channel error:",_),V.value=_.message||"Connection error",J.value=!1,m()}),!0}catch(g){return console.error("[RealtimeNotifications] Connection failed:",g),V.value=g.message||"Failed to connect",J.value=!1,!1}},o=()=>{var c;if(F)try{window.Echo.leave(`user.${(c=t.user)==null?void 0:c.id}`),F=null,J.value=!1,console.log("[RealtimeNotifications] Disconnected from notification channel")}catch(g){console.error("[RealtimeNotifications] Disconnect error:",g)}},y=c=>{try{if(I.value.some(_=>_.id===c.id)||Z.has(c.id))return;if(Z.add(c.id),I.value.unshift(c),!c.read){const _=j.value||0;j.value=_+1,$(j.value)}b&&typeof b=="function"&&b(c),Notification.permission==="granted"&&h(c),console.log("[RealtimeNotifications] Notification received:",c)}catch(g){console.error("[RealtimeNotifications] Error handling notification:",g)}},h=c=>{try{const g=new Notification(c.title,{body:c.message,icon:"/favicon.ico",badge:"/favicon.ico",tag:`notification-${c.id}`,data:c.data,requireInteraction:!1});g.onclick=()=>{var _;g.close(),(_=c.data)!=null&&_.url&&l.push(c.data.url)},setTimeout(()=>{g.close()},5e3)}catch(g){console.error("[RealtimeNotifications] Error showing browser notification:",g)}},m=()=>{if(W>=we){console.error("[RealtimeNotifications] Max reconnection attempts reached"),V.value="Failed to reconnect. Please refresh the page.";return}W++;const c=ct*W;console.log(`[RealtimeNotifications] Attempting to reconnect (${W}/${we}) in ${c}ms`),setTimeout(()=>{t.isAuthenticated&&f()},c)},$=c=>{j.value!==c&&(j.value=c,x&&typeof x=="function"&&x(c))},k=()=>{Z.clear()},q=c=>{const g=I.value.find(_=>_.id===c);g&&!g.read&&(g.read=!0,g.read_at=new Date().toISOString(),j.value>0&&j.value--)},A=c=>{const g=I.value.findIndex(_=>_.id===c);if(g!==-1){const _=I.value[g];I.value.splice(g,1),!_.read&&j.value>0&&j.value--}};return U(()=>t.isAuthenticated,c=>{c?f():(o(),I.value=[],j.value=0,Z.clear())},{immediate:!0}),oe(()=>{t.isAuthenticated&&f()}),ye(()=>{o()}),{notifications:I,unreadCount:j,isConnected:J,connectionError:V,connect:f,disconnect:o,updateUnreadCount:$,markAsRead:q,removeNotification:A,resetRealtimeTracking:k}}const ut={class:"flex items-center gap-2"},gt=["title"],ft={class:"max-h-[400px] overflow-y-auto"},pt={key:0,class:"p-8 text-center"},ht={key:1,class:"p-8 text-center"},yt=["onClick"],mt={class:"flex items-start gap-3"},vt={class:"flex-1 min-w-0"},xt={class:"flex items-start justify-between gap-2 mb-1"},bt={class:"flex items-center justify-between"},kt=1e4,_t={__name:"NotificationDropdown",setup(b){const x=re(),t=ve(),l=se(),f=M(!1),o=M([]),y=M(0),h=M(!1),m=M(null),{unreadCount:$,isConnected:k,markAsRead:q,updateUnreadCount:A,resetRealtimeTracking:c}=dt(d=>{o.value.some(a=>a.id===d.id)||(o.value.unshift(d),o.value.length>6&&(o.value=o.value.slice(0,6)),d.read)},d=>{y.value!==d&&(y.value=d)}),g=async()=>{var d;if(x.isAuthenticated){h.value=!0;try{const w=await ue.get("/api/v1/notifications?per_page=6&unread_only=false",x.config);if(w.data.status==="success"){const a=w.data.data.notifications||[],v=new Set(o.value.map(N=>N.id)),r=a.filter(N=>!v.has(N.id));o.value=[...r,...o.value].slice(0,6);const S=((d=w.data.data.pagination)==null?void 0:d.unread_count)||0;y.value=S,A(S),c()}}catch(w){console.error("Error fetching notifications:",w)}finally{h.value=!1}}};U($,d=>{d!=null&&d!==y.value&&(y.value=d)},{immediate:!0});const _=async(d,w)=>{w&&w.stopPropagation();const a=o.value.find(v=>v.id===d);a&&!a.read&&(a.read=!0,a.read_at=new Date().toISOString(),y.value>0&&y.value--,q(d));try{await ue.post(`/api/v1/notifications/${d}/read`,{},x.config)}catch(v){console.error("Error marking notification as read:",v),a&&(a.read=!1,a.read_at=null,y.value++)}},B=d=>{var w;d.read||_(d.id,{stopPropagation:()=>{}}),(w=d.data)!=null&&w.url&&(l.push(d.data.url),f.value=!1)},ne=()=>{f.value=!f.value,f.value&&!k.value&&g()},K=d=>{m.value&&!m.value.contains(d.target)&&(f.value=!1)},L=()=>{l.push("/notifications"),f.value=!1},ie=d=>({post_liked:"â¤ï¸",post_commented:"ðŸ’¬",comment_liked:"ðŸ‘",question_liked:"ðŸ‘",question_upvoted:"â¬†ï¸",question_answered:"ðŸ’¡",answer_upvoted:"â¬†ï¸",answer_replied:"ðŸ’¬",answer_accepted:"âœ…",mentioned:"ðŸ””",followed:"ðŸ‘¤"})[d]||"ðŸ””",le=d=>({post_liked:t.isDark?"bg-red-900/30 text-red-400":"bg-red-100 text-red-600",post_commented:t.isDark?"bg-blue-900/30 text-blue-400":"bg-blue-100 text-blue-600",comment_liked:t.isDark?"bg-yellow-900/30 text-yellow-400":"bg-yellow-100 text-yellow-600",question_liked:t.isDark?"bg-green-900/30 text-green-400":"bg-green-100 text-green-600",question_upvoted:t.isDark?"bg-purple-900/30 text-purple-400":"bg-purple-100 text-purple-600",question_answered:t.isDark?"bg-indigo-900/30 text-indigo-400":"bg-indigo-100 text-indigo-600",answer_upvoted:t.isDark?"bg-purple-900/30 text-purple-400":"bg-purple-100 text-purple-600",answer_replied:t.isDark?"bg-blue-900/30 text-blue-400":"bg-blue-100 text-blue-600",answer_accepted:t.isDark?"bg-green-900/30 text-green-400":"bg-green-100 text-green-600",mentioned:t.isDark?"bg-orange-900/30 text-orange-400":"bg-orange-100 text-orange-600",followed:t.isDark?"bg-pink-900/30 text-pink-400":"bg-pink-100 text-pink-600"})[d]||(t.isDark?"bg-gray-800 text-gray-400":"bg-gray-100 text-gray-600"),ce=d=>{const w=new Date(d),v=new Date-w,r=Math.floor(v/1e3),S=Math.floor(r/60),N=Math.floor(S/60),H=Math.floor(N/24);return H>0?`${H}d ago`:N>0?`${N}h ago`:S>0?`${S}m ago`:"Just now"};let z=null;const Y=(d=!1)=>{z||!x.isAuthenticated||(d&&g(),z=setInterval(()=>{g()},kt))},O=()=>{z&&(clearInterval(z),z=null)};return U(k,d=>{d?O():Y(!0)}),oe(()=>{x.isAuthenticated&&(g(),k.value||Y()),document.addEventListener("click",K)}),ye(()=>{O(),document.removeEventListener("click",K)}),(d,w)=>e(x).isAuthenticated?(n(),u("div",{key:0,ref_key:"dropdownRef",ref:m,class:"relative"},[p(e(T),{variant:"ghost",size:"icon",onClick:ne,class:"relative hover:bg-transparent hover:bg-gradient-to-r hover:from-primary/10 hover:to-secondary/10 transition-all duration-300 text-gray-700 dark:text-gray-300 dark:hover:text-white"},{default:C(()=>[p(e(xe),{class:"h-5 w-5"}),y.value>0?(n(),u("span",{key:0,class:i(["absolute -top-1 -right-1 h-5 w-5 rounded-full flex items-center justify-center text-xs font-bold text-white",e(t).isDark?"bg-red-600":"bg-red-500"])},D(y.value>9?"9+":y.value),3)):R("",!0)]),_:1}),p(te,{name:"dropdown"},{default:C(()=>[f.value?(n(),u("div",{key:0,class:i(["absolute left-0 right-0 translate-x-[-62%] md:left-auto md:right-0 md:translate-x-0 mt-2 w-96 max-h-[500px] rounded-xl shadow-2xl border backdrop-blur-xl overflow-hidden z-50",[e(t).isDark?"bg-gray-900/95 border-gray-800":"bg-white/95 border-gray-200"]])},[s("div",{class:i(["flex items-center justify-between px-4 py-2 border-b",[e(t).isDark?"border-gray-800":"border-gray-200"]])},[s("div",ut,[s("h3",{class:i(["font-semibold text-lg",[e(t).isDark?"text-white":"text-gray-900"]])}," Notifications ",2),s("div",{class:"flex items-center gap-1",title:e(k)?"Real-time connected":"Real-time disconnected"},[e(k)?(n(),E(e(rt),{key:0,class:i(["h-3 w-3",e(t).isDark?"text-green-400":"text-green-600"])},null,8,["class"])):(n(),E(e(at),{key:1,class:i(["h-3 w-3",e(t).isDark?"text-gray-500":"text-gray-400"])},null,8,["class"]))],8,gt)]),p(e(T),{variant:"ghost",size:"icon",onClick:w[0]||(w[0]=a=>f.value=!1),class:"h-8 w-8"},{default:C(()=>[p(e(ee),{class:"h-4 w-4"})]),_:1})],2),s("div",ft,[h.value?(n(),u("div",pt,[s("div",{class:i(["animate-spin rounded-full h-8 w-8 border-b-2 mx-auto mb-2",[e(t).isDark?"border-white":"border-gray-900"]])},null,2),s("p",{class:i(["text-sm",[e(t).isDark?"text-gray-400":"text-gray-600"]])},"Loading...",2)])):o.value.length===0?(n(),u("div",ht,[p(e(xe),{class:i(["h-12 w-12 mx-auto mb-3 opacity-50",[e(t).isDark?"text-gray-600":"text-gray-400"]])},null,8,["class"]),s("p",{class:i(["text-sm font-medium mb-1",[e(t).isDark?"text-white":"text-gray-900"]])},"No notifications",2),s("p",{class:i(["text-xs",[(e(t).isDark,"text-gray-500")]])},"You're all caught up!",2)])):(n(),u("div",{key:2,class:i(["divide-y",[e(t).isDark?"divide-gray-800":"divide-gray-100"]])},[(n(!0),u(Q,null,X(o.value,a=>(n(),u("div",{key:a.id,onClick:v=>B(a),class:i(["px-4 py-3 cursor-pointer transition-colors relative group",[a.read?e(t).isDark?"hover:bg-gray-800/50":"hover:bg-gray-50":e(t).isDark?"bg-blue-900/10 hover:bg-blue-900/20":"bg-blue-50/50 hover:bg-blue-50"]])},[a.read?R("",!0):(n(),u("div",{key:0,class:i(["absolute left-0 top-0 bottom-0 w-1",(e(t).isDark,"bg-blue-500")])},null,2)),s("div",mt,[s("div",{class:i(["flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center text-lg",le(a.type)])},D(ie(a.type)),3),s("div",vt,[s("div",xt,[s("p",{class:i(["text-sm font-medium line-clamp-2",[e(t).isDark?"text-white":"text-gray-900"]])},D(a.title),3),a.read?R("",!0):(n(),E(e(T),{key:0,variant:"ghost",size:"icon",onClick:Re(v=>_(a.id,v),["stop"]),class:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0"},{default:C(()=>[p(e(Ue),{class:"h-3 w-3"})]),_:1},8,["onClick"]))]),s("p",{class:i(["text-xs mb-2 line-clamp-2",[e(t).isDark?"text-gray-400":"text-gray-600"]])},D(a.message),3),s("div",bt,[s("span",{class:i(["text-xs",[(e(t).isDark,"text-gray-500")]])},D(ce(a.created_at)),3),a.notifiable?(n(),u("span",{key:0,class:i(["text-xs font-medium",[e(t).isDark?"text-gray-400":"text-gray-600"]])}," @"+D(a.notifiable.username),3)):R("",!0)])])])],10,yt))),128))],2))]),o.value.length>0?(n(),u("div",{key:0,class:i(["px-4 py-2 border-t",[e(t).isDark?"border-gray-800 bg-gray-900/50":"border-gray-200 bg-gray-50/50"]])},[p(e(T),{variant:"ghost",class:"w-full justify-center text-sm",onClick:L},{default:C(()=>[...w[1]||(w[1]=[G(" View All Notifications ",-1)])]),_:1})],2)):R("",!0)],2)):R("",!0)]),_:1})],512)):R("",!0)}},wt=me(_t,[["__scopeId","data-v-f20d4a06"]]),De="recent_searches",Ce=5;function Dt(){const b=M([]),x=()=>{try{const h=localStorage.getItem(De);h?b.value=JSON.parse(h):b.value=[]}catch(h){console.error("Error loading recent searches:",h),b.value=[]}},t=()=>{try{localStorage.setItem(De,JSON.stringify(b.value))}catch(h){console.error("Error saving recent searches:",h)}};return x(),{recentSearches:b,addRecentSearch:h=>{if(!h||h.trim().length<3)return;const m=h.trim();b.value=b.value.filter($=>$.query.toLowerCase()!==m.toLowerCase()),b.value.unshift({query:m,timestamp:Date.now()}),b.value.length>Ce&&(b.value=b.value.slice(0,Ce)),t()},removeRecentSearch:h=>{b.value=b.value.filter(m=>m.query.toLowerCase()!==h.toLowerCase()),t()},clearRecentSearches:()=>{b.value=[],t()},getTimeAgo:h=>{const $=Date.now()-h,k=Math.floor($/1e3),q=Math.floor(k/60),A=Math.floor(q/60),c=Math.floor(A/24);return c>0?`${c}d ago`:A>0?`${A}h ago`:q>0?`${q}m ago`:"Just now"},loadRecentSearches:x}}const Ct={class:"flex items-center gap-3 px-4 py-4"},St={class:"flex items-center gap-2"},Rt={key:0,class:"absolute top-full left-0 right-0 mt-1 max-h-[70vh] lg:max-h-96 overflow-y-auto rounded-xl shadow-xl border backdrop-blur-xl transition-all duration-200 z-50 bg-white/95 border-gray-200 dark:bg-gray-900/95 dark:border-gray-800"},$t={key:0,class:"pt-2"},Nt={class:"flex items-center gap-2"},Mt=["onClick"],qt={class:"flex-1 min-w-0"},Et=["onClick"],At={key:1,class:"p-8 text-center"},jt={key:2,class:"pt-2"},Tt={class:"px-3 py-2 text-xs font-semibold uppercase tracking-wider flex items-center justify-between text-gray-400 dark:text-gray-500"},Lt={key:0,class:"text-xs normal-case font-normal"},It=["onClick"],zt={class:"flex-1 min-w-0"},Pt={class:"flex items-center gap-2 mb-1"},Bt={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},Ot={key:1,class:"text-xs text-gray-500 dark:text-gray-400"},Vt={key:0},Ft={key:1},Ut={key:2},Kt={key:3},Ht={class:"px-4 py-3 border-t border-gray-200 dark:border-gray-800"},Jt={key:3,class:"p-8 text-center"},Wt={__name:"SearchDropdown",setup(b){const x=se(),t=re(),l=ve(),{showSearch:f,searchQuery:o}=He(),y=M([]),h=M(0),m=M(!1),$=M(!1),k=M(null),q=M(null),A=M(null),{recentSearches:c,addRecentSearch:g,removeRecentSearch:_,clearRecentSearches:B,getTimeAgo:ne}=Dt(),K=Je(async a=>{var v,r;if(a.length<3){y.value=[];return}$.value=!0;try{const S=await ue.get(`/api/v1/search?q=${encodeURIComponent(a)}&include_trending=false&include_recommended=false&limit=10`,t.config);if(S.data.status==="success"&&S.data.data){const N=S.data.data,H=[...(N.posts||[]).map(P=>({...P,icon:ke})),...(N.questions||[]).map(P=>({...P,icon:Ge})),...(N.users||[]).map(P=>({...P,icon:Qe})),...(N.projects||[]).map(P=>({...P,icon:Xe}))];y.value=H.slice(0,10),h.value=((v=N.meta)==null?void 0:v.total_results)||0,m.value=((r=N.meta)==null?void 0:r.has_more)||H.length>10}else y.value=[],h.value=0,m.value=!1}catch(S){console.error("Search error:",S),y.value=[],h.value=0,m.value=!1}finally{$.value=!1}},500);U(o,a=>{a.length>=3?K(a):y.value=[]});const L=()=>{f.value=!1,o.value="",y.value=[],h.value=0,m.value=!1},ie=()=>{o.value.length>=3&&(g(o.value),x.push({name:"search-results",query:{q:o.value}}),L())},le=a=>{a.url?(x.push(a.url),o.value&&o.value.trim().length>=3&&g(o.value),L()):a.type==="user"&&a.username&&(x.push(`/@${a.username}`),o.value&&o.value.trim().length>=3&&g(o.value),L())},ce=a=>{o.value=a,K(a),g(a)},z=(a,v)=>{a.stopPropagation(),_(v)},Y=a=>{a.stopPropagation(),B()},O=a=>{a.key==="Escape"&&L()},d=a=>{(a.ctrlKey||a.metaKey)&&a.key==="k"&&(a.preventDefault(),f.value||(f.value=!0))};U(f,async a=>{var v,r;if(a){await Te();try{const S=(r=(v=q.value)==null?void 0:v.querySelector)==null?void 0:r.call(v,'input[type="text"]');S&&typeof S.focus=="function"&&S.focus()}catch(S){console.warn("Could not focus search input:",S)}document.addEventListener("keydown",O)}else document.removeEventListener("keydown",O)});const w=a=>{var r;const v=((r=A.value)==null?void 0:r.$el)||A.value;v&&typeof v.contains=="function"&&v.contains(a.target)||q.value&&typeof q.value.contains=="function"&&!q.value.contains(a.target)&&L()};return U(f,a=>{a?setTimeout(()=>{document.addEventListener("click",w)},100):document.removeEventListener("click",w)}),oe(()=>{document.addEventListener("keydown",d)}),ye(()=>{document.removeEventListener("click",w),document.removeEventListener("keydown",O),document.removeEventListener("keydown",d)}),(a,v)=>(n(),u("div",null,[p(e(T),{ref_key:"searchButtonRef",ref:A,variant:"ghost",size:"icon",onClick:v[0]||(v[0]=r=>f.value=!0),class:"relative overflow-hidden hover:bg-transparent hover:text-gray-700 hover:bg-gradient-to-r hover:from-primary/10 hover:to-secondary/10 transition-all duration-300 text-gray-700 dark:text-gray-300 dark:hover:text-white"},{default:C(()=>[p(e(de),{class:"h-5 w-5 rotate-0 scale-100 transition-all duration-300"}),v[2]||(v[2]=s("span",{class:"sr-only"},"Search",-1))]),_:1},512),(n(),E(Oe,{to:"body"},[p(te,{name:"fade"},{default:C(()=>[Le(s("div",{onClick:Re(L,["self"]),class:"fixed inset-0 z-50 flex items-start justify-center pt-20 px-4 bg-black/60 backdrop-blur-sm"},[s("div",{ref_key:"searchModalRef",ref:q,class:i(["relative w-full max-w-2xl transition-all duration-300 ease-out",e(f)?"opacity-100 scale-100":"opacity-0 scale-95"])},[s("div",{class:i(["relative rounded-2xl shadow-2xl border transition-all duration-300",[e(l).isDark?"bg-gray-900/95 border-gray-800":"bg-white/95 border-gray-200"]])},[s("div",Ct,[p(e(de),{class:i(["h-5 w-5 flex-shrink-0",[e(l).isDark?"text-gray-400":"text-gray-500"]])},null,8,["class"]),p(e(Ke),{ref_key:"searchInputRef",ref:k,modelValue:e(o),"onUpdate:modelValue":v[1]||(v[1]=r=>ze(o)?o.value=r:null),type:"text",placeholder:"Search posts, questions, projects, users...",class:i(["flex-1 border-0 bg-transparent text-base focus-visible:ring-0 focus-visible:ring-offset-0 placeholder:text-gray-400",[e(l).isDark?"text-white":"text-gray-900"]]),onKeydown:Ie(L,["escape"])},null,8,["modelValue","class"]),s("div",St,[p(e(T),{variant:"ghost",size:"icon",onClick:L,class:i(["h-8 w-8 rounded-lg transition-colors",e(l).isDark?"hover:bg-gray-800/70":"hover:bg-gray-100"])},{default:C(()=>[p(e(ee),{class:"h-4 w-4"})]),_:1},8,["class"])])]),p(te,{name:"slide-down"},{default:C(()=>[y.value.length>0||$.value||e(o).length===0&&e(c).length>0?(n(),u("div",Rt,[!$.value&&e(o).length===0&&e(c).length>0?(n(),u("div",$t,[s("div",{class:i(["px-3 py-2 text-xs font-semibold uppercase tracking-wider flex items-center justify-between",[e(l).isDark?"text-gray-400":"text-gray-500"]])},[s("div",Nt,[p(e(be),{class:"h-3.5 w-3.5"}),v[3]||(v[3]=s("span",null,"Recent Searches",-1))]),s("button",{onClick:Y,class:i(["text-xs normal-case font-normal hover:underline transition-colors",[e(l).isDark?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"]])}," Clear all ",2)],2),(n(!0),u(Q,null,X(e(c),(r,S)=>(n(),u("div",{key:`recent-${r.query}-${r.timestamp}`,onClick:N=>ce(r.query),class:i(["flex items-center gap-3 px-4 py-3 cursor-pointer transition-colors duration-150 border-b last:border-b-0 group",[e(l).isDark?"border-gray-800 hover:bg-gray-800/70 hover:border-gray-700":"border-gray-100 hover:bg-gray-100"]])},[s("div",{class:i(["flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center transition-colors",[e(l).isDark?"bg-gray-800/50 text-gray-400":"bg-gray-100 text-gray-500"]])},[p(e(be),{class:"h-5 w-5"})],2),s("div",qt,[s("p",{class:i(["text-sm font-medium truncate",[e(l).isDark?"text-white":"text-gray-900"]])},D(r.query),3),s("p",{class:i(["text-xs mt-0.5",[e(l).isDark?"text-gray-500":"text-gray-400"]])},D(e(ne)(r.timestamp)),3)]),s("button",{onClick:N=>z(N,r.query),class:i(["flex-shrink-0 p-1.5 rounded-lg opacity-0 group-hover:opacity-100 transition-all duration-200",[e(l).isDark?"hover:bg-gray-700 text-gray-400 hover:text-gray-300":"hover:bg-gray-200 text-gray-400 hover:text-gray-600"]]),title:"Remove from recent searches"},[p(e(ee),{class:"h-4 w-4"})],10,Et)],10,Mt))),128))])):$.value?(n(),u("div",At,[p(e(We),{class:i(["h-6 w-6 animate-spin mx-auto mb-2",[e(l).isDark?"text-gray-400":"text-gray-500"]])},null,8,["class"]),s("p",{class:i(["text-sm",[e(l).isDark?"text-gray-400":"text-gray-500"]])},"Searching...",2)])):y.value.length>0?(n(),u("div",jt,[s("div",Tt,[s("span",null,"Results ("+D(h.value>0?h.value:y.value.length)+")",1),y.value.length<h.value?(n(),u("span",Lt," Showing "+D(y.value.length)+" of "+D(h.value),1)):R("",!0)]),(n(!0),u(Q,null,X(y.value,(r,S)=>(n(),u("div",{key:`${r.type}-${r.id||r.username||S}`,onClick:N=>le(r),class:i(["flex items-center gap-3 px-4 py-3 cursor-pointer transition-colors duration-150 border-b last:border-b-0",[e(l).isDark?"border-gray-800 hover:bg-gray-800/70 hover:border-gray-700":"border-gray-100 hover:bg-gray-100"]])},[s("div",{class:i(["flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center transition-colors",[r.type==="post"?e(l).isDark?"bg-blue-900/30 text-blue-400":"bg-blue-100 text-blue-600":r.type==="question"?e(l).isDark?"bg-green-900/30 text-green-400":"bg-green-100 text-green-600":r.type==="project"?e(l).isDark?"bg-purple-900/30 text-purple-400":"bg-purple-100 text-purple-600":e(l).isDark?"bg-orange-900/30 text-orange-400":"bg-orange-100 text-orange-600"]])},[(n(),E(Pe(r.icon||e(ke)),{class:"h-5 w-5"}))],2),s("div",zt,[s("div",Pt,[s("span",{class:i(["text-xs font-medium px-2 py-0.5 rounded capitalize transition-colors",[r.type==="post"?e(l).isDark?"bg-blue-900/30 text-blue-400":"bg-blue-100 text-blue-600":r.type==="question"?e(l).isDark?"bg-green-900/30 text-green-400":"bg-green-100 text-green-600":r.type==="project"?e(l).isDark?"bg-purple-900/30 text-purple-400":"bg-purple-100 text-purple-600":e(l).isDark?"bg-orange-900/30 text-orange-400":"bg-orange-100 text-orange-600"]])},D(r.type),3),r.author&&typeof r.author=="object"&&r.author.username?(n(),u("span",Bt," @"+D(r.author.username),1)):r.author&&typeof r.author=="string"?(n(),u("span",Ot," @"+D(r.author),1)):R("",!0)]),s("p",{class:i(["text-sm font-medium truncate",[e(l).isDark?"text-white":"text-gray-900"]])},D(r.title||r.name||r.username),3),r.content||r.description?(n(),u("p",{key:0,class:i(["text-xs mt-1 line-clamp-1",[e(l).isDark?"text-gray-400":"text-gray-500"]])},D(r.content||r.description),3)):R("",!0),r.stats?(n(),u("div",{key:1,class:i(["flex items-center gap-3 mt-1 text-xs",[e(l).isDark?"text-gray-500":"text-gray-400"]])},[r.stats.likes!==void 0?(n(),u("span",Vt," â¤ï¸ "+D(r.stats.likes),1)):R("",!0),r.stats.comments!==void 0?(n(),u("span",Ft," ðŸ’¬ "+D(r.stats.comments),1)):R("",!0),r.stats.answers!==void 0?(n(),u("span",Ut," ðŸ’¡ "+D(r.stats.answers),1)):R("",!0),r.stats.views!==void 0?(n(),u("span",Kt," ðŸ‘ï¸ "+D(r.stats.views),1)):R("",!0)],2)):R("",!0)]),p(e(_e),{class:i(["h-4 w-4 flex-shrink-0",[e(l).isDark?"text-gray-500":"text-gray-400"]])},null,8,["class"])],10,It))),128)),s("div",Ht,[p(e(T),{onClick:ie,variant:"outline",class:i(["w-full justify-center",[e(l).isDark?"hover:bg-gray-800":"hover:bg-gray-100"]])},{default:C(()=>[G(" View All Results ("+D(h.value)+") ",1),p(e(_e),{class:"h-4 w-4 ml-2"})]),_:1},8,["class"])])])):!$.value&&e(o).length>=3?(n(),u("div",Jt,[p(e(de),{class:i(["h-8 w-8 mx-auto mb-2",[e(l).isDark?"text-gray-600":"text-gray-400"]])},null,8,["class"]),s("p",{class:i(["text-sm font-medium mb-1",[e(l).isDark?"text-gray-300":"text-gray-700"]])},"No results found",2),s("p",{class:i(["text-xs",[(e(l).isDark,"text-gray-500")]])},"Try different keywords",2)])):R("",!0)])):R("",!0)]),_:1}),e(o).length>0&&e(o).length<3?(n(),u("div",{key:0,class:i(["px-4 py-2 text-xs border-t",[e(l).isDark?"text-gray-400 border-gray-800 bg-gray-900/50":"text-gray-500 border-gray-200 bg-gray-50"]])}," Type at least 3 characters to search ",2)):R("",!0)],2)],2)],512),[[Be,e(f)]])]),_:1})]))]))}},Gt=me(Wt,[["__scopeId","data-v-30543133"]]),Qt={class:"container mx-auto px-4"},Xt={class:"flex h-16 items-center justify-between"},Yt={class:"flex items-center"},Zt={class:"hidden lg:flex items-center space-x-1"},ea={key:0,class:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-6 h-0.5 bg-gradient-to-r from-primary to-primary/80 rounded-full"},ta={class:"flex items-center lg:space-x-3"},aa={key:0,class:"w-8 h-8 rounded-full bg-gradient-to-r from-primary to-primary/80 flex items-center justify-center leading-none text-white text-sm font-bold"},ra=["src"],sa={class:"space-y-2 px-4 py-2 grid grid-cols-3"},oa=Object.assign({name:"Navbar"},{__name:"Navbar",setup(b){const x=se(),t=Ve(),l=M(!1),f=re(),o=ve(),y=ae(()=>[{name:"Home",href:"/",current:t.path==="/"},{name:"About",href:"/about",current:t.path==="/about"},{name:"Projects",href:"/projects",current:t.path==="/projects"},{name:"Feed",href:"/feed",current:t.path==="/feed"},{name:"QNA",href:"/qna",current:t.path==="/qna"},{name:"Contact",href:"/contact",current:t.path==="/contact"}]);return oe(()=>{o.initTheme()}),(h,m)=>{const $=Fe("router-link");return n(),u("div",null,[s("nav",{class:i(["sticky top-0 z-50 w-full backdrop-blur-xl transition-all duration-300 border-b",e(o).isDark?"bg-gray-950/90 border-gray-800":"bg-white/90 border-gray-200"])},[s("div",{class:i(["absolute inset-0 -z-10",["transition-all duration-500",e(o).isDark?"bg-gradient-to-r from-gray-950/95 via-gray-900/90 to-gray-950/95":"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95"]])},null,2),s("div",Qt,[s("div",Xt,[s("div",Yt,[p($,{to:"/",class:"group flex items-center space-x-3 transition-all duration-300"},{default:C(()=>[...m[5]||(m[5]=[s("div",{class:"relative"},[s("img",{src:"/assets/front/logo/logo.png",class:"relative h-10 w-auto rounded-lg",alt:"LaraVue Logo"})],-1),s("div",{class:""},[s("span",{class:"text-xl mb-0 font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent"}," LaraVue "),s("div",{class:"text-xs text-muted-foreground font-medium"},"Community")],-1)])]),_:1})]),s("div",Zt,[p(e(nt),null,{default:C(()=>[p(e(lt),{class:"space-x-1"},{default:C(()=>[(n(!0),u(Q,null,X(y.value,k=>(n(),E(e(it),{key:k.name},{default:C(()=>[p($,{to:k.href,class:i(["relative px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300","text-gray-700 dark:text-gray-300 dark:hover:text-white hover:bg-gradient-to-r hover:from-primary/10 hover:to-secondary/10","focus:outline-none focus:ring-2 focus:ring-primary/20",k.current?"bg-gradient-to-r from-primary/10 to-secondary/10 shadow-lg dark:text-white text-gray-900":"text-gray-700 dark:text-gray-300 dark:hover:text-white hover:bg-gradient-to-r hover:from-primary/10 hover:to-secondary/10"])},{default:C(()=>[G(D(k.name)+" ",1),k.current?(n(),u("div",ea)):R("",!0)]),_:2},1032,["to","class"])]),_:2},1024))),128))]),_:1})]),_:1})]),s("div",ta,[p(Gt),p(e(T),{variant:"ghost",size:"icon",onClick:m[0]||(m[0]=k=>e(o).toggleTheme()),class:"relative hover:bg-transparent hover:bg-gradient-to-r hover:from-primary/10 hover:to-secondary/10 transition-all duration-300 text-gray-700 dark:text-gray-300 dark:hover:text-white",title:e(o).isDark?"Switch to Light Mode":"Switch to Dark Mode"},{default:C(()=>[e(o).isDark?(n(),E(e(Ye),{key:0,class:"h-5 w-5"})):(n(),E(e(Ze),{key:1,class:"h-5 w-5"}))]),_:1},8,["title"]),e(f).isAuthenticated?(n(),E(wt,{key:0})):R("",!0),e(f).isAuthenticated?(n(),E(e(T),{key:1,variant:"ghost",onClick:m[1]||(m[1]=k=>e(x).push("/dashboard")),class:"flex items-center space-x-2 !px-2 hover:bg-gray-100 dark:hover:bg-gradient-to-r dark:hover:from-primary/10 dark:hover:to-secondary/10 transition-all duration-300 text-gray-700 dark:text-gray-300"},{default:C(()=>{var k,q,A,c,g,_,B;return[(q=(k=e(f))==null?void 0:k.user)!=null&&q.profile_photo?(n(),u("img",{key:1,src:(B=(_=e(f))==null?void 0:_.user)==null?void 0:B.profile_photo,alt:"Profile Photo",class:"w-8 h-8 rounded-full object-cover"},null,8,ra)):(n(),u("div",aa,D((g=(c=(A=e(f))==null?void 0:A.user)==null?void 0:c.username)==null?void 0:g.charAt(0).toUpperCase()),1))]}),_:1})):(n(),E(e(T),{key:2,onClick:m[2]||(m[2]=k=>e(x).push("/login")),class:"bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 text-white shadow-lg hover:shadow-xl transition-all duration-300"},{default:C(()=>[p(e(et),{class:"mr-50"}),m[6]||(m[6]=G(" Sign In ",-1))]),_:1})),p(e(T),{variant:"ghost",size:"icon",class:"lg:hidden hover:bg-gray-100 dark:hover:bg-gradient-to-r dark:hover:from-primary/10 dark:hover:to-secondary/10 transition-all duration-300 text-gray-700 dark:text-gray-300",onClick:m[3]||(m[3]=k=>l.value=!l.value)},{default:C(()=>[l.value?(n(),E(e(ee),{key:1,class:"h-6 w-6"})):(n(),E(e(tt),{key:0,class:"h-6 w-6"})),m[7]||(m[7]=s("span",{class:"sr-only"},"Toggle menu",-1))]),_:1})])])]),p(te,{name:"fade"},{default:C(()=>[l.value?(n(),u("div",{key:0,class:i(["lg:hidden backdrop-blur-xl border-t transition-all duration-300",[e(o).isDark?"bg-gray-950/95 border-gray-800":"bg-white/95 border-gray-200"]])},[s("div",{class:i(["absolute inset-0 -z-10",["transition-all duration-500",e(o).isDark?"bg-gradient-to-br from-gray-950/95 via-vue/15 to-gray-950/95":"bg-gradient-to-br from-white/95 via-vue/25 to-white/95"]])},null,2),s("div",sa,[(n(!0),u(Q,null,X(y.value,k=>(n(),E($,{key:k.name,to:k.href,class:i(["flex items-center justify-center lg:justify-start px-4 py-3 rounded-lg text-base font-medium transition-all duration-300",[k.current?"text-foreground bg-gradient-to-r from-primary/10 to-secondary/10 shadow-lg":"text-muted-foreground hover:text-foreground hover:bg-gradient-to-r hover:from-primary/10 hover:to-secondary/10"]]),onClick:m[4]||(m[4]=q=>l.value=!1)},{default:C(()=>[G(D(k.name),1)]),_:2},1032,["to","class"]))),128))])],2)):R("",!0)]),_:1})],2)])}}}),ka=me(oa,[["__scopeId","data-v-7a91f224"]]);export{ka as default};
//# sourceMappingURL=Navbar-CUi5ztFK.js.map
