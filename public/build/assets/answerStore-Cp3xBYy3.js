import{aT as h,p as i,a as u,av as c,aU as v}from"./app-Bvnl7d0n.js";const x=h("answer",()=>{const l=i(!1),r=i(null),a=i([]),d=u(()=>a.value),f=u(()=>a.value.filter(s=>s.is_verified)),p=u(()=>a.value.filter(s=>s.is_ai_generated)),A=u(()=>a.value.filter(s=>!s.is_ai_generated));return{loading:l,error:r,answers:a,allAnswers:d,verifiedAnswers:f,aiAnswers:p,userAnswers:A,submitAnswer:async s=>{var n,t;try{l.value=!0,r.value=null;const o=(await c.post(v.answers.create(),s)).data.data;return a.value.push(o),o}catch(e){throw r.value=((t=(n=e.response)==null?void 0:n.data)==null?void 0:t.message)||"Failed to submit answer",e}finally{l.value=!1}},verifyAnswer:async s=>{var n,t;try{l.value=!0,r.value=null;const o=(await c.post(v.answers.verify(),{answer_id:s})).data.data,w=a.value.findIndex(y=>y.id===s);return w!==-1&&(a.value[w]=o),o}catch(e){throw r.value=((t=(n=e.response)==null?void 0:n.data)==null?void 0:t.message)||"Failed to verify answer",e}finally{l.value=!1}},fetchAnswersForQuestion:async s=>{var n,t;try{l.value=!0,r.value=null;const e=await c.get(v.answers.listForQuestion(s));return a.value=e.data.data,e.data.data}catch(e){throw r.value=((t=(n=e.response)==null?void 0:n.data)==null?void 0:t.message)||"Failed to fetch answers",e}finally{l.value=!1}},clearAnswers:()=>{a.value=[],r.value=null}}});export{x as u};
//# sourceMappingURL=answerStore-Cp3xBYy3.js.map
