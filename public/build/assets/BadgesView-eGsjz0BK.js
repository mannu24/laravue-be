import{_ as A,b as s,o as a,x as h,F as b,E as v,f as k,d as u,w as B,u as x,as as E,p as C,a as p,q as L,D as i,K as N,k as P,ay as q,z as S,A as V}from"./app-Bvnl7d0n.js";import{a as G,S as I}from"./swiper-vue-GW-VL4YY.js";import"./swiper-D25FrulS.js";import{_ as $}from"./BadgeItem-C0HVxmUN.js";import{_ as M}from"./EmptyState-DVLWfdwK.js";/* empty css                                                                  */import{L as R}from"./LoadingSpinner-ekVe37eh.js";import"./Card-hOl-Usuy.js";import"./folder-open-BnUa1mLa.js";import"./activity-BXHlTU9J.js";import"./bookmark-Afub3nbE.js";import"./code-xml-5bxqMtxa.js";import"./file-text-CMcMhd5a.js";import"./search-5LIDw_UH.js";const T={key:0,class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-2 xl:grid-cols-3 gap-4"},K={key:1,class:"badge-swiper-container"},Q={key:2,class:"col-span-full"},U={__name:"BadgeList",props:{badges:{type:Array,default:()=>[]},ui:{type:String,default:"grid"}},emits:["view-badge"],setup(c,{emit:f}){const d=f,r=g=>{d("view-badge",g.slug)},o=[];return(g,_)=>(a(),s("div",null,[c.ui==="grid"?(a(),s("div",T,[(a(!0),s(b,null,v(c.badges,n=>(a(),k($,{key:n.id,badge:n,onClick:r,"data-test":"badge-item"},null,8,["badge"]))),128))])):c.ui==="list"?(a(),s("div",K,[u(x(I),{modules:o,"slides-per-view":"auto","space-between":10,"free-mode":!0,"grab-cursor":!0,breakpoints:{320:{slidesPerView:"auto",spaceBetween:16},640:{slidesPerView:"auto",spaceBetween:16},1024:{slidesPerView:"auto",spaceBetween:16}},class:"badge-swiper"},{default:B(()=>[(a(!0),s(b,null,v(c.badges,n=>(a(),k(x(G),{key:n.id,class:"!w-[250px]"},{default:B(()=>[u($,{badge:n,onClick:r,"data-test":"badge-item"},null,8,["badge"])]),_:2},1024))),128))]),_:1})])):h("",!0),c.badges.length===0?(a(),s("div",Q,[u(M,{icon:"Activity",title:"No badges collected yet",subtitle:"Collect badges to earn XP and level up!",size:"default"})])):h("",!0)]))}},X=A(U,[["__scopeId","data-v-e1d3eeec"]]),j={class:"mx-auto py-5 max-w-6xl"},H={class:"mb-6 flex flex-col lg:flex-row gap-3"},J={class:"flex items-center gap-2"},O=["onClick"],W={class:"flex items-center gap-2"},Y={class:"flex flex-row gap-2 overflow-x-auto"},Z=["onClick"],ee={key:0,class:"relative z-10 text-center py-12"},te={key:1,class:"relative z-10"},ve={__name:"BadgesView",setup(c){const f=P(),d=E(),r=C("all"),o=C("all"),g=[{id:"all",label:"All"},{id:"earned",label:"Earned"},{id:"unearned",label:"Unearned"}],_=[{id:"all",label:"All"},{id:"quality",label:"Quality"},{id:"contribution",label:"Contribution"},{id:"rare",label:"Rare"},{id:"event",label:"Event"}],n=p(()=>d.allBadges),y=p(()=>d.earnedBadges),w=p(()=>new Set(y.value.map(e=>e.id))),D=p(()=>{let e=[...n.value];return r.value==="earned"?e=e.filter(t=>w.value.has(t.id)):r.value==="unearned"&&(e=e.filter(t=>!w.value.has(t.id))),o.value!=="all"&&(e=e.filter(t=>t.type===o.value)),e=e.map(t=>{var m;return{...t,awarded_at:w.value.has(t.id)?(m=y.value.find(l=>l.id===t.id))==null?void 0:m.awarded_at:null}}),e});L(async()=>{try{d.payload||await d.fetchGlobalData({force:!0})}catch(e){console.error("Error loading badges:",e)}});const F=e=>{f.push(`/badges/${e}`)};return(e,t)=>{const m=q("mask-scroll");return a(),s("div",j,[t[2]||(t[2]=i("div",{class:"mb-8"},[i("h1",{class:"text-4xl font-bold text-gray-900 dark:text-white"},"Badges"),i("p",{class:"mt-2 text-gray-600 dark:text-white/80"}," Collect badges by completing achievements and leveling up ")],-1)),i("div",H,[i("div",J,[t[0]||(t[0]=i("span",{class:"text-sm font-medium text-gray-700 dark:text-white/70"},"Status:",-1)),(a(),s(b,null,v(g,l=>i("button",{key:l.id,onClick:z=>r.value=l.id,class:S(["px-4 py-2 rounded-full text-sm font-medium transition-all duration-200",{"bg-blue-500 text-white shadow-lg shadow-blue-500/30":r.value===l.id,"bg-gray-200 dark:bg-gray-900 text-gray-700 dark:text-white/70 hover:bg-gray-300 dark:hover:bg-gray-800":r.value!==l.id}])},V(l.label),11,O)),64))]),i("div",W,[t[1]||(t[1]=i("span",{class:"text-sm font-medium text-gray-700 dark:text-white/70"},"Type:",-1)),N((a(),s("div",Y,[(a(),s(b,null,v(_,l=>i("button",{key:l.id,onClick:z=>o.value=l.id,class:S(["px-4 py-2 rounded-full text-sm font-medium transition-all duration-200",{"bg-purple-500 text-white shadow-lg shadow-purple-500/30":o.value===l.id,"bg-gray-200 dark:bg-gray-900 text-gray-700 dark:text-white/70 hover:bg-gray-300 dark:hover:bg-gray-800":o.value!==l.id}])},V(l.label),11,Z)),64))])),[[m]])])]),x(d).loading?(a(),s("div",ee,[u(R)])):(a(),s("div",te,[u(X,{badges:D.value,ui:"grid",onViewBadge:F},null,8,["badges"])]))])}}};export{ve as default};
//# sourceMappingURL=BadgesView-eGsjz0BK.js.map
