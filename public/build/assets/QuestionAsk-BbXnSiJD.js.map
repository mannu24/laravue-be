{"version":3,"file":"QuestionAsk-BbXnSiJD.js","sources":["../../../resources/js/views/QuestionAsk.vue"],"sourcesContent":["<template>\n    <div class=\"max-w-3xl mx-auto py-8 px-4\">\n        <BackNavigator :items=\"askQuestionBreadcrumbs\" />\n        <Card class=\"overflow-hidden\">\n            <CardHeader>\n                <CardTitle>Ask a Question</CardTitle>\n                <CardDescription>Get help from our community of experts</CardDescription>\n            </CardHeader>\n            <CardContent>\n                <form @submit.prevent=\"submitQuestion\" class=\"space-y-6\">\n                    <div class=\"space-y-2\">\n                        <Label for=\"title\">Question Title</Label>\n                        <Input v-model=\"newQuestion.title\" id=\"title\" type=\"text\"\n                            placeholder=\"e.g., How do I center a div in CSS?\" required />\n                        <p class=\"text-sm text-muted-foreground\">\n                            Be specific and imagine you're asking a question to another person.\n                        </p>\n                    </div>\n\n                    <div class=\"space-y-2\">\n                        <Label for=\"content\">Question Details</Label>\n                        <MarkDownEditor v-model=\"newQuestion.content\"\n                            placeholder=\"Provide more context about your question...\" :min-height=\"300\" />\n                        <p class=\"text-sm text-muted-foreground\">\n                            Include all the information someone would need to answer your question.\n                        </p>\n                    </div>\n\n                    <div class=\"space-y-2\">\n                        <Label>Tags</Label>\n                        <TagInput v-model=\"newQuestion.tags\" :max-tags=\"5\" placeholder=\"Add up to 5 tags\" />\n                        <p class=\"text-sm text-muted-foreground\">\n                            Add up to 5 tags to describe what your question is about.\n                        </p>\n                    </div>\n                </form>\n            </CardContent>\n            <CardFooter class=\"flex justify-between\">\n                <Button variant=\"outline\" @click=\"previewQuestion\">\n                    Preview\n                </Button>\n                <Button @click=\"submitQuestion\" :disabled=\"isSubmitting\">\n                    {{ isSubmitting ? 'Submitting...' : 'Post Your Question' }}\n                </Button>\n            </CardFooter>\n        </Card>\n\n        <QuestionPreviewModal v-if=\"showPreview\" :question=\"newQuestion\" @close=\"showPreview = false\" />\n    </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport axios from 'axios'\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent, CardFooter } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport QuestionPreviewModal from '../components/qna/QuestionPreviewModal.vue'\nimport TagInput from '../components/elements/TagInput.vue'\nimport MarkDownEditor from '../components/elements/MarkDownEditor.vue'\nimport { toast } from '../components/ui/toast'\nimport { useAuthStore } from '../stores/auth'\nimport BackNavigator from '../components/elements/BackNavigator.vue'\n\nconst authStore = useAuthStore();\nconst router = useRouter()\nconst isSubmitting = ref(false)\nconst showPreview = ref(false)\n\nconst askQuestionBreadcrumbs = [\n    { name: 'Questions', href: '/qna' },\n    { name: 'Ask', href: '/qna/ask' }\n]\n\nconst newQuestion = ref({\n    title: '',\n    content: '',\n    tags: [],\n    attachments: []\n})\n\nconst handleFileUpload = (files) => {\n    newQuestion.value.attachments = files\n}\n\nconst submitQuestion = async () => {\n    if (!validateForm()) return\n\n    try {\n        isSubmitting.value = true\n\n        const formData = new FormData()\n        formData.append(\"title\", newQuestion.value.title)\n        formData.append(\"content\", newQuestion.value.content)\n        newQuestion.value.tags.forEach((tag, index) => {\n            formData.append(\"tags[]\", tag)\n        });\n\n        // newQuestion.value.attachments.forEach((file, index) => {\n        //     formData.append(`attachment_${index}`, file)\n        // })\n\n        const response = await axios.post('/api/v1/questions', formData, {\n            headers: {\n                Authorization: `Bearer ${authStore.token}`,\n                'Content-Type': 'multipart/form-data'\n            }\n        })\n\n        router.push(`/qna/${response.data.data.slug}`)\n        toast({\n            description: \"Your question has been successfully posted.\"\n        });\n    } catch (error) {\n        console.error('Error submitting question:', error)\n        toast({\n            variant: 'destructive',\n            description: \"Failed to submit question. Please try again.\"\n        });\n    } finally {\n        isSubmitting.value = false\n    }\n}\n\nconst validateForm = () => {\n    if (newQuestion.value.title.length < 15) {\n        toast({\n            variant: 'destructive',\n            description: \"Title should be at least 15 characters long.\"\n        });\n        return false\n    }\n    if (newQuestion.value.content.length < 30) {\n        toast({\n            variant: 'destructive',\n            description: \"Question details should be at least 30 characters long.\"\n        })\n        return false\n    }\n    if (newQuestion.value.tags.length < 1) {\n        toast({\n            variant: 'destructive',\n            description: \"Atleast 1 Tag is required!\"\n        })\n        return false\n    }\n    return true\n}\n\nconst previewQuestion = () => {\n    if (validateForm()) {\n        showPreview.value = true\n    }\n}\n</script>"],"names":["authStore","useAuthStore","router","useRouter","isSubmitting","ref","showPreview","askQuestionBreadcrumbs","newQuestion","submitQuestion","validateForm","formData","tag","index","response","axios","toast","error","previewQuestion","_openBlock","_createElementBlock","_hoisted_1","_createVNode","BackNavigator","_unref","Card","CardHeader","CardTitle","_cache","CardDescription","CardContent","_createElementVNode","_hoisted_2","Label","Input","$event","_hoisted_3","MarkDownEditor","_hoisted_4","TagInput","CardFooter","Button","_createBlock","QuestionPreviewModal"],"mappings":"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"}