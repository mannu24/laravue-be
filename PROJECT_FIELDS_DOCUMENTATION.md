# Project Fields Documentation

## Overview
This document lists all fields that users can add when creating or updating a project in the application.

---

## Required Fields

### 1. **title**
- **Type**: String
- **Max Length**: 255 characters
- **Description**: The name/title of the project
- **Validation**: Required
- **Example**: "E-commerce Platform with Laravel"

### 2. **description**
- **Type**: Long Text
- **Min Length**: 10 characters
- **Description**: Detailed description of the project, its features, and purpose
- **Validation**: Required, minimum 10 characters
- **Example**: "A full-stack e-commerce platform built with Laravel and Vue.js..."

### 3. **project_type**
- **Type**: Enum
- **Options**: 
  - `open` - Open Source project
  - `closed` - Closed Source project
- **Description**: Whether the project is open source or closed source
- **Validation**: Required, must be either "open" or "closed"
- **Default**: `open`

### 4. **is_sellable**
- **Type**: Boolean
- **Description**: Whether the project is available for purchase
- **Validation**: Required (boolean)
- **Default**: `false`
- **Note**: If `true`, `original_price` and `selling_price` become required

---

## Optional Fields

### 5. **github_url**
- **Type**: URL String
- **Description**: Link to the GitHub repository
- **Validation**: Optional, must be valid URL if provided
- **Example**: "https://github.com/username/project-name"

### 6. **demo_url**
- **Type**: URL String
- **Description**: Link to live demo or preview of the project
- **Validation**: Optional, must be valid URL if provided
- **Example**: "https://demo.example.com"

### 7. **original_price**
- **Type**: Decimal (10, 2)
- **Description**: Original price of the project (before discount)
- **Validation**: 
  - Required if `is_sellable` is `true`
  - Must be numeric, minimum 0
- **Example**: `99.99`

### 8. **selling_price**
- **Type**: Decimal (10, 2)
- **Description**: Current selling price of the project
- **Validation**: 
  - Required if `is_sellable` is `true`
  - Must be numeric, minimum 0
  - Must be less than or equal to `original_price`
- **Example**: `79.99`

### 9. **technologies**
- **Type**: Array of Strings
- **Description**: List of technologies/frameworks used in the project
- **Validation**: 
  - Optional array
  - Each technology name max 50 characters
- **Example**: `["Laravel", "Vue.js", "MySQL", "Tailwind CSS"]`
- **Note**: Stored in `project_technologies` pivot table with `technologies` table

### 10. **featured_image**
- **Type**: Image File
- **Description**: Main image/thumbnail for the project
- **Validation**: 
  - Optional
  - Must be image file (jpeg, png, jpg, gif)
  - Maximum size: 2MB (2048 KB)
- **Storage**: Stored using Spatie MediaLibrary as 'featured_image' collection

---

## Auto-Generated Fields (Not User Input)

These fields are automatically generated by the system and cannot be set by users:

### **user_id**
- **Type**: Foreign Key (Integer)
- **Description**: ID of the user who created the project
- **Source**: Automatically set from authenticated user

### **slug**
- **Type**: String (500 chars, unique)
- **Description**: URL-friendly identifier for the project
- **Generation**: Auto-generated from `title` + random 10-character string
- **Format**: `{title-slug}-{random-string}`
- **Example**: `e-commerce-platform-x7k9m2n4p1`

### **views**
- **Type**: Integer
- **Description**: Number of times the project has been viewed
- **Default**: 0
- **Increment**: Automatically incremented when project is viewed

### **is_active**
- **Type**: Boolean
- **Description**: Whether the project is active/visible
- **Default**: `true`

### **created_at** / **updated_at**
- **Type**: Timestamp
- **Description**: Automatic timestamps

---

## Related Data (Not Direct Fields)

### **Technologies Relationship**
- **Table**: `project_technologies` (pivot table)
- **Relationship**: Many-to-Many with `technologies` table
- **How it works**: 
  - User provides array of technology names
  - System creates/finds technologies and links them to project
  - Technologies can be created on-the-fly if they don't exist

### **Featured Image (Media)**
- **Storage**: Spatie MediaLibrary
- **Collection**: `featured_image`
- **Access**: Available via `featured_image` accessor attribute
- **Returns**: Full URL to the image or `null`

---

## Field Summary Table

| Field | Type | Required | Conditional | Max/Min | Notes |
|-------|------|----------|-------------|---------|-------|
| `title` | string | ✅ Yes | - | Max: 255 | - |
| `description` | longText | ✅ Yes | - | Min: 10 | - |
| `project_type` | enum | ✅ Yes | - | `open`/`closed` | Default: `open` |
| `is_sellable` | boolean | ✅ Yes | - | - | Default: `false` |
| `github_url` | url | ❌ No | - | Valid URL | - |
| `demo_url` | url | ❌ No | - | Valid URL | - |
| `original_price` | decimal | ⚠️ Conditional | If `is_sellable=true` | Min: 0 | - |
| `selling_price` | decimal | ⚠️ Conditional | If `is_sellable=true` | Min: 0, ≤ original_price | - |
| `technologies` | array | ❌ No | - | Each item max: 50 | - |
| `featured_image` | image | ❌ No | - | Max: 2MB | jpeg/png/jpg/gif |

---

## Validation Rules Summary

### Create Project (`CreateProjectRequest`)
```php
'title'          => 'required|string|max:255'
'description'    => 'required|string|min:10'
'project_type'   => 'required|string|in:open,closed'
'github_url'     => 'nullable|url'
'demo_url'       => 'nullable|url'
'is_sellable'    => 'required|boolean'
'original_price' => 'nullable|numeric|min:0|required_if:is_sellable,true'
'selling_price'  => 'nullable|numeric|min:0|lte:original_price|required_if:is_sellable,true'
'technologies'   => 'nullable|array'
'technologies.*' => 'string|max:50'
'featured_image' => 'nullable|image|mimes:jpeg,png,jpg,gif|max:2048'
```

### Update Project (`UpdateProjectRequest`)
- Same as create, except `description` can be nullable
- All other rules remain the same

---

## Example Project Data Structure

```json
{
  "title": "E-commerce Platform",
  "description": "A modern e-commerce platform built with Laravel and Vue.js featuring real-time inventory management, payment integration, and admin dashboard.",
  "project_type": "open",
  "github_url": "https://github.com/user/ecommerce-platform",
  "demo_url": "https://demo.example.com",
  "is_sellable": true,
  "original_price": 99.99,
  "selling_price": 79.99,
  "technologies": ["Laravel", "Vue.js", "MySQL", "Tailwind CSS", "Stripe"],
  "featured_image": "<File: project-screenshot.png>"
}
```

---

## Database Schema Reference

### `projects` Table
```sql
- id (bigint, primary key)
- user_id (foreign key → users.id)
- title (string, 500)
- slug (string, 500, unique)
- description (longText)
- project_type (enum: 'open', 'closed')
- github_url (string, nullable)
- demo_url (string, nullable)
- is_sellable (boolean, nullable)
- original_price (decimal 10,2, nullable)
- selling_price (decimal 10,2, nullable)
- views (integer, default: 0)
- is_active (boolean, default: true)
- created_at (timestamp)
- updated_at (timestamp)
```

### `project_technologies` Table (Pivot)
```sql
- id (bigint, primary key)
- project_id (foreign key → projects.id)
- technology_id (foreign key → technologies.id)
- created_at (timestamp)
- updated_at (timestamp)
```

---

## Notes

1. **Slug Generation**: Automatically generated from title with random suffix to ensure uniqueness
2. **Technologies**: Can be created dynamically if they don't exist in the `technologies` table
3. **Media Storage**: Uses Spatie MediaLibrary for featured image storage
4. **Pricing**: If `is_sellable` is `true`, both price fields become required
5. **Views**: Automatically incremented when project detail page is viewed
6. **Project Type**: 
   - `open` = Open Source (publicly accessible code)
   - `closed` = Closed Source (proprietary/private code)

